2025-04-26 18:58:39 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_185839_standard_with_shorts
2025-04-26 18:58:39 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_185839_standard_with_shorts
2025-04-26 18:58:39 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_185839_standard_with_shorts/bond_portfolio.csv
2025-04-26 18:58:39 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:03:36 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_190336_standard_with_shorts
2025-04-26 19:03:36 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_190336_standard_with_shorts
2025-04-26 19:03:36 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_190336_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:03:36 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:03:44 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_190344_standard_with_shorts
2025-04-26 19:03:44 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_190344_standard_with_shorts
2025-04-26 19:03:44 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_190344_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:03:44 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:03:58 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_190344_standard_with_shorts/signals/signals.csv
2025-04-26 19:03:58 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:04:03 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_190344_standard_with_shorts/portfolio
2025-04-26 19:04:03 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:04:03 - PipelineExecutor - ERROR - Ошибка при создании портфеля с короткими позициями: name 'build_production_portfolio' is not defined
2025-04-26 19:04:03 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/executor.py", line 291, in create_short_portfolio
    portfolio_results = build_production_portfolio(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'build_production_portfolio' is not defined

2025-04-26 19:04:03 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-26 19:04:03 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_190344_standard_with_shorts/pipeline_summary.md
2025-04-26 19:04:03 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_190344_standard_with_shorts
2025-04-26 19:11:57 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_191157_standard_with_shorts
2025-04-26 19:11:57 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_191157_standard_with_shorts
2025-04-26 19:11:57 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191157_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:11:57 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:12:34 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_191234_standard_with_shorts
2025-04-26 19:12:34 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_191234_standard_with_shorts
2025-04-26 19:12:34 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:12:34 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:12:48 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/signals/signals.csv
2025-04-26 19:12:48 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:12:53 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/portfolio
2025-04-26 19:12:53 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:12:53 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-26 19:13:21 - PipelineExecutor - INFO - Результаты честного бэктеста:
2025-04-26 19:13:21 - PipelineExecutor - INFO - Доходность в тесте: -3.96%
2025-04-26 19:13:21 - PipelineExecutor - INFO - Шарп в тесте: -1.93
2025-04-26 19:13:21 - PipelineExecutor - WARNING - Низкий коэффициент Шарпа в тестовом периоде! Стратегия может быть неэффективна.
2025-04-26 19:13:21 - PipelineExecutor - INFO - Построение финального портфеля на всех данных с поддержкой коротких позиций
2025-04-26 19:13:36 - PipelineExecutor - INFO - Используется оптимизатор с поддержкой коротких позиций
2025-04-26 19:13:39 - PipelineExecutor - INFO - Итоговый отчет сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_summary.md
2025-04-26 19:13:39 - PipelineExecutor - INFO - Портфель с короткими позициями успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio
2025-04-26 19:13:39 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-26 19:13:39 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/pipeline_summary.md
2025-04-26 19:13:39 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts
2025-04-26 19:19:00 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_191900_standard_with_shorts
2025-04-26 19:19:00 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_191900_standard_with_shorts
2025-04-26 19:19:00 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:19:00 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:19:15 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/signals/signals.csv
2025-04-26 19:19:15 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:19:20 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/portfolio
2025-04-26 19:19:20 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:19:20 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-26 19:19:48 - PipelineExecutor - ERROR - Ошибка при построении портфеля: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure_error.png'
2025-04-26 19:19:48 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/backtester.py", line 765, in visualize_results
    plt.savefig(os.path.join(output_dir, 'portfolio_structure.png'))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/pyplot.py", line 1243, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/figure.py", line 3490, in savefig
    self.canvas.print_figure(fname, **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backend_bases.py", line 2184, in print_figure
    result = print_method(
        filename,
    ...<3 lines>...
        bbox_inches_restore=_bbox_inches_restore,
        **kwargs)
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backend_bases.py", line 2040, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
                                                                 ~~~~^
        *args, **{k: v for k, v in kwargs.items() if k not in skip}))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backends/backend_agg.py", line 481, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backends/backend_agg.py", line 430, in _print_pil
    mpl.image.imsave(
    ~~~~~~~~~~~~~~~~^
        filename_or_obj, self.buffer_rgba(), format=fmt, origin="upper",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        dpi=self.figure.dpi, metadata=metadata, pil_kwargs=pil_kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/image.py", line 1644, in imsave
    image.save(fname, **pil_kwargs)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "<string>", line 40, in build_production_portfolio
  File "/Users/aeshef/Documents/GitHub/kursach/pys/improved_pipeline/honest_backtest.py", line 202, in run
    test_results = backtester_obj.run_pipeline(
        output_dir=os.path.join(self.output_dir, 'test_backtest'),
        risk_free_rate=self.risk_free_rate
    )
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/backtester.py", line 948, in run_pipeline
    self.visualize_results(output_dir)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/backtester.py", line 776, in visualize_results
    plt.savefig(os.path.join(output_dir, 'portfolio_structure_error.png'))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/pyplot.py", line 1243, in savefig
    res = fig.savefig(*args, **kwargs)  # type: ignore[func-returns-value]
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/figure.py", line 3490, in savefig
    self.canvas.print_figure(fname, **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backend_bases.py", line 2184, in print_figure
    result = print_method(
        filename,
    ...<3 lines>...
        bbox_inches_restore=_bbox_inches_restore,
        **kwargs)
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backend_bases.py", line 2040, in <lambda>
    print_method = functools.wraps(meth)(lambda *args, **kwargs: meth(
                                                                 ~~~~^
        *args, **{k: v for k, v in kwargs.items() if k not in skip}))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backends/backend_agg.py", line 481, in print_png
    self._print_pil(filename_or_obj, "png", pil_kwargs, metadata)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/backends/backend_agg.py", line 430, in _print_pil
    mpl.image.imsave(
    ~~~~~~~~~~~~~~~~^
        filename_or_obj, self.buffer_rgba(), format=fmt, origin="upper",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        dpi=self.figure.dpi, metadata=metadata, pil_kwargs=pil_kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/matplotlib/image.py", line 1644, in imsave
    image.save(fname, **pil_kwargs)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aeshef/Documents/GitHub/kursach/.venv/lib/python3.13/site-packages/PIL/Image.py", line 2576, in save
    fp = builtins.open(filename, "w+b")
FileNotFoundError: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure_error.png'

2025-04-26 19:19:48 - PipelineExecutor - ERROR - Ошибка при создании портфеля с короткими позициями: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/short_portfolio_params.json'
2025-04-26 19:19:48 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "<string>", line 29, in create_short_portfolio
FileNotFoundError: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/short_portfolio_params.json'

2025-04-26 19:19:48 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-26 19:19:48 - PipelineExecutor - ERROR - Ошибка при создании итогового отчета: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/pipeline_summary.md'
2025-04-26 19:19:48 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts
2025-04-26 19:20:17 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_192017_standard_with_shorts
2025-04-26 19:20:17 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_192017_standard_with_shorts
2025-04-26 19:20:17 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192017_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:20:17 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:20:31 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192017_standard_with_shorts/signals/signals.csv
2025-04-26 19:20:31 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:20:36 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192017_standard_with_shorts/portfolio
2025-04-26 19:20:36 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:20:36 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-26 19:21:32 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_192132_standard_with_shorts
2025-04-26 19:21:32 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_192132_standard_with_shorts
2025-04-26 19:21:32 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:21:32 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:21:46 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/signals/signals.csv
2025-04-26 19:21:46 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:21:51 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/portfolio
2025-04-26 19:21:51 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:21:51 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-26 19:22:20 - PipelineExecutor - INFO - Результаты честного бэктеста:
2025-04-26 19:22:20 - PipelineExecutor - INFO - Доходность в тесте: -3.96%
2025-04-26 19:22:20 - PipelineExecutor - INFO - Шарп в тесте: -1.93
2025-04-26 19:22:20 - PipelineExecutor - WARNING - Низкий коэффициент Шарпа в тестовом периоде! Стратегия может быть неэффективна.
2025-04-26 19:22:20 - PipelineExecutor - INFO - Построение финального портфеля на всех данных с поддержкой коротких позиций
2025-04-26 19:22:34 - PipelineExecutor - INFO - Используется оптимизатор с поддержкой коротких позиций
2025-04-26 19:22:37 - PipelineExecutor - INFO - Итоговый отчет сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_summary.md
2025-04-26 19:22:37 - PipelineExecutor - INFO - Портфель с короткими позициями успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio
2025-04-26 19:22:37 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-26 19:22:37 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/pipeline_summary.md
2025-04-26 19:22:37 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts
2025-04-26 19:43:20 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_194320_standard_with_shorts
2025-04-26 19:43:20 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_194320_standard_with_shorts
2025-04-26 19:43:20 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:43:20 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:43:34 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/signals/signals.csv
2025-04-26 19:43:34 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:43:39 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/portfolio
2025-04-26 19:43:39 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:43:39 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-26 19:44:07 - PipelineExecutor - INFO - Результаты честного бэктеста:
2025-04-26 19:44:07 - PipelineExecutor - INFO - Доходность в тесте: -3.96%
2025-04-26 19:44:07 - PipelineExecutor - INFO - Шарп в тесте: -1.93
2025-04-26 19:44:07 - PipelineExecutor - WARNING - Низкий коэффициент Шарпа в тестовом периоде! Стратегия может быть неэффективна.
2025-04-26 19:44:07 - PipelineExecutor - INFO - Построение финального портфеля на всех данных с поддержкой коротких позиций
2025-04-26 19:44:21 - PipelineExecutor - INFO - Используется оптимизатор с поддержкой коротких позиций
2025-04-26 19:44:24 - PipelineExecutor - INFO - Итоговый отчет сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_summary.md
2025-04-26 19:44:24 - PipelineExecutor - INFO - Портфель с короткими позициями успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio
2025-04-26 19:44:24 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-26 19:44:24 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/pipeline_summary.md
2025-04-26 19:44:24 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts
2025-04-26 19:44:55 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250426_194455_standard_with_shorts
2025-04-26 19:44:55 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250426_194455_standard_with_shorts
2025-04-26 19:44:55 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/bond_portfolio.csv
2025-04-26 19:44:55 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-26 19:45:09 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/signals/signals.csv
2025-04-26 19:45:09 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15}
2025-04-26 19:45:14 - PipelineExecutor - INFO - Портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/portfolio
2025-04-26 19:45:14 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.075, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30')}
2025-04-26 19:45:14 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-26 19:45:41 - PipelineExecutor - INFO - Результаты честного бэктеста:
2025-04-26 19:45:41 - PipelineExecutor - INFO - Доходность в тесте: -3.96%
2025-04-26 19:45:41 - PipelineExecutor - INFO - Шарп в тесте: -1.93
2025-04-26 19:45:41 - PipelineExecutor - WARNING - Низкий коэффициент Шарпа в тестовом периоде! Стратегия может быть неэффективна.
2025-04-26 19:45:41 - PipelineExecutor - INFO - Построение финального портфеля на всех данных с поддержкой коротких позиций
2025-04-26 19:45:55 - PipelineExecutor - INFO - Используется оптимизатор с поддержкой коротких позиций
2025-04-26 19:45:58 - PipelineExecutor - INFO - Итоговый отчет сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_summary.md
2025-04-26 19:45:58 - PipelineExecutor - INFO - Портфель с короткими позициями успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio
2025-04-26 19:45:58 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-26 19:45:58 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/pipeline_summary.md
2025-04-26 19:45:58 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts
2025-04-27 15:51:46 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_155146_bond_enhanced_pipeline
2025-04-27 15:54:26 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_155426_bond_enhanced_pipeline
2025-04-27 15:54:51 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_155451_bond_enhanced_pipeline
2025-04-27 15:54:51 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 15:54:51 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 15:54:53 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_155451_bond_enhanced_pipeline/bond_portfolio.csv
2025-04-27 15:55:22 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_155522_bond_enhanced_pipeline
2025-04-27 15:55:22 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 15:55:22 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 15:55:24 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_155522_bond_enhanced_pipeline/bond_portfolio.csv
2025-04-27 16:08:47 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_160847_balanced_portfolio_0427_1608
2025-04-27 16:09:05 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:09:05 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:09:07 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_160847_balanced_portfolio_0427_1608/bond_portfolio.csv
2025-04-27 16:09:18 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_160918_balanced_portfolio_0427_1609
2025-04-27 16:09:19 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:09:19 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:09:21 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_160918_balanced_portfolio_0427_1609/bond_portfolio.csv
2025-04-27 16:11:00 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_161100_balanced_portfolio_0427_1611
2025-04-27 16:11:03 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:11:03 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:11:04 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161100_balanced_portfolio_0427_1611/bond_portfolio.csv
2025-04-27 16:11:38 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_161138_balanced_portfolio_0427_1611
2025-04-27 16:11:40 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:11:40 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161138_balanced_portfolio_0427_1611/bonds
2025-04-27 16:11:40 - PipelineExecutor - INFO - Датасет облигаций скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161138_balanced_portfolio_0427_1611/bonds/bonds_dataset.csv
2025-04-27 16:11:40 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:11:42 - PipelineExecutor - INFO - Портфель облигаций дополнительно скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161138_balanced_portfolio_0427_1611/bond_portfolio.csv
2025-04-27 16:12:25 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_161225_balanced_portfolio_0427_1612
2025-04-27 16:12:25 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:12:25 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/bonds
2025-04-27 16:12:25 - PipelineExecutor - INFO - Датасет облигаций скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/bonds/bonds_dataset.csv
2025-04-27 16:12:25 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:12:27 - PipelineExecutor - INFO - Портфель облигаций дополнительно скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/bond_portfolio.csv
2025-04-27 16:12:30 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250427_161225_balanced_portfolio_0427_1612, профиль: moderate
2025-04-27 16:12:30 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/bond_portfolio.csv
2025-04-27 16:12:30 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-27 16:12:44 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/signals/signals.csv
2025-04-27 16:12:44 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'include_short_selling': False}
2025-04-27 16:12:49 - PipelineExecutor - INFO - Стандартный портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/portfolio
2025-04-27 16:12:49 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.1, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30'), 'include_short_selling': True}
2025-04-27 16:12:49 - PipelineExecutor - ERROR - Ошибка при создании портфеля с короткими позициями: argument of type 'NoneType' is not iterable
2025-04-27 16:12:49 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/executor.py", line 501, in create_short_portfolio
    if 'production_portfolio' in portfolio_results and 'weights' in portfolio_results['production_portfolio']:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable

2025-04-27 16:12:49 - PipelineExecutor - INFO - Запуск создания комбинированного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'long_ratio': 0.7, 'include_short_selling': True}
2025-04-27 16:12:49 - PipelineExecutor - ERROR - Ошибка при создании комбинированного портфеля: 'NoneType' object is not subscriptable
2025-04-27 16:12:49 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/executor.py", line 648, in create_combined_portfolio
    long_weight = long_ratio * (1 - optimizer.portfolio_performance['rf_allocation'])
                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable

2025-04-27 16:12:49 - PipelineExecutor - INFO - Умеренная стратегия: выбран портфель 'standard' с лучшим Шарпом -0.55
2025-04-27 16:12:49 - PipelineExecutor - INFO - Лучший портфель (standard) скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/final_portfolio
2025-04-27 16:12:49 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-27 16:12:49 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612/pipeline_summary.md
2025-04-27 16:12:49 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_161225_balanced_portfolio_0427_1612
2025-04-27 16:41:04 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_164104_balanced_portfolio_0427_1641
2025-04-27 16:41:05 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:41:05 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/bonds
2025-04-27 16:41:05 - PipelineExecutor - INFO - Датасет облигаций скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/bonds/bonds_dataset.csv
2025-04-27 16:41:05 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:41:06 - PipelineExecutor - INFO - Портфель облигаций дополнительно скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/bond_portfolio.csv
2025-04-27 16:41:06 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250427_164104_balanced_portfolio_0427_1641, профиль: moderate
2025-04-27 16:41:06 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/bond_portfolio.csv
2025-04-27 16:41:06 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-27 16:41:20 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/signals/signals.csv
2025-04-27 16:41:20 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'include_short_selling': False}
2025-04-27 16:41:25 - PipelineExecutor - INFO - Стандартный портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/portfolio
2025-04-27 16:41:25 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.1, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30'), 'include_short_selling': True}
2025-04-27 16:41:25 - PipelineExecutor - ERROR - Ошибка при создании портфеля с короткими позициями: argument of type 'NoneType' is not iterable
2025-04-27 16:41:25 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "/Users/aeshef/Documents/GitHub/kursach/pys/porfolio_optimization/executor.py", line 501, in create_short_portfolio
    if 'production_portfolio' in portfolio_results and 'weights' in portfolio_results['production_portfolio']:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: argument of type 'NoneType' is not iterable

2025-04-27 16:41:25 - PipelineExecutor - INFO - Запуск создания комбинированного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'long_ratio': 0.7, 'include_short_selling': True}
2025-04-27 16:41:25 - PipelineExecutor - INFO - Комбинированный портфель успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/combined_portfolio
2025-04-27 16:41:25 - PipelineExecutor - INFO - Умеренная стратегия: выбран портфель 'combined' с лучшим Шарпом -0.40
2025-04-27 16:41:25 - PipelineExecutor - INFO - Лучший портфель (combined) скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/final_portfolio
2025-04-27 16:41:25 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-27 16:41:25 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641/pipeline_summary.md
2025-04-27 16:41:25 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_164104_balanced_portfolio_0427_1641
2025-04-27 16:50:46 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_165046_balanced_portfolio_0427_1650
2025-04-27 16:50:46 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 16:50:46 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/bonds
2025-04-27 16:50:46 - PipelineExecutor - INFO - Датасет облигаций скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/bonds/bonds_dataset.csv
2025-04-27 16:50:46 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 16:50:48 - PipelineExecutor - INFO - Портфель облигаций дополнительно скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/bond_portfolio.csv
2025-04-27 16:50:48 - PipelineExecutor - INFO - Запуск полного пайплайна с ID: run_20250427_165046_balanced_portfolio_0427_1650, профиль: moderate
2025-04-27 16:50:48 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/bond_portfolio.csv
2025-04-27 16:50:48 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2}
2025-04-27 16:51:02 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/signals/signals.csv
2025-04-27 16:51:02 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'include_short_selling': False}
2025-04-27 16:51:06 - PipelineExecutor - INFO - Стандартный портфель успешно оптимизирован и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/portfolio
2025-04-27 16:51:06 - PipelineExecutor - INFO - Запуск создания портфеля с короткими позициями с параметрами: {'risk_free_rate': 0.1, 'train_period': ('2024-01-01', '2024-12-31'), 'test_period': ('2025-01-01', '2025-06-30'), 'include_short_selling': True}
2025-04-27 16:51:06 - PipelineExecutor - INFO - Запуск проверки с HonestBacktester
2025-04-27 16:51:34 - PipelineExecutor - INFO - Результаты честного бэктеста:
2025-04-27 16:51:34 - PipelineExecutor - INFO - Доходность в тесте: -3.96%
2025-04-27 16:51:34 - PipelineExecutor - INFO - Шарп в тесте: -2.35
2025-04-27 16:51:34 - PipelineExecutor - WARNING - Низкий коэффициент Шарпа в тестовом периоде! Стратегия может быть неэффективна.
2025-04-27 16:51:34 - PipelineExecutor - INFO - Построение финального портфеля на всех данных с поддержкой коротких позиций
2025-04-27 16:51:48 - PipelineExecutor - INFO - Используется оптимизатор с поддержкой коротких позиций
2025-04-27 16:51:51 - PipelineExecutor - INFO - Итоговый отчет сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_summary.md
2025-04-27 16:51:51 - PipelineExecutor - INFO - Портфель с короткими позициями успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio
2025-04-27 16:51:51 - PipelineExecutor - INFO - Запуск создания комбинированного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'long_ratio': 0.7, 'include_short_selling': True}
2025-04-27 16:51:51 - PipelineExecutor - INFO - Комбинированный портфель успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/combined_portfolio
2025-04-27 16:51:51 - PipelineExecutor - INFO - Умеренная стратегия: выбран портфель 'combined' с лучшим Шарпом -0.40
2025-04-27 16:51:51 - PipelineExecutor - INFO - Лучший портфель (combined) скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/final_portfolio
2025-04-27 16:51:51 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-27 16:51:51 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/pipeline_summary.md
2025-04-27 16:51:51 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650
2025-04-27 17:22:50 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_172250_custom_portfolio_0427_1722
2025-04-27 17:22:54 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_172254_custom_portfolio_0427_1722
2025-04-27 17:43:39 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_174339_balanced_portfolio_0427_1743
2025-04-27 17:43:45 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 17:43:45 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174339_balanced_portfolio_0427_1743/bonds
2025-04-27 17:44:23 - PipelineExecutor - INFO - Запуск пайплайна (ID: run_20250427_174339_balanced_portfolio_0427_1743, профиль: moderate)
2025-04-27 17:44:23 - PipelineExecutor - WARNING - Файл портфеля облигаций не найден: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/bonds/portfolio/bond_portfolio_20250427.csv
2025-04-27 17:46:51 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_174651_balanced_portfolio_0427_1746
2025-04-27 17:47:05 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 17:47:05 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174651_balanced_portfolio_0427_1746/bonds
2025-04-27 17:47:05 - PipelineExecutor - INFO - Датасет облигаций скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174651_balanced_portfolio_0427_1746/bonds/bonds_dataset.csv
2025-04-27 17:47:05 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 17:47:08 - PipelineExecutor - INFO - Портфель облигаций дополнительно скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174651_balanced_portfolio_0427_1746/bond_portfolio.csv
2025-04-27 17:48:20 - PipelineExecutor - INFO - Запуск пайплайна (ID: run_20250427_174651_balanced_portfolio_0427_1746, профиль: moderate)
2025-04-27 17:50:14 - PipelineExecutor - INFO - Запуск пайплайна (ID: run_20250427_174651_balanced_portfolio_0427_1746, профиль: moderate)
2025-04-27 17:50:14 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174651_balanced_portfolio_0427_1746/bond_portfolio.csv
2025-04-27 17:55:24 - PipelineExecutor - INFO - Запуск пайплайна (ID: run_20250427_174651_balanced_portfolio_0427_1746, профиль: moderate)
2025-04-27 17:55:24 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174651_balanced_portfolio_0427_1746/bond_portfolio.csv
2025-04-27 17:55:24 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2, 'threshold_buy': 0.5, 'threshold_sell': -0.5, 'top_pct': 0.3}
2025-04-27 17:55:38 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_174651_balanced_portfolio_0427_1746/signals/signals.csv
2025-04-27 17:55:38 - PipelineExecutor - INFO - Профиль moderate: создание стандартного портфеля
2025-04-27 18:13:46 - PipelineExecutor - INFO - Создана структура директорий для запуска run_20250427_181346_balanced_portfolio_0427_1813
2025-04-27 18:13:48 - PipelineExecutor - INFO - Запуск полного цикла обработки облигаций
2025-04-27 18:13:48 - PipelineExecutor - INFO - Создана структура директорий для облигаций в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/bonds
2025-04-27 18:13:48 - PipelineExecutor - INFO - Датасет облигаций скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/bonds/bonds_dataset.csv
2025-04-27 18:13:48 - PipelineExecutor - INFO - Обработка облигаций: оптимальный порог 99%
2025-04-27 18:13:50 - PipelineExecutor - INFO - Портфель облигаций дополнительно скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/bond_portfolio.csv
2025-04-27 18:13:52 - PipelineExecutor - INFO - Запуск пайплайна (ID: run_20250427_181346_balanced_portfolio_0427_1813, профиль: moderate)
2025-04-27 18:13:52 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/bond_portfolio.csv
2025-04-27 18:13:52 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2, 'threshold_buy': 0.5, 'threshold_sell': -0.5, 'top_pct': 0.3}
2025-04-27 18:14:06 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/signals/signals.csv
2025-04-27 18:14:06 - PipelineExecutor - INFO - Профиль moderate: создание стандартного портфеля
2025-04-27 18:15:53 - PipelineExecutor - INFO - Запуск пайплайна (ID: run_20250427_181346_balanced_portfolio_0427_1813, профиль: moderate)
2025-04-27 18:15:53 - PipelineExecutor - INFO - Скопирован портфель облигаций: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/bond_portfolio.csv
2025-04-27 18:15:53 - PipelineExecutor - INFO - Запуск генерации сигналов с параметрами: {'weight_tech': 0.5, 'weight_sentiment': 0.3, 'weight_fundamental': 0.2, 'threshold_buy': 0.5, 'threshold_sell': -0.5, 'top_pct': 0.3}
2025-04-27 18:16:07 - PipelineExecutor - INFO - Скопированы сигналы: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/signals/signals.csv
2025-04-27 18:16:07 - PipelineExecutor - INFO - Профиль moderate: создание стандартного портфеля
2025-04-27 18:16:07 - PipelineExecutor - INFO - Запуск оптимизации стандартного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'include_short_selling': False, 'optimization': 'markowitz'}
2025-04-27 18:16:07 - PipelineExecutor - ERROR - Ошибка при оптимизации стандартного портфеля: run_all_optimization_models() got an unexpected keyword argument 'optimization'
2025-04-27 18:16:07 - PipelineExecutor - ERROR - Traceback (most recent call last):
  File "<string>", line 34, in optimize_standard_portfolio
TypeError: run_all_optimization_models() got an unexpected keyword argument 'optimization'

2025-04-27 18:16:07 - PipelineExecutor - INFO - Профиль moderate: создание комбинированного портфеля
2025-04-27 18:16:07 - PipelineExecutor - INFO - Запуск создания комбинированного портфеля с параметрами: {'risk_free_rate': 0.1, 'min_rf_allocation': 0.3, 'max_rf_allocation': 0.5, 'max_weight': 0.15, 'long_ratio': 0.7, 'include_short_selling': True}
2025-04-27 18:16:07 - PipelineExecutor - INFO - Комбинированный портфель успешно создан и сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/combined_portfolio
2025-04-27 18:16:07 - PipelineExecutor - INFO - Выбран портфель 'combined' на основе приоритета метрик ['sharpe', 'return', 'volatility']
2025-04-27 18:16:07 - PipelineExecutor - INFO - Лучший портфель (combined) скопирован в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/final_portfolio
2025-04-27 18:16:07 - PipelineExecutor - INFO - Создание итогового отчета о запуске
2025-04-27 18:16:07 - PipelineExecutor - INFO - Итоговый отчет создан: /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813/pipeline_summary.md
2025-04-27 18:16:07 - PipelineExecutor - INFO - Выполнение пайплайна завершено. Результаты сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_181346_balanced_portfolio_0427_1813
