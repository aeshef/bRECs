2025-04-26 16:45:47 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 16:45:47 - Backtester - INFO - Загрузка данных из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 16:45:48 - Backtester - INFO - Загружено 7110 строк данных
2025-04-26 16:45:48 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 16:45:48 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 16:45:48 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 16:45:48 - Backtester - INFO - Расчет доходности портфеля с 17 весами
2025-04-26 16:45:48 - Backtester - INFO - Анализ данных доходностей:
2025-04-26 16:45:48 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых точек, макс. значение: 0.072261
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер ALRS: 27/468 ненулевых точек, макс. значение: 0.066044
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер GAZP: 65/468 ненулевых точек, макс. значение: 0.081346
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер GMKN: 22/462 ненулевых точек, макс. значение: 0.044227
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых точек, макс. значение: 0.072129
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер MAGN: 41/466 ненулевых точек, макс. значение: 0.059012
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер MTSS: 44/468 ненулевых точек, макс. значение: 0.058961
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер MVID: 39/468 ненулевых точек, макс. значение: 0.130662
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер NVTK: 97/465 ненулевых точек, макс. значение: 0.093680
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер PHOR: 35/107 ненулевых точек, макс. значение: 0.163265
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер PHOR с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер ROSN: 113/468 ненулевых точек, макс. значение: 0.099575
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых точек, макс. значение: 0.060226
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер SBER: 59/468 ненулевых точек, макс. значение: 0.123624
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер SBER с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер SIBN: 85/464 ненулевых точек, макс. значение: 0.067986
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер SNGS: 48/468 ненулевых точек, макс. значение: 0.051565
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер TATN: 109/466 ненулевых точек, макс. значение: 0.063841
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер TATN с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Добавлена безрисковая часть с весом 40.0% и ставкой 7.50%
2025-04-26 16:45:48 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 16:45:48 - Backtester - INFO - Кумулятивная доходность: 1.58%, Годовая доходность: 0.85%, Шарп: -331.10, Макс. просадка: -1.56%
2025-04-26 16:45:48 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 16:45:48 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/cumulative_return.png
2025-04-26 16:45:48 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/drawdown.png
2025-04-26 16:45:48 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results
2025-04-26 16:57:59 - Backtester - INFO - Найдены детали по 5 облигациям в портфеле
2025-04-26 16:57:59 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 16:57:59 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 16:58:00 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 16:58:00 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-04-15
2025-04-26 16:58:00 - Backtester - INFO - Загрузка исторических данных по облигациям
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A105EW9 недоступны, будет использована фиксированная доходность 21.33%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A0JSGV0 недоступны, будет использована фиксированная доходность 21.48%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации KG000A3LSJ06 недоступны, будет использована фиксированная доходность 20.85%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A0JUAH8 недоступны, будет использована фиксированная доходность 20.66%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A0JS4Z7 недоступны, будет использована фиксированная доходность 18.58%
2025-04-26 16:58:00 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 16:58:00 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 16:58:00 - Backtester - INFO - Расчет доходностей по облигациям
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A105EW9: 0.076753% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JSGV0: 0.077244% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации KG000A3LSJ06: 0.075179% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JUAH8: 0.074554% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JS4Z7: 0.067649% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Рассчитаны доходности для 5 облигаций
2025-04-26 16:58:00 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 16:58:00 - Backtester - INFO - Рассчитана доходность портфеля за 105 дней
2025-04-26 16:58:00 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 16:58:00 - Backtester - INFO - Кумулятивная доходность: 0.00%, Годовая доходность: 0.00%, Шарп: 0.00, Макс. просадка: 0.00%
2025-04-26 16:58:00 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 16:58:00 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/cumulative_return.png
2025-04-26 16:58:00 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/drawdown.png
2025-04-26 16:58:00 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/returns_distribution.png
2025-04-26 16:58:00 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/portfolio_structure.png
2025-04-26 16:58:00 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test
2025-04-26 16:58:50 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 16:58:50 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 16:58:50 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 16:58:50 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 16:58:50 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 16:58:50 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 16:58:50 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер SBER с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер TATN с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлена безрисковая часть с весом 0.4000 и ставкой 7.50% годовых
2025-04-26 16:58:50 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 16:58:50 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 16:58:50 - Backtester - INFO - Кумулятивная доходность: -1.02%, Годовая доходность: -0.55%, Шарп: -2.14, Макс. просадка: -4.21%
2025-04-26 16:58:50 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 16:58:50 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/cumulative_return.png
2025-04-26 16:58:50 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/drawdown.png
2025-04-26 16:58:51 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/returns_distribution.png
2025-04-26 17:08:43 - Backtester - INFO - Найдены детали по 5 облигациям в портфеле
2025-04-26 17:08:43 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:08:43 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:08:44 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:08:44 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-04-15
2025-04-26 17:08:44 - Backtester - INFO - Загрузка исторических данных по облигациям
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A105EW9 недоступны, будет использована фиксированная доходность 21.33%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A0JSGV0 недоступны, будет использована фиксированная доходность 21.48%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации KG000A3LSJ06 недоступны, будет использована фиксированная доходность 20.85%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A0JUAH8 недоступны, будет использована фиксированная доходность 20.66%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A0JS4Z7 недоступны, будет использована фиксированная доходность 18.58%
2025-04-26 17:08:44 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:08:44 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:08:44 - Backtester - INFO - Расчет доходностей по облигациям
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A105EW9: 0.076753% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JSGV0: 0.077244% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации KG000A3LSJ06: 0.075179% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JUAH8: 0.074554% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JS4Z7: 0.067649% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Рассчитаны доходности для 5 облигаций
2025-04-26 17:08:44 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 17:08:44 - Backtester - INFO - Рассчитана доходность портфеля за 105 дней
2025-04-26 17:08:44 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:08:44 - Backtester - INFO - Кумулятивная доходность: 0.00%, Годовая доходность: 0.00%, Шарп: 0.00, Макс. просадка: 0.00%
2025-04-26 17:08:44 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:08:44 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/cumulative_return.png
2025-04-26 17:08:44 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/drawdown.png
2025-04-26 17:08:44 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/returns_distribution.png
2025-04-26 17:08:44 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/portfolio_structure.png
2025-04-26 17:08:44 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test
2025-04-26 17:13:08 - Backtester - INFO - Найдены детали по 5 облигациям в портфеле
2025-04-26 17:13:08 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:13:08 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:13:08 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:13:08 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-04-15
2025-04-26 17:13:08 - Backtester - INFO - Загрузка исторических данных по облигациям
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A105EW9 недоступны, будет использована фиксированная доходность 21.33%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A0JSGV0 недоступны, будет использована фиксированная доходность 21.48%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации KG000A3LSJ06 недоступны, будет использована фиксированная доходность 20.85%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A0JUAH8 недоступны, будет использована фиксированная доходность 20.66%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A0JS4Z7 недоступны, будет использована фиксированная доходность 18.58%
2025-04-26 17:13:08 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:13:08 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:13:08 - Backtester - INFO - Расчет доходностей по облигациям
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A105EW9: 0.076753% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JSGV0: 0.077244% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации KG000A3LSJ06: 0.075179% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JUAH8: 0.074554% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JS4Z7: 0.067649% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Рассчитаны доходности для 5 облигаций
2025-04-26 17:13:08 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:13:08 - Backtester - INFO - Веса акций: {'weights': {'AFKS': np.float64(0.08999999999999996), 'ALRS': np.float64(5.958999778848112e-17), 'GAZP': np.float64(3.2966794617341133e-17), 'GMKN': np.float64(0.08999999999999998), 'LKOH': np.float64(7.688430574485888e-17), 'MAGN': np.float64(0.05999999999999993), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.09), 'NVTK': np.float64(0.09), 'PHOR': np.float64(0.0), 'ROSN': np.float64(7.257519008983699e-17), 'RUAL': np.float64(0.0), 'SBER': np.float64(7.867970377032823e-17), 'SIBN': np.float64(6.910330827499444e-17), 'SNGS': np.float64(0.08999999999999991), 'TATN': np.float64(0.08999999999999996), 'RISK_FREE': 0.4}, 'expected_return': np.float64(0.09994290364330714), 'expected_volatility': np.float64(0.14490084593427238), 'sharpe_ratio': np.float64(-0.0003940374283167691), 'risk_free_rate': 0.1, 'rf_allocation': 0.4, 'optimization_model': 'black_litterman'}
2025-04-26 17:13:08 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:13:08 - Backtester - INFO - Тикеров в весах портфеля: 7
2025-04-26 17:13:08 - Backtester - INFO - Совпадающих тикеров: 0
2025-04-26 17:13:08 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MAGN', 'TATN', 'ALRS', 'ROSN', 'GAZP', 'LKOH', 'RUAL', 'SIBN', 'NVTK', 'MVID', 'PHOR', 'SNGS', 'AFKS', 'GMKN', 'SBER', 'MTSS'}
2025-04-26 17:13:08 - Backtester - WARNING - Тикеры в весах, отсутствующие в данных: {'expected_volatility', 'weights', 'rf_allocation', 'risk_free_rate', 'expected_return', 'sharpe_ratio', 'optimization_model'}
2025-04-26 17:13:08 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:13:08 - Backtester - INFO -   AFKS: 17/105 ненулевых сигналов (16.2%)
2025-04-26 17:13:08 - Backtester - INFO -   ALRS: 11/105 ненулевых сигналов (10.5%)
2025-04-26 17:13:08 - Backtester - INFO -   GAZP: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   GMKN: 13/99 ненулевых сигналов (13.1%)
2025-04-26 17:13:08 - Backtester - INFO -   LKOH: 29/105 ненулевых сигналов (27.6%)
2025-04-26 17:13:08 - Backtester - INFO -   MAGN: 10/105 ненулевых сигналов (9.5%)
2025-04-26 17:13:08 - Backtester - INFO -   MTSS: 10/105 ненулевых сигналов (9.5%)
2025-04-26 17:13:08 - Backtester - INFO -   MVID: 11/105 ненулевых сигналов (10.5%)
2025-04-26 17:13:08 - Backtester - INFO -   NVTK: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   PHOR: 1/1 ненулевых сигналов (100.0%)
2025-04-26 17:13:08 - Backtester - INFO -   ROSN: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   RUAL: 17/105 ненулевых сигналов (16.2%)
2025-04-26 17:13:08 - Backtester - INFO -   SBER: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   SIBN: 18/105 ненулевых сигналов (17.1%)
2025-04-26 17:13:08 - Backtester - INFO -   SNGS: 10/105 ненулевых сигналов (9.5%)
2025-04-26 17:13:08 - Backtester - INFO -   TATN: 13/103 ненулевых сигналов (12.6%)
2025-04-26 17:13:08 - Backtester - INFO - Всего добавлено 0 акций в портфель
2025-04-26 17:13:08 - Backtester - INFO - Найдена безрисковая часть с весом 0.0000 и 5 облигациями
2025-04-26 17:13:08 - Backtester - INFO - Всего добавлено 0 облигаций в портфель
2025-04-26 17:13:08 - Backtester - ERROR - Не удалось добавить ни одного актива в портфель!
2025-04-26 17:13:08 - Backtester - INFO - Рассчитана доходность портфеля за 105 дней
2025-04-26 17:13:08 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:13:08 - Backtester - INFO - Кумулятивная доходность: 0.00%, Годовая доходность: 0.00%, Шарп: 0.00, Макс. просадка: 0.00%
2025-04-26 17:13:08 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:13:08 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/cumulative_return.png
2025-04-26 17:13:09 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/drawdown.png
2025-04-26 17:13:09 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/returns_distribution.png
2025-04-26 17:13:09 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/portfolio_structure.png
2025-04-26 17:13:09 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test
2025-04-26 17:17:05 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:17:05 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:17:06 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:17:06 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:17:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:17:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:17:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:17:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:17:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:17:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:17:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:17:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:17:06 - Backtester - INFO -   AFKS: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:17:06 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-26 17:17:06 - Backtester - INFO -   GAZP: 19/103 ненулевых сигналов (18.4%)
2025-04-26 17:17:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:17:06 - Backtester - INFO -   LKOH: 40/103 ненулевых сигналов (38.8%)
2025-04-26 17:17:06 - Backtester - INFO -   MAGN: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:17:06 - Backtester - INFO -   MTSS: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:17:06 - Backtester - INFO -   MVID: 10/103 ненулевых сигналов (9.7%)
2025-04-26 17:17:06 - Backtester - INFO -   NVTK: 31/103 ненулевых сигналов (30.1%)
2025-04-26 17:17:06 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-26 17:17:06 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-26 17:17:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:17:06 - Backtester - INFO -   SBER: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:17:06 - Backtester - INFO -   SIBN: 20/103 ненулевых сигналов (19.4%)
2025-04-26 17:17:06 - Backtester - INFO -   SNGS: 12/103 ненулевых сигналов (11.7%)
2025-04-26 17:17:06 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-26 17:17:06 - Backtester - INFO - Тикер AFKS: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер ALRS: 3/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для ALRS: [nan, -0.0, 0.0, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер GAZP: 20/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для GAZP: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер GMKN: 5/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для GMKN: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер LKOH: 40/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.006889763779527547, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер MAGN: 7/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для MAGN: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер MTSS: 9/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для MTSS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер MVID: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для MVID: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер NVTK: 32/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для NVTK: [nan, -0.0, 0.003112678979041217, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер ROSN: 23/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для ROSN: [nan, -0.0, -0.00451656072264961, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер SBER: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер SBER с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер SIBN: 20/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для SIBN: [nan, -0.0, 0.002532046209843264, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер SNGS: 13/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для SNGS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер TATN с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Всего добавлено 15 акций в портфель
2025-04-26 17:17:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:17:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:17:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:17:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0083521803538856, -0.00014640826319937538, -0.0008784585480497116, 8.61083810813401e-05]
2025-04-26 17:17:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:17:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:17:06 - Backtester - INFO - Кумулятивная доходность: -1.42%, Годовая доходность: -3.43%, Шарп: -1.85, Макс. просадка: -2.63%
2025-04-26 17:17:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:17:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/improved_pipeline/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:17:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/improved_pipeline/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:17:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/improved_pipeline/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:47:04 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:47:04 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:47:04 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:47:04 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:47:04 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:47:04 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:47:04 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:47:04 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:47:04 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:47:04 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:47:04 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:47:04 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:47:04 - Backtester - INFO -   AFKS: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:47:04 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-26 17:47:04 - Backtester - INFO -   GAZP: 19/103 ненулевых сигналов (18.4%)
2025-04-26 17:47:04 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:47:04 - Backtester - INFO -   LKOH: 40/103 ненулевых сигналов (38.8%)
2025-04-26 17:47:04 - Backtester - INFO -   MAGN: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:47:04 - Backtester - INFO -   MTSS: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:47:04 - Backtester - INFO -   MVID: 10/103 ненулевых сигналов (9.7%)
2025-04-26 17:47:04 - Backtester - INFO -   NVTK: 31/103 ненулевых сигналов (30.1%)
2025-04-26 17:47:04 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-26 17:47:04 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-26 17:47:04 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:47:04 - Backtester - INFO -   SBER: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:47:04 - Backtester - INFO -   SIBN: 20/103 ненулевых сигналов (19.4%)
2025-04-26 17:47:04 - Backtester - INFO -   SNGS: 12/103 ненулевых сигналов (11.7%)
2025-04-26 17:47:04 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-26 17:47:04 - Backtester - INFO - Тикер AFKS: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер ALRS: 3/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для ALRS: [nan, -0.0, 0.0, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер GAZP: 20/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для GAZP: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер GMKN: 5/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для GMKN: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер LKOH: 40/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.006889763779527547, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер MAGN: 7/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для MAGN: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер MTSS: 9/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для MTSS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер MVID: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для MVID: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер NVTK: 32/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для NVTK: [nan, -0.0, 0.003112678979041217, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер ROSN: 23/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для ROSN: [nan, -0.0, -0.00451656072264961, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер SBER: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер SBER с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер SIBN: 20/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для SIBN: [nan, -0.0, 0.002532046209843264, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер SNGS: 13/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для SNGS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер TATN с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Всего добавлено 15 акций в портфель
2025-04-26 17:47:04 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:47:04 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:47:04 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:47:04 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:47:05 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0083521803538856, -0.00014640826319937538, -0.0008784585480497116, 8.61083810813401e-05]
2025-04-26 17:47:05 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:47:05 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:47:05 - Backtester - INFO - Кумулятивная доходность: -1.42%, Годовая доходность: -3.43%, Шарп: -1.85, Макс. просадка: -2.63%
2025-04-26 17:47:05 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:47:05 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:47:05 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:47:05 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:57:00 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:57:00 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:57:00 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:57:00 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:57:00 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:57:00 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:57:00 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:57:00 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:57:00 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:57:00 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:57:00 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:57:00 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:57:00 - Backtester - INFO -   AFKS: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:57:00 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-26 17:57:00 - Backtester - INFO -   GAZP: 19/103 ненулевых сигналов (18.4%)
2025-04-26 17:57:00 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:57:00 - Backtester - INFO -   LKOH: 40/103 ненулевых сигналов (38.8%)
2025-04-26 17:57:00 - Backtester - INFO -   MAGN: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:57:00 - Backtester - INFO -   MTSS: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:57:00 - Backtester - INFO -   MVID: 10/103 ненулевых сигналов (9.7%)
2025-04-26 17:57:00 - Backtester - INFO -   NVTK: 31/103 ненулевых сигналов (30.1%)
2025-04-26 17:57:00 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-26 17:57:00 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-26 17:57:00 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:57:00 - Backtester - INFO -   SBER: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:57:00 - Backtester - INFO -   SIBN: 20/103 ненулевых сигналов (19.4%)
2025-04-26 17:57:00 - Backtester - INFO -   SNGS: 12/103 ненулевых сигналов (11.7%)
2025-04-26 17:57:00 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-26 17:57:00 - Backtester - INFO - Тикер AFKS: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер ALRS: 3/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для ALRS: [nan, -0.0, 0.0, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер GAZP: 20/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для GAZP: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер GMKN: 5/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для GMKN: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер LKOH: 40/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.006889763779527547, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер MAGN: 7/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для MAGN: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер MTSS: 9/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для MTSS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер MVID: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для MVID: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер NVTK: 32/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для NVTK: [nan, -0.0, 0.003112678979041217, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер ROSN: 23/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для ROSN: [nan, -0.0, -0.00451656072264961, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер SBER: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер SBER с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер SIBN: 20/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для SIBN: [nan, -0.0, 0.002532046209843264, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер SNGS: 13/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для SNGS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер TATN с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Всего добавлено 15 акций в портфель
2025-04-26 17:57:00 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:57:00 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:57:00 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:57:00 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0083521803538856, -0.00014640826319937538, -0.0008784585480497116, 8.61083810813401e-05]
2025-04-26 17:57:00 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:57:00 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:57:00 - Backtester - INFO - Кумулятивная доходность: -1.42%, Годовая доходность: -3.43%, Шарп: -1.85, Макс. просадка: -2.63%
2025-04-26 17:57:00 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:57:01 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:57:01 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:57:01 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:58:05 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 17:58:05 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_signals_20250426_175739.csv
2025-04-26 17:58:05 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 17:58:05 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:58:05 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:58:05 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 17:58:05 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:58:05 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 17:58:05 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:58:05 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:58:05 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:58:05 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:58:05 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:58:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:58:06 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 17:58:06 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 17:58:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:58:06 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 17:58:06 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:58:06 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 17:58:06 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 17:58:06 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 17:58:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:58:06 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:58:06 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 17:58:06 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 17:58:06 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:58:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 17:58:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:58:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:58:06 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 17:58:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:58:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:58:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:58:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:58:06 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 17:58:06 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 17:58:06 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest
2025-04-26 17:58:06 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 17:58:06 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_signals_20250426_175739.csv
2025-04-26 17:58:06 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 17:58:06 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 17:58:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:58:06 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 17:58:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:58:06 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 17:58:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:58:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:58:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:58:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:58:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:58:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:58:06 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 17:58:06 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 17:58:06 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 17:58:06 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 17:58:06 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 17:58:06 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 17:58:06 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 17:58:06 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 17:58:06 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 17:58:06 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 17:58:06 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 17:58:06 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 17:58:06 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 17:58:06 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 17:58:06 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 17:58:06 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 17:58:06 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:58:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 17:58:06 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 17:58:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:58:06 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 17:58:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:58:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 17:58:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 17:58:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 17:58:06 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 17:58:06 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 17:58:06 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest
2025-04-26 18:17:01 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 18:17:01 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_signals_20250426_181634.csv
2025-04-26 18:17:01 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 18:17:01 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 18:17:01 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 18:17:01 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 18:17:01 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 18:17:01 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 18:17:01 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 18:17:01 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 18:17:01 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 18:17:01 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 18:17:01 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 18:17:01 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 18:17:01 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 18:17:01 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 18:17:01 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 18:17:01 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 18:17:01 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 18:17:01 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 18:17:01 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 18:17:01 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 18:17:01 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 18:17:01 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 18:17:01 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 18:17:01 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 18:17:01 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 18:17:01 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 18:17:01 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 18:17:01 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 18:17:01 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 18:17:01 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 18:17:01 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 18:17:01 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 18:17:01 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 18:17:01 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest
2025-04-26 18:17:01 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 18:17:01 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_signals_20250426_181634.csv
2025-04-26 18:17:01 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 18:17:01 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 18:17:01 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 18:17:01 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 18:17:01 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 18:17:01 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 18:17:01 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 18:17:01 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 18:17:01 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 18:17:01 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 18:17:01 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 18:17:01 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 18:17:01 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 18:17:01 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 18:17:01 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 18:17:01 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 18:17:01 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 18:17:01 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 18:17:01 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 18:17:01 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 18:17:01 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 18:17:01 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 18:17:01 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 18:17:01 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 18:17:01 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 18:17:01 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 18:17:01 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 18:17:01 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 18:17:01 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 18:17:01 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 18:17:01 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 18:17:01 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 18:17:02 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 18:17:02 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 18:17:02 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 18:17:02 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 18:17:02 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 18:17:02 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest
2025-04-26 18:17:18 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 18:17:18 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 18:17:18 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 18:17:18 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 18:17:18 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 18:17:18 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 18:17:18 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 18:17:18 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 18:17:18 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 18:17:18 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 18:17:18 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 18:17:18 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 18:17:18 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 18:17:18 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 18:17:18 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 18:17:18 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 18:17:18 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 18:17:18 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 18:17:18 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 18:17:18 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 18:17:18 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 18:17:18 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 18:17:18 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 18:17:18 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 18:17:18 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 18:17:18 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 18:17:18 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 18:17:18 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 18:17:18 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 18:17:18 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 18:17:18 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 18:17:18 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 18:17:18 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 18:17:18 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 18:17:18 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 18:17:18 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 18:17:18 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 18:17:18 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 18:17:18 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 18:17:18 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 18:17:18 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 18:17:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 18:17:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 18:17:19 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 18:17:19 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest
2025-04-26 19:13:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:13:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_191253.csv
2025-04-26 19:13:20 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:13:20 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:13:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:13:20 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:13:20 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:13:20 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:13:20 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:13:20 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:13:20 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:13:20 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:13:20 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:13:20 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:13:20 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:13:20 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:13:20 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:13:20 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:13:20 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:13:20 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:13:20 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:13:20 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:13:20 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:13:20 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:13:20 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:13:20 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:13:20 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:13:20 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:13:20 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:13:20 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:13:20 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:13:20 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:13:20 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:13:20 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:13:20 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:13:20 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:13:20 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:13:20 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:13:20 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:13:20 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:13:20 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:13:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:13:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_191253.csv
2025-04-26 19:13:20 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:13:20 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:13:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:13:20 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:13:21 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:13:21 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:13:21 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:13:21 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:13:21 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:13:21 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:13:21 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:13:21 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:13:21 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:13:21 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:13:21 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:13:21 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:13:21 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:13:21 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:13:21 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:13:21 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:13:21 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:13:21 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:13:21 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:13:21 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:13:21 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:13:21 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:13:21 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:13:21 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:13:21 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:13:21 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:13:21 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:13:21 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:13:21 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:13:21 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:13:21 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:13:21 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:13:21 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:13:21 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:13:21 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:13:21 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:13:21 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:13:21 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:13:21 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:13:38 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:13:38 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:13:38 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:13:38 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:13:38 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:13:38 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:13:39 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:13:39 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:13:39 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:13:39 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:13:39 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:13:39 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:13:39 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:13:39 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:13:39 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:13:39 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:13:39 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:13:39 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:13:39 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:13:39 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:13:39 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:13:39 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:13:39 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:13:39 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:13:39 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:13:39 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:13:39 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:13:39 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:13:39 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:13:39 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:13:39 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:13:39 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:13:39 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:13:39 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:13:39 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:13:39 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:13:39 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:13:39 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:13:39 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:13:39 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:13:39 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:13:39 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:13:39 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:13:39 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:13:39 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-26 19:19:48 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:19:48 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_191920.csv
2025-04-26 19:19:48 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:19:48 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:19:48 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:19:48 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:19:48 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:19:48 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:19:48 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:19:48 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:19:48 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:19:48 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:19:48 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:19:48 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:19:48 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:19:48 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:19:48 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:19:48 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:19:48 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:19:48 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:19:48 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:19:48 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:19:48 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:19:48 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:19:48 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:19:48 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:19:48 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:19:48 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:19:48 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:19:48 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:19:48 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:19:48 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:19:48 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:19:48 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:19:48 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:19:48 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:19:48 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:19:48 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:19:48 - Backtester - ERROR - Ошибка при создании графика структуры портфеля: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png'
2025-04-26 19:22:19 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:22:19 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_192152.csv
2025-04-26 19:22:19 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:22:19 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:22:19 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:22:19 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:22:19 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:22:19 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:22:19 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:22:19 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:22:19 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:22:19 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:22:19 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:22:19 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:22:19 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:22:19 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:22:19 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:22:19 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:22:19 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:22:19 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:22:19 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:22:19 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:22:19 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:22:19 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:22:19 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:22:19 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:22:19 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:22:19 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:22:19 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:22:19 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:22:19 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:22:19 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:22:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:22:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:22:19 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:22:19 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:22:19 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:22:19 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_192152.csv
2025-04-26 19:22:19 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:22:19 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:22:19 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:22:19 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:22:19 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:22:19 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:22:19 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:22:19 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:22:19 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:22:19 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:22:19 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:22:19 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:22:19 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:22:19 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:22:19 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:22:19 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:22:19 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:22:19 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:22:19 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:22:19 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:22:19 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:22:19 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:22:19 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:22:19 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:22:19 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:22:19 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:22:19 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:22:19 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:22:19 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:22:19 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:22:19 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:22:19 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:22:19 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:22:19 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:22:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:22:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:22:20 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:22:20 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:22:36 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:22:36 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:22:36 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:22:36 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:22:36 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:22:36 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:22:36 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:22:36 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:22:36 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:22:36 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:22:36 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:22:36 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:22:36 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:22:36 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:22:36 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:22:36 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:22:36 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:22:36 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:22:36 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:22:36 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:22:36 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:22:36 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:22:36 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:22:36 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:22:36 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:22:36 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:22:36 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:22:36 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:22:36 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:22:36 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:22:36 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:22:36 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:22:36 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:22:36 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:22:36 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:22:36 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:22:36 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:22:36 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:22:36 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:22:36 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:22:37 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:22:37 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:22:37 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:22:37 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:22:37 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-26 19:44:06 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:44:06 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_194339.csv
2025-04-26 19:44:06 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:44:06 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:44:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:44:06 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:44:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:44:06 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:44:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:44:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:44:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:44:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:44:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:44:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:44:06 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:44:06 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:44:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:44:06 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:44:06 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:44:06 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:44:06 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:44:06 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:44:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:44:06 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:44:06 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:44:06 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:44:06 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:44:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:44:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:44:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:44:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:44:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:44:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:44:06 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:44:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:44:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:44:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:44:07 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:44:07 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:44:07 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:44:07 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:44:07 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:44:07 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_194339.csv
2025-04-26 19:44:07 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:44:07 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:44:07 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:44:07 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:44:07 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:44:07 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:44:07 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:44:07 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:44:07 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:44:07 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:44:07 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:44:07 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:44:07 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:44:07 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:44:07 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:44:07 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:44:07 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:44:07 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:44:07 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:44:07 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:44:07 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:44:07 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:44:07 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:44:07 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:44:07 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:44:07 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:44:07 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:44:07 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:44:07 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:44:07 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:44:07 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:44:07 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:44:07 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:44:07 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:44:07 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:44:07 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:44:07 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:44:07 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:44:07 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:44:07 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:44:07 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:44:07 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:44:07 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:44:23 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:44:23 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:44:23 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:44:23 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:44:23 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:44:23 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:44:23 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:44:23 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:44:23 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:44:23 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:44:23 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:44:23 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:44:23 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:44:23 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:44:23 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:44:23 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:44:23 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:44:23 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:44:23 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:44:23 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:44:23 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:44:23 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:44:23 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:44:23 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:44:23 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:44:23 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:44:23 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:44:23 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:44:23 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:44:23 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:44:23 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:44:23 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:44:23 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:44:23 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:44:23 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:44:23 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:44:23 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:44:23 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:44:23 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:44:23 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:44:24 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:44:24 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:44:24 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:44:24 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:44:24 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-26 19:45:40 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:45:40 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_194514.csv
2025-04-26 19:45:40 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:45:40 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:45:40 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:45:40 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:45:40 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:45:40 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:45:40 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:45:40 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:45:40 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:45:40 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:45:40 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:45:40 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:45:40 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:45:40 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:45:40 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:45:40 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:45:40 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:45:40 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:45:40 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:45:40 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:45:40 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:45:40 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:45:40 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:45:40 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:45:40 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:45:40 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:45:40 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:45:40 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:45:40 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:45:40 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:45:40 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:45:40 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:45:40 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:45:40 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:45:40 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:45:40 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:45:40 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:45:41 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:45:41 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:45:41 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:45:41 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_194514.csv
2025-04-26 19:45:41 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:45:41 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:45:41 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:45:41 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:45:41 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:45:41 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:45:41 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:45:41 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:45:41 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:45:41 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:45:41 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:45:41 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:45:41 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:45:41 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:45:41 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:45:41 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:45:41 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:45:41 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:45:41 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:45:41 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:45:41 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:45:41 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:45:41 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:45:41 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:45:41 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:45:41 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:45:41 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:45:41 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:45:41 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:45:41 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:45:41 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:45:41 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:45:41 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:45:41 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:45:41 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:45:41 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:45:41 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:45:41 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:45:41 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:45:41 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:45:41 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:45:41 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:45:41 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:45:58 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:45:58 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:45:58 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:45:58 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:45:58 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:45:58 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:45:58 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:45:58 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:45:58 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:45:58 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:45:58 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:45:58 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:45:58 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:45:58 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:45:58 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:45:58 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:45:58 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:45:58 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:45:58 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:45:58 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:45:58 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:45:58 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:45:58 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:45:58 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:45:58 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:45:58 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:45:58 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:45:58 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:45:58 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:45:58 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:45:58 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:45:58 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:45:58 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:45:58 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:45:58 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:45:58 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:45:58 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:45:58 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:45:58 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:45:58 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:45:58 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:45:58 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:45:58 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:45:58 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:45:58 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
