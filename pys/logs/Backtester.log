2025-04-26 16:45:47 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 16:45:47 - Backtester - INFO - Загрузка данных из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 16:45:48 - Backtester - INFO - Загружено 7110 строк данных
2025-04-26 16:45:48 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 16:45:48 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 16:45:48 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 16:45:48 - Backtester - INFO - Расчет доходности портфеля с 17 весами
2025-04-26 16:45:48 - Backtester - INFO - Анализ данных доходностей:
2025-04-26 16:45:48 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых точек, макс. значение: 0.072261
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер ALRS: 27/468 ненулевых точек, макс. значение: 0.066044
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер GAZP: 65/468 ненулевых точек, макс. значение: 0.081346
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер GMKN: 22/462 ненулевых точек, макс. значение: 0.044227
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых точек, макс. значение: 0.072129
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер MAGN: 41/466 ненулевых точек, макс. значение: 0.059012
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер MTSS: 44/468 ненулевых точек, макс. значение: 0.058961
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер MVID: 39/468 ненулевых точек, макс. значение: 0.130662
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер NVTK: 97/465 ненулевых точек, макс. значение: 0.093680
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер PHOR: 35/107 ненулевых точек, макс. значение: 0.163265
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер PHOR с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер ROSN: 113/468 ненулевых точек, макс. значение: 0.099575
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых точек, макс. значение: 0.060226
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер SBER: 59/468 ненулевых точек, макс. значение: 0.123624
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер SBER с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Тикер SIBN: 85/464 ненулевых точек, макс. значение: 0.067986
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер SNGS: 48/468 ненулевых точек, макс. значение: 0.051565
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 16:45:48 - Backtester - INFO - Тикер TATN: 109/466 ненулевых точек, макс. значение: 0.063841
2025-04-26 16:45:48 - Backtester - INFO - Добавлен тикер TATN с весом 0.1200
2025-04-26 16:45:48 - Backtester - INFO - Добавлена безрисковая часть с весом 40.0% и ставкой 7.50%
2025-04-26 16:45:48 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 16:45:48 - Backtester - INFO - Кумулятивная доходность: 1.58%, Годовая доходность: 0.85%, Шарп: -331.10, Макс. просадка: -1.56%
2025-04-26 16:45:48 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 16:45:48 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/cumulative_return.png
2025-04-26 16:45:48 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/drawdown.png
2025-04-26 16:45:48 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results
2025-04-26 16:57:59 - Backtester - INFO - Найдены детали по 5 облигациям в портфеле
2025-04-26 16:57:59 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 16:57:59 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 16:58:00 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 16:58:00 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-04-15
2025-04-26 16:58:00 - Backtester - INFO - Загрузка исторических данных по облигациям
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A105EW9 недоступны, будет использована фиксированная доходность 21.33%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A0JSGV0 недоступны, будет использована фиксированная доходность 21.48%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации KG000A3LSJ06 недоступны, будет использована фиксированная доходность 20.85%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A0JUAH8 недоступны, будет использована фиксированная доходность 20.66%
2025-04-26 16:58:00 - Backtester - INFO - Исторические данные для облигации RU000A0JS4Z7 недоступны, будет использована фиксированная доходность 18.58%
2025-04-26 16:58:00 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 16:58:00 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 16:58:00 - Backtester - INFO - Расчет доходностей по облигациям
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A105EW9: 0.076753% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JSGV0: 0.077244% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации KG000A3LSJ06: 0.075179% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JUAH8: 0.074554% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JS4Z7: 0.067649% (дневная)
2025-04-26 16:58:00 - Backtester - INFO - Рассчитаны доходности для 5 облигаций
2025-04-26 16:58:00 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 16:58:00 - Backtester - INFO - Рассчитана доходность портфеля за 105 дней
2025-04-26 16:58:00 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 16:58:00 - Backtester - INFO - Кумулятивная доходность: 0.00%, Годовая доходность: 0.00%, Шарп: 0.00, Макс. просадка: 0.00%
2025-04-26 16:58:00 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 16:58:00 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/cumulative_return.png
2025-04-26 16:58:00 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/drawdown.png
2025-04-26 16:58:00 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/returns_distribution.png
2025-04-26 16:58:00 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/portfolio_structure.png
2025-04-26 16:58:00 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test
2025-04-26 16:58:50 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 16:58:50 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 16:58:50 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 16:58:50 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 16:58:50 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 16:58:50 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 16:58:50 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер SBER с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 16:58:50 - Backtester - INFO - Добавлен тикер TATN с весом 0.1200
2025-04-26 16:58:50 - Backtester - INFO - Добавлена безрисковая часть с весом 0.4000 и ставкой 7.50% годовых
2025-04-26 16:58:50 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 16:58:50 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 16:58:50 - Backtester - INFO - Кумулятивная доходность: -1.02%, Годовая доходность: -0.55%, Шарп: -2.14, Макс. просадка: -4.21%
2025-04-26 16:58:50 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 16:58:50 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/cumulative_return.png
2025-04-26 16:58:50 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/drawdown.png
2025-04-26 16:58:51 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/results/returns_distribution.png
2025-04-26 17:08:43 - Backtester - INFO - Найдены детали по 5 облигациям в портфеле
2025-04-26 17:08:43 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:08:43 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:08:44 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:08:44 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-04-15
2025-04-26 17:08:44 - Backtester - INFO - Загрузка исторических данных по облигациям
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A105EW9 недоступны, будет использована фиксированная доходность 21.33%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A0JSGV0 недоступны, будет использована фиксированная доходность 21.48%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации KG000A3LSJ06 недоступны, будет использована фиксированная доходность 20.85%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A0JUAH8 недоступны, будет использована фиксированная доходность 20.66%
2025-04-26 17:08:44 - Backtester - INFO - Исторические данные для облигации RU000A0JS4Z7 недоступны, будет использована фиксированная доходность 18.58%
2025-04-26 17:08:44 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:08:44 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:08:44 - Backtester - INFO - Расчет доходностей по облигациям
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A105EW9: 0.076753% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JSGV0: 0.077244% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации KG000A3LSJ06: 0.075179% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JUAH8: 0.074554% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JS4Z7: 0.067649% (дневная)
2025-04-26 17:08:44 - Backtester - INFO - Рассчитаны доходности для 5 облигаций
2025-04-26 17:08:44 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 17:08:44 - Backtester - INFO - Рассчитана доходность портфеля за 105 дней
2025-04-26 17:08:44 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:08:44 - Backtester - INFO - Кумулятивная доходность: 0.00%, Годовая доходность: 0.00%, Шарп: 0.00, Макс. просадка: 0.00%
2025-04-26 17:08:44 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:08:44 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/cumulative_return.png
2025-04-26 17:08:44 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/drawdown.png
2025-04-26 17:08:44 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/returns_distribution.png
2025-04-26 17:08:44 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/portfolio_structure.png
2025-04-26 17:08:44 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test
2025-04-26 17:13:08 - Backtester - INFO - Найдены детали по 5 облигациям в портфеле
2025-04-26 17:13:08 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:13:08 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:13:08 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:13:08 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-04-15
2025-04-26 17:13:08 - Backtester - INFO - Загрузка исторических данных по облигациям
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A105EW9 недоступны, будет использована фиксированная доходность 21.33%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A0JSGV0 недоступны, будет использована фиксированная доходность 21.48%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации KG000A3LSJ06 недоступны, будет использована фиксированная доходность 20.85%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A0JUAH8 недоступны, будет использована фиксированная доходность 20.66%
2025-04-26 17:13:08 - Backtester - INFO - Исторические данные для облигации RU000A0JS4Z7 недоступны, будет использована фиксированная доходность 18.58%
2025-04-26 17:13:08 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:13:08 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:13:08 - Backtester - INFO - Расчет доходностей по облигациям
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A105EW9: 0.076753% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JSGV0: 0.077244% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации KG000A3LSJ06: 0.075179% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JUAH8: 0.074554% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Создана фиксированная доходность для облигации RU000A0JS4Z7: 0.067649% (дневная)
2025-04-26 17:13:08 - Backtester - INFO - Рассчитаны доходности для 5 облигаций
2025-04-26 17:13:08 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:13:08 - Backtester - INFO - Веса акций: {'weights': {'AFKS': np.float64(0.08999999999999996), 'ALRS': np.float64(5.958999778848112e-17), 'GAZP': np.float64(3.2966794617341133e-17), 'GMKN': np.float64(0.08999999999999998), 'LKOH': np.float64(7.688430574485888e-17), 'MAGN': np.float64(0.05999999999999993), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.09), 'NVTK': np.float64(0.09), 'PHOR': np.float64(0.0), 'ROSN': np.float64(7.257519008983699e-17), 'RUAL': np.float64(0.0), 'SBER': np.float64(7.867970377032823e-17), 'SIBN': np.float64(6.910330827499444e-17), 'SNGS': np.float64(0.08999999999999991), 'TATN': np.float64(0.08999999999999996), 'RISK_FREE': 0.4}, 'expected_return': np.float64(0.09994290364330714), 'expected_volatility': np.float64(0.14490084593427238), 'sharpe_ratio': np.float64(-0.0003940374283167691), 'risk_free_rate': 0.1, 'rf_allocation': 0.4, 'optimization_model': 'black_litterman'}
2025-04-26 17:13:08 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:13:08 - Backtester - INFO - Тикеров в весах портфеля: 7
2025-04-26 17:13:08 - Backtester - INFO - Совпадающих тикеров: 0
2025-04-26 17:13:08 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MAGN', 'TATN', 'ALRS', 'ROSN', 'GAZP', 'LKOH', 'RUAL', 'SIBN', 'NVTK', 'MVID', 'PHOR', 'SNGS', 'AFKS', 'GMKN', 'SBER', 'MTSS'}
2025-04-26 17:13:08 - Backtester - WARNING - Тикеры в весах, отсутствующие в данных: {'expected_volatility', 'weights', 'rf_allocation', 'risk_free_rate', 'expected_return', 'sharpe_ratio', 'optimization_model'}
2025-04-26 17:13:08 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:13:08 - Backtester - INFO -   AFKS: 17/105 ненулевых сигналов (16.2%)
2025-04-26 17:13:08 - Backtester - INFO -   ALRS: 11/105 ненулевых сигналов (10.5%)
2025-04-26 17:13:08 - Backtester - INFO -   GAZP: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   GMKN: 13/99 ненулевых сигналов (13.1%)
2025-04-26 17:13:08 - Backtester - INFO -   LKOH: 29/105 ненулевых сигналов (27.6%)
2025-04-26 17:13:08 - Backtester - INFO -   MAGN: 10/105 ненулевых сигналов (9.5%)
2025-04-26 17:13:08 - Backtester - INFO -   MTSS: 10/105 ненулевых сигналов (9.5%)
2025-04-26 17:13:08 - Backtester - INFO -   MVID: 11/105 ненулевых сигналов (10.5%)
2025-04-26 17:13:08 - Backtester - INFO -   NVTK: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   PHOR: 1/1 ненулевых сигналов (100.0%)
2025-04-26 17:13:08 - Backtester - INFO -   ROSN: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   RUAL: 17/105 ненулевых сигналов (16.2%)
2025-04-26 17:13:08 - Backtester - INFO -   SBER: 13/105 ненулевых сигналов (12.4%)
2025-04-26 17:13:08 - Backtester - INFO -   SIBN: 18/105 ненулевых сигналов (17.1%)
2025-04-26 17:13:08 - Backtester - INFO -   SNGS: 10/105 ненулевых сигналов (9.5%)
2025-04-26 17:13:08 - Backtester - INFO -   TATN: 13/103 ненулевых сигналов (12.6%)
2025-04-26 17:13:08 - Backtester - INFO - Всего добавлено 0 акций в портфель
2025-04-26 17:13:08 - Backtester - INFO - Найдена безрисковая часть с весом 0.0000 и 5 облигациями
2025-04-26 17:13:08 - Backtester - INFO - Всего добавлено 0 облигаций в портфель
2025-04-26 17:13:08 - Backtester - ERROR - Не удалось добавить ни одного актива в портфель!
2025-04-26 17:13:08 - Backtester - INFO - Рассчитана доходность портфеля за 105 дней
2025-04-26 17:13:08 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:13:08 - Backtester - INFO - Кумулятивная доходность: 0.00%, Годовая доходность: 0.00%, Шарп: 0.00, Макс. просадка: 0.00%
2025-04-26 17:13:08 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:13:08 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/cumulative_return.png
2025-04-26 17:13:09 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/drawdown.png
2025-04-26 17:13:09 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/returns_distribution.png
2025-04-26 17:13:09 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test/portfolio_structure.png
2025-04-26 17:13:09 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/portfolio/backtests/full_portfolio_test
2025-04-26 17:17:05 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:17:05 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:17:06 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:17:06 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:17:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:17:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:17:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:17:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:17:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:17:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:17:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:17:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:17:06 - Backtester - INFO -   AFKS: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:17:06 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-26 17:17:06 - Backtester - INFO -   GAZP: 19/103 ненулевых сигналов (18.4%)
2025-04-26 17:17:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:17:06 - Backtester - INFO -   LKOH: 40/103 ненулевых сигналов (38.8%)
2025-04-26 17:17:06 - Backtester - INFO -   MAGN: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:17:06 - Backtester - INFO -   MTSS: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:17:06 - Backtester - INFO -   MVID: 10/103 ненулевых сигналов (9.7%)
2025-04-26 17:17:06 - Backtester - INFO -   NVTK: 31/103 ненулевых сигналов (30.1%)
2025-04-26 17:17:06 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-26 17:17:06 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-26 17:17:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:17:06 - Backtester - INFO -   SBER: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:17:06 - Backtester - INFO -   SIBN: 20/103 ненулевых сигналов (19.4%)
2025-04-26 17:17:06 - Backtester - INFO -   SNGS: 12/103 ненулевых сигналов (11.7%)
2025-04-26 17:17:06 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-26 17:17:06 - Backtester - INFO - Тикер AFKS: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер ALRS: 3/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для ALRS: [nan, -0.0, 0.0, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер GAZP: 20/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для GAZP: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер GMKN: 5/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для GMKN: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер LKOH: 40/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.006889763779527547, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер MAGN: 7/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для MAGN: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер MTSS: 9/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для MTSS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер MVID: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для MVID: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер NVTK: 32/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для NVTK: [nan, -0.0, 0.003112678979041217, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер ROSN: 23/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для ROSN: [nan, -0.0, -0.00451656072264961, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер SBER: 10/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер SBER с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Тикер SIBN: 20/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для SIBN: [nan, -0.0, 0.002532046209843264, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер SNGS: 13/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для SNGS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 17:17:06 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:17:06 - Backtester - INFO - Добавлен тикер TATN с весом 0.1400
2025-04-26 17:17:06 - Backtester - INFO - Всего добавлено 15 акций в портфель
2025-04-26 17:17:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:17:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:17:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:17:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:17:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0083521803538856, -0.00014640826319937538, -0.0008784585480497116, 8.61083810813401e-05]
2025-04-26 17:17:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:17:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:17:06 - Backtester - INFO - Кумулятивная доходность: -1.42%, Годовая доходность: -3.43%, Шарп: -1.85, Макс. просадка: -2.63%
2025-04-26 17:17:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:17:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/improved_pipeline/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:17:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/improved_pipeline/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:17:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/improved_pipeline/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:47:04 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:47:04 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:47:04 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:47:04 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:47:04 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:47:04 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:47:04 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:47:04 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:47:04 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:47:04 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:47:04 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:47:04 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:47:04 - Backtester - INFO -   AFKS: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:47:04 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-26 17:47:04 - Backtester - INFO -   GAZP: 19/103 ненулевых сигналов (18.4%)
2025-04-26 17:47:04 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:47:04 - Backtester - INFO -   LKOH: 40/103 ненулевых сигналов (38.8%)
2025-04-26 17:47:04 - Backtester - INFO -   MAGN: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:47:04 - Backtester - INFO -   MTSS: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:47:04 - Backtester - INFO -   MVID: 10/103 ненулевых сигналов (9.7%)
2025-04-26 17:47:04 - Backtester - INFO -   NVTK: 31/103 ненулевых сигналов (30.1%)
2025-04-26 17:47:04 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-26 17:47:04 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-26 17:47:04 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:47:04 - Backtester - INFO -   SBER: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:47:04 - Backtester - INFO -   SIBN: 20/103 ненулевых сигналов (19.4%)
2025-04-26 17:47:04 - Backtester - INFO -   SNGS: 12/103 ненулевых сигналов (11.7%)
2025-04-26 17:47:04 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-26 17:47:04 - Backtester - INFO - Тикер AFKS: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер ALRS: 3/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для ALRS: [nan, -0.0, 0.0, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер GAZP: 20/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для GAZP: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер GMKN: 5/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для GMKN: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер LKOH: 40/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.006889763779527547, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер MAGN: 7/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для MAGN: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер MTSS: 9/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для MTSS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер MVID: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для MVID: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер NVTK: 32/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для NVTK: [nan, -0.0, 0.003112678979041217, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер ROSN: 23/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для ROSN: [nan, -0.0, -0.00451656072264961, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер SBER: 10/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер SBER с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Тикер SIBN: 20/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для SIBN: [nan, -0.0, 0.002532046209843264, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер SNGS: 13/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для SNGS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 17:47:04 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-26 17:47:04 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:47:04 - Backtester - INFO - Добавлен тикер TATN с весом 0.1400
2025-04-26 17:47:04 - Backtester - INFO - Всего добавлено 15 акций в портфель
2025-04-26 17:47:04 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:47:04 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:47:04 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:47:04 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:47:05 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0083521803538856, -0.00014640826319937538, -0.0008784585480497116, 8.61083810813401e-05]
2025-04-26 17:47:05 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:47:05 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:47:05 - Backtester - INFO - Кумулятивная доходность: -1.42%, Годовая доходность: -3.43%, Шарп: -1.85, Макс. просадка: -2.63%
2025-04-26 17:47:05 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:47:05 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:47:05 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:47:05 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:57:00 - Backtester - INFO - Запуск пайплайна бэктестирования полного портфеля
2025-04-26 17:57:00 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/signals.csv
2025-04-26 17:57:00 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 17:57:00 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:57:00 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:57:00 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:57:00 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:57:00 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:57:00 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:57:00 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:57:00 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:57:00 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:57:00 - Backtester - INFO -   AFKS: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:57:00 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-26 17:57:00 - Backtester - INFO -   GAZP: 19/103 ненулевых сигналов (18.4%)
2025-04-26 17:57:00 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:57:00 - Backtester - INFO -   LKOH: 40/103 ненулевых сигналов (38.8%)
2025-04-26 17:57:00 - Backtester - INFO -   MAGN: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:57:00 - Backtester - INFO -   MTSS: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:57:00 - Backtester - INFO -   MVID: 10/103 ненулевых сигналов (9.7%)
2025-04-26 17:57:00 - Backtester - INFO -   NVTK: 31/103 ненулевых сигналов (30.1%)
2025-04-26 17:57:00 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-26 17:57:00 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-26 17:57:00 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:57:00 - Backtester - INFO -   SBER: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:57:00 - Backtester - INFO -   SIBN: 20/103 ненулевых сигналов (19.4%)
2025-04-26 17:57:00 - Backtester - INFO -   SNGS: 12/103 ненулевых сигналов (11.7%)
2025-04-26 17:57:00 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-26 17:57:00 - Backtester - INFO - Тикер AFKS: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер AFKS с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер ALRS: 3/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для ALRS: [nan, -0.0, 0.0, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер ALRS с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер GAZP: 20/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для GAZP: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер GAZP с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер GMKN: 5/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для GMKN: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер GMKN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер LKOH: 40/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.006889763779527547, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер LKOH с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер MAGN: 7/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для MAGN: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер MAGN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер MTSS: 9/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для MTSS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер MTSS с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер MVID: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для MVID: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер MVID с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер NVTK: 32/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для NVTK: [nan, -0.0, 0.003112678979041217, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер NVTK с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер ROSN: 23/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для ROSN: [nan, -0.0, -0.00451656072264961, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер ROSN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер RUAL с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер SBER: 10/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер SBER с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Тикер SIBN: 20/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для SIBN: [nan, -0.0, 0.002532046209843264, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер SIBN с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер SNGS: 13/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для SNGS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер SNGS с весом 0.0000
2025-04-26 17:57:00 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:57:00 - Backtester - INFO - Добавлен тикер TATN с весом 0.1400
2025-04-26 17:57:00 - Backtester - INFO - Всего добавлено 15 акций в портфель
2025-04-26 17:57:00 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:57:00 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:57:00 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:57:00 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:57:00 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0083521803538856, -0.00014640826319937538, -0.0008784585480497116, 8.61083810813401e-05]
2025-04-26 17:57:00 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:57:00 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:57:00 - Backtester - INFO - Кумулятивная доходность: -1.42%, Годовая доходность: -3.43%, Шарп: -1.85, Макс. просадка: -2.63%
2025-04-26 17:57:00 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:57:01 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:57:01 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:57:01 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:58:05 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 17:58:05 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_signals_20250426_175739.csv
2025-04-26 17:58:05 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 17:58:05 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 17:58:05 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:58:05 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 17:58:05 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 17:58:05 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:58:05 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 17:58:05 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:58:05 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:58:05 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:58:05 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:58:05 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:58:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:58:06 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 17:58:06 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 17:58:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 17:58:06 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 17:58:06 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 17:58:06 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 17:58:06 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 17:58:06 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 17:58:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 17:58:06 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 17:58:06 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 17:58:06 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 17:58:06 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 17:58:06 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:58:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 17:58:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 17:58:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:58:06 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 17:58:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:58:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 17:58:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 17:58:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 17:58:06 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 17:58:06 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 17:58:06 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest
2025-04-26 17:58:06 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 17:58:06 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_signals_20250426_175739.csv
2025-04-26 17:58:06 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 17:58:06 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 17:58:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 17:58:06 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 17:58:06 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 17:58:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 17:58:06 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 17:58:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 17:58:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 17:58:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 17:58:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 17:58:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 17:58:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 17:58:06 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 17:58:06 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 17:58:06 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 17:58:06 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 17:58:06 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 17:58:06 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 17:58:06 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 17:58:06 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 17:58:06 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 17:58:06 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 17:58:06 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 17:58:06 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 17:58:06 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 17:58:06 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 17:58:06 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 17:58:06 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 17:58:06 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 17:58:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 17:58:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 17:58:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 17:58:06 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 17:58:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 17:58:06 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 17:58:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 17:58:06 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 17:58:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 17:58:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 17:58:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 17:58:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 17:58:06 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 17:58:06 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 17:58:06 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest
2025-04-26 18:17:01 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 18:17:01 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_signals_20250426_181634.csv
2025-04-26 18:17:01 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 18:17:01 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 18:17:01 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 18:17:01 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 18:17:01 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 18:17:01 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 18:17:01 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 18:17:01 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 18:17:01 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 18:17:01 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 18:17:01 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 18:17:01 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 18:17:01 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 18:17:01 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 18:17:01 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 18:17:01 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 18:17:01 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 18:17:01 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 18:17:01 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 18:17:01 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 18:17:01 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 18:17:01 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 18:17:01 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 18:17:01 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 18:17:01 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 18:17:01 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 18:17:01 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 18:17:01 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 18:17:01 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 18:17:01 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 18:17:01 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 18:17:01 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 18:17:01 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 18:17:01 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 18:17:01 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/test_backtest
2025-04-26 18:17:01 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 18:17:01 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_signals_20250426_181634.csv
2025-04-26 18:17:01 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 18:17:01 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 18:17:01 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 18:17:01 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 18:17:01 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 18:17:01 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 18:17:01 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 18:17:01 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 18:17:01 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 18:17:01 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 18:17:01 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 18:17:01 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 18:17:01 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 18:17:01 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 18:17:01 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 18:17:01 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 18:17:01 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 18:17:01 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 18:17:01 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 18:17:01 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 18:17:01 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 18:17:01 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 18:17:01 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 18:17:01 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 18:17:01 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 18:17:01 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 18:17:01 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 18:17:01 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 18:17:01 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 18:17:01 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 18:17:01 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 18:17:01 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 18:17:01 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 18:17:01 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 18:17:01 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 18:17:01 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 18:17:01 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 18:17:01 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 18:17:02 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 18:17:02 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 18:17:02 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 18:17:02 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 18:17:02 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 18:17:02 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/honest_backtest/train_backtest
2025-04-26 18:17:18 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 18:17:18 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 18:17:18 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 18:17:18 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 18:17:18 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 18:17:18 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 18:17:18 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 18:17:18 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 18:17:18 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 18:17:18 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 18:17:18 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 18:17:18 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 18:17:18 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 18:17:18 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 18:17:18 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 18:17:18 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 18:17:18 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 18:17:18 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 18:17:18 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 18:17:18 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 18:17:18 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 18:17:18 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 18:17:18 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 18:17:18 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 18:17:18 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 18:17:18 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 18:17:18 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 18:17:18 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 18:17:18 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 18:17:18 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 18:17:18 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 18:17:18 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 18:17:18 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 18:17:18 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 18:17:18 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 18:17:18 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 18:17:18 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 18:17:18 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 18:17:18 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 18:17:18 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 18:17:18 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 18:17:18 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 18:17:18 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 18:17:18 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 18:17:18 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 18:17:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 18:17:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 18:17:19 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 18:17:19 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/final_portfolio/production_portfolio/backtest
2025-04-26 19:13:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:13:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_191253.csv
2025-04-26 19:13:20 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:13:20 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:13:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:13:20 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:13:20 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:13:20 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:13:20 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:13:20 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:13:20 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:13:20 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:13:20 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:13:20 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:13:20 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:13:20 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:13:20 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:13:20 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:13:20 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:13:20 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:13:20 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:13:20 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:13:20 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:13:20 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:13:20 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:13:20 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:13:20 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:13:20 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:13:20 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:20 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:13:20 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:13:20 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:13:20 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:13:20 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:13:20 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:13:20 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:13:20 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:13:20 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:13:20 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:13:20 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:13:20 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:13:20 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:13:20 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:13:20 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:13:20 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:13:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:13:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_191253.csv
2025-04-26 19:13:20 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:13:20 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:13:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:13:20 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:13:20 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:13:21 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:13:21 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:13:21 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:13:21 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:13:21 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:13:21 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:13:21 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:13:21 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:13:21 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:13:21 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:13:21 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:13:21 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:13:21 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:13:21 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:13:21 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:13:21 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:13:21 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:13:21 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:13:21 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:13:21 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:13:21 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:13:21 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:13:21 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:13:21 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:13:21 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:13:21 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:13:21 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:21 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:13:21 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:13:21 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:13:21 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:13:21 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:13:21 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:13:21 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:13:21 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:13:21 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:13:21 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:13:21 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:13:21 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:13:21 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:13:21 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:13:21 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:13:21 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:13:38 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:13:38 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:13:38 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:13:38 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:13:38 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:13:38 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:13:38 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:13:39 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:13:39 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:13:39 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:13:39 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:13:39 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:13:39 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:13:39 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:13:39 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:13:39 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:13:39 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:13:39 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:13:39 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:13:39 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:13:39 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:13:39 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:13:39 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:13:39 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:13:39 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:13:39 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:13:39 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:13:39 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:13:39 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:13:39 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:13:39 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:13:39 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:13:39 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:13:39 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:13:39 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:13:39 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:13:39 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:13:39 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:13:39 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:13:39 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:13:39 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:13:39 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:13:39 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:13:39 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:13:39 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:13:39 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:13:39 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:13:39 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:13:39 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:13:39 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191234_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-26 19:19:48 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:19:48 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_191920.csv
2025-04-26 19:19:48 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:19:48 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:19:48 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:19:48 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:19:48 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:19:48 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:19:48 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:19:48 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:19:48 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:19:48 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:19:48 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:19:48 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:19:48 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:19:48 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:19:48 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:19:48 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:19:48 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:19:48 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:19:48 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:19:48 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:19:48 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:19:48 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:19:48 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:19:48 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:19:48 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:19:48 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:19:48 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:19:48 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:19:48 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:19:48 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:19:48 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:19:48 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:19:48 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:19:48 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:19:48 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:19:48 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:19:48 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:19:48 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:19:48 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:19:48 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:19:48 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:19:48 - Backtester - ERROR - Ошибка при создании графика структуры портфеля: [Errno 2] No such file or directory: '/Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_191900_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png'
2025-04-26 19:22:19 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:22:19 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_192152.csv
2025-04-26 19:22:19 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:22:19 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:22:19 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:22:19 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:22:19 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:22:19 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:22:19 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:22:19 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:22:19 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:22:19 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:22:19 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:22:19 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:22:19 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:22:19 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:22:19 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:22:19 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:22:19 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:22:19 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:22:19 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:22:19 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:22:19 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:22:19 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:22:19 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:22:19 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:22:19 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:22:19 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:22:19 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:22:19 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:22:19 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:22:19 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:22:19 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:22:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:22:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:22:19 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:22:19 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:22:19 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:22:19 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_192152.csv
2025-04-26 19:22:19 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:22:19 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:22:19 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:22:19 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:22:19 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:22:19 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:22:19 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:22:19 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:22:19 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:22:19 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:22:19 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:22:19 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:22:19 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:22:19 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:22:19 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:22:19 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:22:19 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:22:19 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:22:19 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:22:19 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:22:19 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:22:19 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:22:19 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:22:19 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:22:19 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:22:19 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:22:19 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:22:19 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:22:19 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:22:19 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:22:19 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:22:19 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:22:19 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:22:19 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:22:19 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:22:19 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:22:19 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:22:19 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:22:19 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:22:19 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:22:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:22:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:22:20 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:22:20 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:22:36 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:22:36 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:22:36 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:22:36 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:22:36 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:22:36 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:22:36 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:22:36 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:22:36 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:22:36 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:22:36 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:22:36 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:22:36 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:22:36 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:22:36 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:22:36 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:22:36 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:22:36 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:22:36 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:22:36 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:22:36 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:22:36 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:22:36 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:22:36 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:22:36 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:22:36 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:22:36 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:22:36 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:22:36 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:22:36 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:22:36 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:22:36 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:22:36 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:22:36 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:22:36 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:22:36 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:22:36 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:22:36 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:22:36 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:22:36 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:22:36 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:22:36 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:22:36 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:22:36 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:22:37 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:22:37 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:22:37 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:22:37 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:22:37 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_192132_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-26 19:44:06 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:44:06 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_194339.csv
2025-04-26 19:44:06 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:44:06 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:44:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:44:06 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:44:06 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:44:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:44:06 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:44:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:44:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:44:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:44:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:44:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:44:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:44:06 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:44:06 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:44:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:44:06 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:44:06 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:44:06 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:44:06 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:44:06 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:44:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:44:06 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:44:06 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:44:06 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:44:06 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:44:06 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:44:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:44:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:44:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:44:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:44:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:44:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:44:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:44:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:44:06 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:44:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:44:06 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:44:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:44:07 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:44:07 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:44:07 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:44:07 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:44:07 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:44:07 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_194339.csv
2025-04-26 19:44:07 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:44:07 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:44:07 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:44:07 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:44:07 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:44:07 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:44:07 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:44:07 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:44:07 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:44:07 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:44:07 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:44:07 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:44:07 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:44:07 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:44:07 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:44:07 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:44:07 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:44:07 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:44:07 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:44:07 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:44:07 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:44:07 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:44:07 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:44:07 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:44:07 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:44:07 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:44:07 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:44:07 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:44:07 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:44:07 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:44:07 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:07 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:44:07 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:44:07 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:44:07 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:44:07 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:44:07 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:44:07 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:44:07 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:44:07 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:44:07 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:44:07 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:44:07 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:44:07 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:44:07 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:44:07 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:44:07 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:44:23 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:44:23 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:44:23 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:44:23 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:44:23 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:44:23 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:44:23 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:44:23 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:44:23 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:44:23 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:44:23 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:44:23 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:44:23 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:44:23 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:44:23 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:44:23 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:44:23 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:44:23 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:44:23 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:44:23 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:44:23 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:44:23 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:44:23 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:44:23 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:44:23 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:44:23 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:44:23 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:44:23 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:44:23 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:44:23 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:44:23 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:44:23 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:44:23 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:44:23 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:44:23 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:44:23 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:44:23 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:44:23 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:44:23 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:44:23 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:44:23 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:44:23 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:44:23 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:44:23 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:44:24 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:44:24 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:44:24 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:44:24 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:44:24 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194320_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-26 19:45:40 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:45:40 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_signals_20250426_194514.csv
2025-04-26 19:45:40 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-26 19:45:40 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-26 19:45:40 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:45:40 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-26 19:45:40 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-26 19:45:40 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:45:40 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:45:40 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:45:40 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:45:40 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:45:40 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:45:40 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:45:40 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:45:40 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-26 19:45:40 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-26 19:45:40 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-26 19:45:40 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-26 19:45:40 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-26 19:45:40 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-26 19:45:40 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-26 19:45:40 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-26 19:45:40 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-26 19:45:40 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-26 19:45:40 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-26 19:45:40 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-26 19:45:40 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-26 19:45:40 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-26 19:45:40 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:40 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:45:40 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:45:40 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:45:40 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:45:40 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-26 19:45:40 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-26 19:45:40 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-26 19:45:40 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:45:40 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-26 19:45:40 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:45:40 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-26 19:45:40 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-26 19:45:40 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-26 19:45:40 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-26 19:45:41 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-26 19:45:41 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/test_backtest
2025-04-26 19:45:41 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:45:41 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_signals_20250426_194514.csv
2025-04-26 19:45:41 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-26 19:45:41 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-26 19:45:41 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:45:41 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-26 19:45:41 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-26 19:45:41 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:45:41 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:45:41 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:45:41 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-26 19:45:41 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:45:41 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:45:41 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:45:41 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:45:41 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-26 19:45:41 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-26 19:45:41 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-26 19:45:41 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-26 19:45:41 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-26 19:45:41 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-26 19:45:41 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-26 19:45:41 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-26 19:45:41 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-26 19:45:41 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-26 19:45:41 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-26 19:45:41 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-26 19:45:41 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-26 19:45:41 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-26 19:45:41 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-26 19:45:41 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-26 19:45:41 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:45:41 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:41 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:45:41 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:45:41 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:45:41 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:45:41 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-26 19:45:41 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-26 19:45:41 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-26 19:45:41 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:45:41 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-26 19:45:41 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:45:41 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-26 19:45:41 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-26 19:45:41 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-26 19:45:41 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-26 19:45:41 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-26 19:45:41 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/honest_backtest/train_backtest
2025-04-26 19:45:58 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-26 19:45:58 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-26 19:45:58 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-26 19:45:58 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-26 19:45:58 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-26 19:45:58 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-26 19:45:58 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-26 19:45:58 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-26 19:45:58 - Backtester - INFO - Расчет доходности портфеля
2025-04-26 19:45:58 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-26 19:45:58 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-26 19:45:58 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-26 19:45:58 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-26 19:45:58 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-26 19:45:58 - Backtester - INFO - Статистика сигналов в данных:
2025-04-26 19:45:58 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-26 19:45:58 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-26 19:45:58 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-26 19:45:58 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-26 19:45:58 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-26 19:45:58 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-26 19:45:58 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-26 19:45:58 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:45:58 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-26 19:45:58 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-26 19:45:58 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-26 19:45:58 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-26 19:45:58 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-26 19:45:58 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-26 19:45:58 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-26 19:45:58 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-26 19:45:58 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-26 19:45:58 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-26 19:45:58 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-26 19:45:58 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-26 19:45:58 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-26 19:45:58 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-26 19:45:58 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-26 19:45:58 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-26 19:45:58 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-26 19:45:58 - Backtester - INFO - Расчет метрик эффективности
2025-04-26 19:45:58 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-26 19:45:58 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-26 19:45:58 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-26 19:45:58 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-26 19:45:58 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-26 19:45:58 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-26 19:45:58 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-26 19:45:58 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250426_194455_standard_with_shorts/shorts_portfolio/production_portfolio/backtest
2025-04-27 16:51:33 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 16:51:33 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_signals_20250427_165107.csv
2025-04-27 16:51:33 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 16:51:33 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 16:51:33 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 16:51:33 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-27 16:51:33 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-27 16:51:33 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 16:51:33 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 16:51:33 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 16:51:33 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.1399999999999789), 'ALRS': np.float64(1.4671281640149614e-14), 'GAZP': np.float64(3.236855228294644e-13), 'GMKN': np.float64(1.7296299079771252e-14), 'LKOH': np.float64(0.13999999999952753), 'MAGN': np.float64(1.6178443886852273e-14), 'MTSS': np.float64(1.1679735746640557e-13), 'MVID': np.float64(2.0262224525399734e-14), 'NVTK': np.float64(4.1024929682116123e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.1486255245545548e-14), 'RUAL': np.float64(0.13999999999996995), 'SBER': np.float64(0.13999999999996846), 'SIBN': np.float64(1.1799535723054148e-14), 'SNGS': np.float64(1.5436018568226332e-14), 'TATN': np.float64(0.1399999999999679)}
2025-04-27 16:51:33 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 16:51:33 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 16:51:33 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 16:51:33 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 16:51:33 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 16:51:33 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-27 16:51:33 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-27 16:51:33 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-27 16:51:33 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-27 16:51:33 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-27 16:51:33 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 16:51:33 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-27 16:51:33 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-27 16:51:33 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-27 16:51:33 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-27 16:51:33 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-27 16:51:33 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-27 16:51:33 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-27 16:51:33 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 16:51:33 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-27 16:51:33 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-27 16:51:33 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 16:51:33 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:33 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-27 16:51:33 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 16:51:33 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:33 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-27 16:51:33 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 16:51:33 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:33 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-27 16:51:33 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 16:51:33 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:33 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-27 16:51:33 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 16:51:33 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:33 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 16:51:33 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 16:51:33 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 16:51:33 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 16:51:33 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 16:51:33 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278777128, -0.0001464082631994954, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 16:51:33 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 16:51:33 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 16:51:33 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -2.35, Макс. просадка: -3.23%
2025-04-27 16:51:33 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 16:51:33 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 16:51:33 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 16:51:33 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 16:51:34 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 16:51:34 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 16:51:34 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 16:51:34 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 16:51:34 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_signals_20250427_165107.csv
2025-04-27 16:51:34 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 16:51:34 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 16:51:34 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 16:51:34 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-27 16:51:34 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-27 16:51:34 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 16:51:34 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 16:51:34 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 16:51:34 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.1399999999999789), 'ALRS': np.float64(1.4671281640149614e-14), 'GAZP': np.float64(3.236855228294644e-13), 'GMKN': np.float64(1.7296299079771252e-14), 'LKOH': np.float64(0.13999999999952753), 'MAGN': np.float64(1.6178443886852273e-14), 'MTSS': np.float64(1.1679735746640557e-13), 'MVID': np.float64(2.0262224525399734e-14), 'NVTK': np.float64(4.1024929682116123e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.1486255245545548e-14), 'RUAL': np.float64(0.13999999999996995), 'SBER': np.float64(0.13999999999996846), 'SIBN': np.float64(1.1799535723054148e-14), 'SNGS': np.float64(1.5436018568226332e-14), 'TATN': np.float64(0.1399999999999679)}
2025-04-27 16:51:34 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 16:51:34 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 16:51:34 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 16:51:34 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 16:51:34 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-27 16:51:34 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-27 16:51:34 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-27 16:51:34 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-27 16:51:34 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-27 16:51:34 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-27 16:51:34 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-27 16:51:34 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-27 16:51:34 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-27 16:51:34 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-27 16:51:34 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-27 16:51:34 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-27 16:51:34 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-27 16:51:34 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-27 16:51:34 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-27 16:51:34 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-27 16:51:34 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-27 16:51:34 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 16:51:34 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:34 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-27 16:51:34 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 16:51:34 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:34 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-27 16:51:34 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 16:51:34 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:34 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-27 16:51:34 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 16:51:34 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:34 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-27 16:51:34 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 16:51:34 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:34 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 16:51:34 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 16:51:34 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 16:51:34 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 16:51:34 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 16:51:34 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289851, -0.002302185024101686, 0.0019653139925347764, -0.00022618649592324915]
2025-04-27 16:51:34 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 16:51:34 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 16:51:34 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.92, Макс. просадка: -6.44%
2025-04-27 16:51:34 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 16:51:34 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 16:51:34 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 16:51:34 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 16:51:34 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 16:51:34 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 16:51:34 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 16:51:50 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 16:51:50 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 16:51:50 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 16:51:50 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 16:51:50 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 16:51:50 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-27 16:51:50 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-27 16:51:50 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 16:51:50 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 16:51:50 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 16:51:50 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.13999999999999999), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.0), 'ROSN': np.float64(0.0), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.13999999999999999)}
2025-04-27 16:51:50 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 16:51:50 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 16:51:50 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 16:51:50 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 16:51:50 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-27 16:51:50 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-27 16:51:50 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-27 16:51:50 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-27 16:51:50 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-27 16:51:50 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-27 16:51:50 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-27 16:51:50 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-27 16:51:50 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 16:51:50 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-27 16:51:50 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-27 16:51:50 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-27 16:51:50 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-27 16:51:50 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-27 16:51:50 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-27 16:51:50 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-27 16:51:50 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-27 16:51:51 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 16:51:51 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:51 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-27 16:51:51 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 16:51:51 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:51 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-27 16:51:51 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 16:51:51 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:51 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-27 16:51:51 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 16:51:51 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:51 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-27 16:51:51 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 16:51:51 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 16:51:51 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 16:51:51 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 16:51:51 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 16:51:51 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 16:51:51 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 16:51:51 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0056948340802955725, -0.002302185024100049, 0.0019653139925345404, -0.00022618649592341276]
2025-04-27 16:51:51 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 16:51:51 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 16:51:51 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.69, Макс. просадка: -6.42%
2025-04-27 16:51:51 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 16:51:51 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 16:51:51 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 16:51:51 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 16:51:51 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 16:51:51 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 16:51:51 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_165046_balanced_portfolio_0427_1650/shorts_portfolio/production_portfolio/backtest
2025-04-27 20:57:06 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 20:57:06 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_signals_20250427_205639.csv
2025-04-27 20:57:06 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 20:57:06 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 20:57:06 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 20:57:06 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-27 20:57:06 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-27 20:57:06 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 20:57:06 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 20:57:06 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 20:57:06 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-27 20:57:06 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 20:57:06 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 20:57:06 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 20:57:06 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 20:57:06 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 20:57:06 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-27 20:57:06 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-27 20:57:06 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-27 20:57:06 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-27 20:57:06 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-27 20:57:06 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 20:57:06 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-27 20:57:06 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-27 20:57:06 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-27 20:57:06 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-27 20:57:06 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-27 20:57:06 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-27 20:57:06 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-27 20:57:06 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 20:57:06 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-27 20:57:06 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-27 20:57:06 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 20:57:06 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:06 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-27 20:57:06 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 20:57:06 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:06 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-27 20:57:06 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 20:57:06 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:06 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-27 20:57:06 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 20:57:06 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:06 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-27 20:57:06 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 20:57:06 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:06 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 20:57:06 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 20:57:06 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 20:57:06 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 20:57:06 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 20:57:06 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 20:57:06 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 20:57:06 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 20:57:06 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-27 20:57:06 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 20:57:07 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 20:57:07 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 20:57:07 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 20:57:07 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 20:57:07 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 20:57:07 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 20:57:07 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 20:57:07 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_signals_20250427_205639.csv
2025-04-27 20:57:07 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 20:57:07 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 20:57:07 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 20:57:07 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-27 20:57:07 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-27 20:57:07 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 20:57:07 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 20:57:07 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 20:57:07 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-27 20:57:07 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 20:57:07 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 20:57:07 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 20:57:07 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 20:57:07 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-27 20:57:07 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-27 20:57:07 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-27 20:57:07 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-27 20:57:07 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-27 20:57:07 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-27 20:57:07 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-27 20:57:07 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-27 20:57:07 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-27 20:57:07 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-27 20:57:07 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-27 20:57:07 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-27 20:57:07 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-27 20:57:07 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-27 20:57:07 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-27 20:57:07 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-27 20:57:07 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-27 20:57:07 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 20:57:07 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:07 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-27 20:57:07 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 20:57:07 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:07 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-27 20:57:07 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 20:57:07 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:07 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-27 20:57:07 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 20:57:07 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:07 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-27 20:57:07 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 20:57:07 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:07 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 20:57:07 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 20:57:07 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 20:57:07 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 20:57:07 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 20:57:07 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-27 20:57:07 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 20:57:07 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 20:57:07 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-27 20:57:07 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 20:57:07 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 20:57:07 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 20:57:07 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 20:57:07 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 20:57:08 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 20:57:08 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 20:57:23 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 20:57:23 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 20:57:24 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 20:57:24 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 20:57:24 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 20:57:24 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-27 20:57:24 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-27 20:57:24 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 20:57:24 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 20:57:24 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 20:57:24 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 20:57:24 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 20:57:24 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 20:57:24 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 20:57:24 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 20:57:24 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-27 20:57:24 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-27 20:57:24 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-27 20:57:24 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-27 20:57:24 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-27 20:57:24 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-27 20:57:24 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-27 20:57:24 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-27 20:57:24 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 20:57:24 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-27 20:57:24 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-27 20:57:24 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-27 20:57:24 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-27 20:57:24 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-27 20:57:24 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-27 20:57:24 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-27 20:57:24 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-27 20:57:24 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 20:57:24 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:24 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-27 20:57:24 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 20:57:24 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:24 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-27 20:57:24 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 20:57:24 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:24 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-27 20:57:24 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 20:57:24 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:24 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-27 20:57:24 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 20:57:24 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 20:57:24 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 20:57:24 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 20:57:24 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 20:57:24 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 20:57:24 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 20:57:24 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-27 20:57:24 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 20:57:24 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 20:57:24 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-27 20:57:24 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 20:57:24 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 20:57:24 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 20:57:24 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 20:57:24 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 20:57:24 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 20:57:24 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_205618_balanced_portfolio_0427_2056/shorts_portfolio/production_portfolio/backtest
2025-04-27 21:32:59 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:32:59 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_signals_20250427_213232.csv
2025-04-27 21:32:59 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 21:32:59 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 21:32:59 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:32:59 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-27 21:32:59 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:32:59 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:32:59 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:32:59 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-27 21:32:59 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:32:59 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:32:59 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:32:59 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:32:59 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:32:59 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-27 21:32:59 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-27 21:32:59 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-27 21:32:59 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-27 21:32:59 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:32:59 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:32:59 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-27 21:32:59 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-27 21:32:59 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-27 21:32:59 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-27 21:32:59 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-27 21:32:59 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-27 21:32:59 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-27 21:32:59 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:32:59 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-27 21:32:59 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:32:59 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:32:59 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:32:59 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:32:59 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:32:59 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 21:32:59 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:32:59 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-27 21:32:59 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:32:59 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 21:32:59 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 21:32:59 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 21:32:59 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 21:32:59 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 21:32:59 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 21:32:59 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:32:59 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_signals_20250427_213232.csv
2025-04-27 21:32:59 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 21:32:59 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 21:32:59 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:32:59 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-27 21:32:59 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-27 21:32:59 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:32:59 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:32:59 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:32:59 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-27 21:32:59 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:32:59 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:32:59 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:32:59 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:32:59 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-27 21:32:59 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-27 21:32:59 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-27 21:32:59 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-27 21:32:59 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-27 21:32:59 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-27 21:32:59 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-27 21:32:59 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-27 21:32:59 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-27 21:32:59 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-27 21:32:59 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-27 21:32:59 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-27 21:32:59 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-27 21:32:59 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-27 21:32:59 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-27 21:32:59 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-27 21:32:59 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 21:32:59 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:32:59 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:32:59 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:32:59 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:32:59 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:32:59 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 21:32:59 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-27 21:32:59 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 21:32:59 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:32:59 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-27 21:32:59 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:32:59 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 21:32:59 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 21:32:59 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 21:32:59 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 21:33:00 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 21:33:00 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 21:33:15 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:33:15 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 21:33:16 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 21:33:16 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 21:33:16 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:33:16 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-27 21:33:16 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-27 21:33:16 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:33:16 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:33:16 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:33:16 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 21:33:16 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:33:16 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:33:16 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:33:16 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:33:16 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-27 21:33:16 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-27 21:33:16 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-27 21:33:16 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-27 21:33:16 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-27 21:33:16 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-27 21:33:16 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-27 21:33:16 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-27 21:33:16 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 21:33:16 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-27 21:33:16 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-27 21:33:16 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-27 21:33:16 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-27 21:33:16 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-27 21:33:16 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-27 21:33:16 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-27 21:33:16 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-27 21:33:16 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 21:33:16 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:33:16 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-27 21:33:16 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 21:33:16 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:33:16 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-27 21:33:16 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 21:33:16 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:33:16 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-27 21:33:16 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 21:33:16 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:33:16 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-27 21:33:16 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 21:33:16 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:33:16 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:33:16 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:33:16 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:33:16 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:33:16 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 21:33:16 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-27 21:33:16 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 21:33:16 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:33:16 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-27 21:33:16 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:33:16 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 21:33:16 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 21:33:16 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 21:33:16 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 21:33:16 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 21:33:16 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest
2025-04-27 21:35:44 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:35:44 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_signals_20250427_213516.csv
2025-04-27 21:35:44 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 21:35:44 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 21:35:44 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:35:44 - Backtester - INFO - Анализ сигналов в данных: {0: 1420, 1: 150, -1: 78}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 4, 1: 3}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для ALRS: {0: 98, -1: 5}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для GMKN: {0: 99, 1: 3, -1: 1}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для LKOH: {0: 68, -1: 23, 1: 12}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для MAGN: {0: 96, -1: 5, 1: 2}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 5, -1: 2}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для MVID: {0: 95, 1: 8}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для NVTK: {0: 77, 1: 24, -1: 2}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для PHOR: {0: 75, -1: 22, 1: 6}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для ROSN: {0: 82, 1: 20, -1: 1}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 3}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для SBER: {0: 97, 1: 5, -1: 1}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для SIBN: {0: 86, 1: 16, -1: 1}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для SNGS: {0: 96, 1: 6, -1: 1}
2025-04-27 21:35:44 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-27 21:35:44 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:35:44 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:35:44 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:35:44 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-27 21:35:44 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:35:45 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:35:45 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:35:45 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:35:45 - Backtester - INFO -   AFKS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:35:45 - Backtester - INFO -   ALRS: 5/103 ненулевых сигналов (4.9%)
2025-04-27 21:35:45 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-27 21:35:45 - Backtester - INFO -   GMKN: 4/103 ненулевых сигналов (3.9%)
2025-04-27 21:35:45 - Backtester - INFO -   LKOH: 35/103 ненулевых сигналов (34.0%)
2025-04-27 21:35:45 - Backtester - INFO -   MAGN: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:35:45 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:35:45 - Backtester - INFO -   MVID: 8/103 ненулевых сигналов (7.8%)
2025-04-27 21:35:45 - Backtester - INFO -   NVTK: 26/103 ненулевых сигналов (25.2%)
2025-04-27 21:35:45 - Backtester - INFO -   PHOR: 28/103 ненулевых сигналов (27.2%)
2025-04-27 21:35:45 - Backtester - INFO -   ROSN: 21/103 ненулевых сигналов (20.4%)
2025-04-27 21:35:45 - Backtester - INFO -   RUAL: 9/103 ненулевых сигналов (8.7%)
2025-04-27 21:35:45 - Backtester - INFO -   SBER: 6/103 ненулевых сигналов (5.8%)
2025-04-27 21:35:45 - Backtester - INFO -   SIBN: 17/103 ненулевых сигналов (16.5%)
2025-04-27 21:35:45 - Backtester - INFO -   SNGS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:35:45 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-27 21:35:45 - Backtester - INFO - Тикер AFKS: 8/103 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер LKOH: 35/103 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер RUAL: 10/103 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер SBER: 7/103 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:35:45 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:35:45 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:35:45 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:35:45 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0036187603278794423, -0.00014640826319954278, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:35:45 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 21:35:45 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:35:45 - Backtester - INFO - Кумулятивная доходность: -1.64%, Годовая доходность: -3.96%, Шарп: -1.93, Макс. просадка: -3.23%
2025-04-27 21:35:45 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:35:45 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 21:35:45 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 21:35:45 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 21:35:45 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 21:35:45 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 21:35:45 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 21:35:45 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:35:45 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_signals_20250427_213516.csv
2025-04-27 21:35:45 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 21:35:45 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 21:35:45 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:35:45 - Backtester - INFO - Анализ сигналов в данных: {0: 4669, 1: 451, -1: 342}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для AFKS: {0: 329, -1: 23, 1: 13}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 17, 1: 7}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для GAZP: {0: 318, -1: 24, 1: 23}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для GMKN: {0: 341, -1: 14, 1: 4}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для LKOH: {0: 239, -1: 63, 1: 63}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для MAGN: {0: 329, -1: 26, 1: 8}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для MTSS: {0: 328, 1: 21, -1: 16}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для MVID: {0: 334, -1: 26, 1: 5}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 52, -1: 20}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для ROSN: {0: 274, 1: 75, -1: 16}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для RUAL: {0: 335, -1: 16, 1: 14}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для SBER: {0: 315, -1: 25, 1: 25}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для SNGS: {0: 327, 1: 24, -1: 14}
2025-04-27 21:35:45 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-27 21:35:45 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:35:45 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:35:45 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:35:45 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999996696), 'ALRS': np.float64(2.3214489129579327e-14), 'GAZP': np.float64(1.3591489045339243e-13), 'GMKN': np.float64(2.6619149925659963e-14), 'LKOH': np.float64(0.1399999999995929), 'MAGN': np.float64(2.738315148886591e-14), 'MTSS': np.float64(2.161676167046478e-13), 'MVID': np.float64(3.228940268445648e-14), 'NVTK': np.float64(6.600953237533437e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.9026736718379105e-14), 'RUAL': np.float64(0.13999999999995347), 'SBER': np.float64(0.13999999999994991), 'SIBN': np.float64(1.891318710312052e-14), 'SNGS': np.float64(2.3521930784338394e-14), 'TATN': np.float64(0.13999999999995144)}
2025-04-27 21:35:45 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:35:45 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:35:45 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:35:45 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:35:45 - Backtester - INFO -   AFKS: 36/365 ненулевых сигналов (9.9%)
2025-04-27 21:35:45 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-27 21:35:45 - Backtester - INFO -   GAZP: 47/365 ненулевых сигналов (12.9%)
2025-04-27 21:35:45 - Backtester - INFO -   GMKN: 18/359 ненулевых сигналов (5.0%)
2025-04-27 21:35:45 - Backtester - INFO -   LKOH: 126/365 ненулевых сигналов (34.5%)
2025-04-27 21:35:45 - Backtester - INFO -   MAGN: 34/363 ненулевых сигналов (9.4%)
2025-04-27 21:35:45 - Backtester - INFO -   MTSS: 37/365 ненулевых сигналов (10.1%)
2025-04-27 21:35:45 - Backtester - INFO -   MVID: 31/365 ненулевых сигналов (8.5%)
2025-04-27 21:35:45 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-27 21:35:45 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-27 21:35:45 - Backtester - INFO -   ROSN: 91/365 ненулевых сигналов (24.9%)
2025-04-27 21:35:45 - Backtester - INFO -   RUAL: 30/365 ненулевых сигналов (8.2%)
2025-04-27 21:35:45 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-27 21:35:45 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-27 21:35:45 - Backtester - INFO -   SNGS: 38/365 ненулевых сигналов (10.4%)
2025-04-27 21:35:45 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-27 21:35:45 - Backtester - INFO - Тикер AFKS: 37/365 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер LKOH: 126/365 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 21:35:45 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:35:45 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:35:45 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:35:45 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:35:45 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:35:45 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 21:35:45 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080289977, -0.002302185024101041, 0.001965313992534471, -0.00022618649592322986]
2025-04-27 21:35:45 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 21:35:45 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:35:45 - Backtester - INFO - Кумулятивная доходность: -2.03%, Годовая доходность: -1.41%, Шарп: -2.28, Макс. просадка: -6.44%
2025-04-27 21:35:45 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:35:45 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 21:35:45 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 21:35:45 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 21:35:45 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 21:35:45 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 21:35:45 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 21:36:01 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:36:01 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 21:36:02 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 21:36:02 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 21:36:02 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:36:02 - Backtester - INFO - Анализ сигналов в данных: {0: 6090, 1: 605, -1: 415}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для AFKS: {0: 420, -1: 30, 1: 18}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для ALRS: {0: 442, -1: 20, 1: 6}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для GAZP: {0: 404, 1: 34, -1: 30}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для GMKN: {0: 441, -1: 15, 1: 6}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для LKOH: {0: 316, -1: 83, 1: 69}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для MAGN: {0: 425, -1: 31, 1: 10}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для MTSS: {0: 425, 1: 26, -1: 17}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для MVID: {0: 428, -1: 26, 1: 14}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 75, -1: 22}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для ROSN: {0: 355, 1: 96, -1: 17}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для RUAL: {0: 428, -1: 20, 1: 20}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для SBER: {0: 410, 1: 33, -1: 25}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для SIBN: {0: 378, 1: 65, -1: 21}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для SNGS: {0: 421, 1: 32, -1: 15}
2025-04-27 21:36:02 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-27 21:36:02 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:36:02 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:36:02 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:36:02 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 21:36:02 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:36:02 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:36:02 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:36:02 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:36:02 - Backtester - INFO -   AFKS: 48/468 ненулевых сигналов (10.3%)
2025-04-27 21:36:02 - Backtester - INFO -   ALRS: 26/468 ненулевых сигналов (5.6%)
2025-04-27 21:36:02 - Backtester - INFO -   GAZP: 64/468 ненулевых сигналов (13.7%)
2025-04-27 21:36:02 - Backtester - INFO -   GMKN: 21/462 ненулевых сигналов (4.5%)
2025-04-27 21:36:02 - Backtester - INFO -   LKOH: 152/468 ненулевых сигналов (32.5%)
2025-04-27 21:36:02 - Backtester - INFO -   MAGN: 41/466 ненулевых сигналов (8.8%)
2025-04-27 21:36:02 - Backtester - INFO -   MTSS: 43/468 ненулевых сигналов (9.2%)
2025-04-27 21:36:02 - Backtester - INFO -   MVID: 40/468 ненулевых сигналов (8.5%)
2025-04-27 21:36:02 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 21:36:02 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-27 21:36:02 - Backtester - INFO -   ROSN: 113/468 ненулевых сигналов (24.1%)
2025-04-27 21:36:02 - Backtester - INFO -   RUAL: 40/468 ненулевых сигналов (8.5%)
2025-04-27 21:36:02 - Backtester - INFO -   SBER: 58/468 ненулевых сигналов (12.4%)
2025-04-27 21:36:02 - Backtester - INFO -   SIBN: 86/464 ненулевых сигналов (18.5%)
2025-04-27 21:36:02 - Backtester - INFO -   SNGS: 47/468 ненулевых сигналов (10.0%)
2025-04-27 21:36:02 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-27 21:36:02 - Backtester - INFO - Тикер AFKS: 49/468 ненулевых strategy_return
2025-04-27 21:36:02 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 21:36:02 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:36:02 - Backtester - INFO - Тикер LKOH: 152/468 ненулевых strategy_return
2025-04-27 21:36:02 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 21:36:02 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:36:02 - Backtester - INFO - Тикер RUAL: 41/468 ненулевых strategy_return
2025-04-27 21:36:02 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 21:36:02 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:36:02 - Backtester - INFO - Тикер SBER: 59/468 ненулевых strategy_return
2025-04-27 21:36:02 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 21:36:02 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:36:02 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-27 21:36:02 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 21:36:02 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:36:02 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:36:02 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:36:02 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:36:02 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:36:02 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 21:36:02 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-27 21:36:02 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 21:36:02 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:36:02 - Backtester - INFO - Кумулятивная доходность: -3.40%, Годовая доходность: -1.85%, Шарп: -2.12, Макс. просадка: -6.42%
2025-04-27 21:36:02 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:36:02 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 21:36:02 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 21:36:02 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 21:36:02 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 21:36:02 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 21:36:02 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest
2025-04-27 21:39:27 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:39:27 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_signals_20250427_213859.csv
2025-04-27 21:39:27 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 21:39:27 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 21:39:27 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:39:27 - Backtester - INFO - Анализ сигналов в данных: {0: 1405, 1: 192, -1: 51}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для AFKS: {0: 93, 1: 7, -1: 3}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для ALRS: {0: 101, -1: 2}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для GAZP: {0: 81, 1: 17, -1: 5}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для GMKN: {0: 98, 1: 4, -1: 1}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для LKOH: {0: 71, -1: 19, 1: 13}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для MAGN: {0: 100, 1: 3}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 7}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для MVID: {0: 92, 1: 11}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для NVTK: {0: 75, 1: 28}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для PHOR: {0: 79, -1: 17, 1: 7}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для ROSN: {0: 81, 1: 21, -1: 1}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для RUAL: {0: 96, 1: 6, -1: 1}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для SBER: {0: 93, 1: 10}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для SIBN: {0: 82, 1: 20, -1: 1}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для SNGS: {0: 89, 1: 13, -1: 1}
2025-04-27 21:39:27 - Backtester - INFO - Сигналы для TATN: {0: 78, 1: 25}
2025-04-27 21:39:27 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:39:27 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:39:27 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:39:27 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999974322), 'ALRS': np.float64(1.34003061075084e-13), 'GAZP': np.float64(2.1667604051378038e-13), 'GMKN': np.float64(1.6256631863083725e-13), 'LKOH': np.float64(0.1399999999879096), 'MAGN': np.float64(1.4366988304583374e-13), 'MTSS': np.float64(1.0612824508093865e-11), 'MVID': np.float64(1.7443060959851827e-13), 'NVTK': np.float64(1.5457156003701248e-13), 'PHOR': np.float64(1.7588420480620431e-13), 'ROSN': np.float64(1.1849885041732735e-13), 'RUAL': np.float64(0.1399999999996986), 'SBER': np.float64(0.13999999999967125), 'SIBN': np.float64(9.855862179911259e-14), 'SNGS': np.float64(1.3116877272439176e-12), 'TATN': np.float64(0.13999999999967397)}
2025-04-27 21:39:27 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:39:27 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:39:27 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:39:27 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:39:27 - Backtester - INFO -   AFKS: 10/103 ненулевых сигналов (9.7%)
2025-04-27 21:39:27 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-27 21:39:27 - Backtester - INFO -   GAZP: 22/103 ненулевых сигналов (21.4%)
2025-04-27 21:39:27 - Backtester - INFO -   GMKN: 5/103 ненулевых сигналов (4.9%)
2025-04-27 21:39:27 - Backtester - INFO -   LKOH: 32/103 ненулевых сигналов (31.1%)
2025-04-27 21:39:27 - Backtester - INFO -   MAGN: 3/103 ненулевых сигналов (2.9%)
2025-04-27 21:39:27 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:39:27 - Backtester - INFO -   MVID: 11/103 ненулевых сигналов (10.7%)
2025-04-27 21:39:27 - Backtester - INFO -   NVTK: 28/103 ненулевых сигналов (27.2%)
2025-04-27 21:39:27 - Backtester - INFO -   PHOR: 24/103 ненулевых сигналов (23.3%)
2025-04-27 21:39:27 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-27 21:39:27 - Backtester - INFO -   RUAL: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:39:27 - Backtester - INFO -   SBER: 10/103 ненулевых сигналов (9.7%)
2025-04-27 21:39:27 - Backtester - INFO -   SIBN: 21/103 ненулевых сигналов (20.4%)
2025-04-27 21:39:27 - Backtester - INFO -   SNGS: 14/103 ненулевых сигналов (13.6%)
2025-04-27 21:39:27 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-27 21:39:27 - Backtester - INFO - Тикер AFKS: 11/103 ненулевых strategy_return
2025-04-27 21:39:27 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:39:27 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:27 - Backtester - INFO - Тикер LKOH: 32/103 ненулевых strategy_return
2025-04-27 21:39:27 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 21:39:27 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:27 - Backtester - INFO - Тикер RUAL: 8/103 ненулевых strategy_return
2025-04-27 21:39:27 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 21:39:27 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:27 - Backtester - INFO - Тикер SBER: 11/103 ненулевых strategy_return
2025-04-27 21:39:27 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:39:27 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:27 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-27 21:39:27 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 21:39:27 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:27 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:39:27 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:39:27 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:39:27 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:39:27 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 21:39:27 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.00835218035356704, -0.00014640826318866715, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:39:27 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 21:39:27 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:39:27 - Backtester - INFO - Кумулятивная доходность: -1.94%, Годовая доходность: -4.67%, Шарп: -2.17, Макс. просадка: -3.96%
2025-04-27 21:39:27 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:39:27 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 21:39:27 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 21:39:27 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 21:39:27 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 21:39:28 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 21:39:28 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 21:39:28 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:39:28 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_signals_20250427_213859.csv
2025-04-27 21:39:28 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 21:39:28 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 21:39:28 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:39:28 - Backtester - INFO - Анализ сигналов в данных: {0: 4741, 1: 633, -1: 88}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для AFKS: {0: 323, 1: 40, -1: 2}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для ALRS: {0: 351, 1: 13, -1: 1}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для GAZP: {0: 322, 1: 36, -1: 7}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для GMKN: {0: 352, 1: 7}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для LKOH: {0: 245, 1: 85, -1: 35}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для MAGN: {0: 341, 1: 15, -1: 7}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для MTSS: {0: 330, 1: 30, -1: 5}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для MVID: {0: 347, 1: 9, -1: 9}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для NVTK: {0: 297, 1: 63, -1: 2}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для PHOR: {0: 3, -1: 1}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для ROSN: {0: 268, 1: 97}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для RUAL: {0: 334, 1: 29, -1: 2}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для SBER: {0: 324, 1: 32, -1: 9}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для SIBN: {0: 290, 1: 67, -1: 4}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для SNGS: {0: 332, 1: 30, -1: 3}
2025-04-27 21:39:28 - Backtester - INFO - Сигналы для TATN: {0: 282, 1: 80, -1: 1}
2025-04-27 21:39:28 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:39:28 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:39:28 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:39:28 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999974322), 'ALRS': np.float64(1.34003061075084e-13), 'GAZP': np.float64(2.1667604051378038e-13), 'GMKN': np.float64(1.6256631863083725e-13), 'LKOH': np.float64(0.1399999999879096), 'MAGN': np.float64(1.4366988304583374e-13), 'MTSS': np.float64(1.0612824508093865e-11), 'MVID': np.float64(1.7443060959851827e-13), 'NVTK': np.float64(1.5457156003701248e-13), 'PHOR': np.float64(1.7588420480620431e-13), 'ROSN': np.float64(1.1849885041732735e-13), 'RUAL': np.float64(0.1399999999996986), 'SBER': np.float64(0.13999999999967125), 'SIBN': np.float64(9.855862179911259e-14), 'SNGS': np.float64(1.3116877272439176e-12), 'TATN': np.float64(0.13999999999967397)}
2025-04-27 21:39:28 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:39:28 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:39:28 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:39:28 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:39:28 - Backtester - INFO -   AFKS: 42/365 ненулевых сигналов (11.5%)
2025-04-27 21:39:28 - Backtester - INFO -   ALRS: 14/365 ненулевых сигналов (3.8%)
2025-04-27 21:39:28 - Backtester - INFO -   GAZP: 43/365 ненулевых сигналов (11.8%)
2025-04-27 21:39:28 - Backtester - INFO -   GMKN: 7/359 ненулевых сигналов (1.9%)
2025-04-27 21:39:28 - Backtester - INFO -   LKOH: 120/365 ненулевых сигналов (32.9%)
2025-04-27 21:39:28 - Backtester - INFO -   MAGN: 22/363 ненулевых сигналов (6.1%)
2025-04-27 21:39:28 - Backtester - INFO -   MTSS: 35/365 ненулевых сигналов (9.6%)
2025-04-27 21:39:28 - Backtester - INFO -   MVID: 18/365 ненулевых сигналов (4.9%)
2025-04-27 21:39:28 - Backtester - INFO -   NVTK: 65/362 ненулевых сигналов (18.0%)
2025-04-27 21:39:28 - Backtester - INFO -   PHOR: 1/4 ненулевых сигналов (25.0%)
2025-04-27 21:39:28 - Backtester - INFO -   ROSN: 97/365 ненулевых сигналов (26.6%)
2025-04-27 21:39:28 - Backtester - INFO -   RUAL: 31/365 ненулевых сигналов (8.5%)
2025-04-27 21:39:28 - Backtester - INFO -   SBER: 41/365 ненулевых сигналов (11.2%)
2025-04-27 21:39:28 - Backtester - INFO -   SIBN: 71/361 ненулевых сигналов (19.7%)
2025-04-27 21:39:28 - Backtester - INFO -   SNGS: 33/365 ненулевых сигналов (9.0%)
2025-04-27 21:39:28 - Backtester - INFO -   TATN: 81/363 ненулевых сигналов (22.3%)
2025-04-27 21:39:28 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-27 21:39:28 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:39:28 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:28 - Backtester - INFO - Тикер LKOH: 120/365 ненулевых strategy_return
2025-04-27 21:39:28 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-27 21:39:28 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:28 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-27 21:39:28 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:39:28 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:28 - Backtester - INFO - Тикер SBER: 42/365 ненулевых strategy_return
2025-04-27 21:39:28 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-27 21:39:28 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:28 - Backtester - INFO - Тикер TATN: 81/363 ненулевых strategy_return
2025-04-27 21:39:28 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, 0.0, 0.0, -0.0, nan]
2025-04-27 21:39:28 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:28 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:39:28 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:39:28 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:39:28 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:39:28 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 21:39:28 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:39:28 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 21:39:28 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:39:28 - Backtester - INFO - Кумулятивная доходность: 10.34%, Годовая доходность: 7.03%, Шарп: -0.09, Макс. просадка: -3.04%
2025-04-27 21:39:28 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:39:28 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 21:39:28 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 21:39:28 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 21:39:28 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 21:39:28 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 21:39:28 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 21:39:45 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:39:45 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 21:39:45 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 21:39:45 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 21:39:45 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:39:45 - Backtester - INFO - Анализ сигналов в данных: {0: 6150, 1: 827, -1: 133}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для AFKS: {0: 417, 1: 47, -1: 4}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для ALRS: {0: 451, 1: 14, -1: 3}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для GAZP: {0: 405, 1: 52, -1: 11}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для GMKN: {0: 448, 1: 13, -1: 1}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для LKOH: {0: 321, 1: 95, -1: 52}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для MAGN: {0: 441, 1: 18, -1: 7}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для MTSS: {0: 427, 1: 37, -1: 4}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для MVID: {0: 440, 1: 20, -1: 8}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 94, -1: 3}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для PHOR: {0: 85, -1: 13, 1: 9}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для ROSN: {0: 347, 1: 119, -1: 2}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для RUAL: {0: 431, 1: 34, -1: 3}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для SBER: {0: 418, 1: 41, -1: 9}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для SIBN: {0: 373, 1: 86, -1: 5}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для SNGS: {0: 419, 1: 45, -1: 4}
2025-04-27 21:39:45 - Backtester - INFO - Сигналы для TATN: {0: 359, 1: 103, -1: 4}
2025-04-27 21:39:45 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:39:45 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:39:45 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:39:45 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 21:39:45 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:39:45 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:39:45 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:39:45 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:39:45 - Backtester - INFO -   AFKS: 51/468 ненулевых сигналов (10.9%)
2025-04-27 21:39:45 - Backtester - INFO -   ALRS: 17/468 ненулевых сигналов (3.6%)
2025-04-27 21:39:45 - Backtester - INFO -   GAZP: 63/468 ненулевых сигналов (13.5%)
2025-04-27 21:39:45 - Backtester - INFO -   GMKN: 14/462 ненулевых сигналов (3.0%)
2025-04-27 21:39:45 - Backtester - INFO -   LKOH: 147/468 ненулевых сигналов (31.4%)
2025-04-27 21:39:45 - Backtester - INFO -   MAGN: 25/466 ненулевых сигналов (5.4%)
2025-04-27 21:39:45 - Backtester - INFO -   MTSS: 41/468 ненулевых сигналов (8.8%)
2025-04-27 21:39:45 - Backtester - INFO -   MVID: 28/468 ненулевых сигналов (6.0%)
2025-04-27 21:39:45 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 21:39:45 - Backtester - INFO -   PHOR: 22/107 ненулевых сигналов (20.6%)
2025-04-27 21:39:45 - Backtester - INFO -   ROSN: 121/468 ненулевых сигналов (25.9%)
2025-04-27 21:39:45 - Backtester - INFO -   RUAL: 37/468 ненулевых сигналов (7.9%)
2025-04-27 21:39:45 - Backtester - INFO -   SBER: 50/468 ненулевых сигналов (10.7%)
2025-04-27 21:39:45 - Backtester - INFO -   SIBN: 91/464 ненулевых сигналов (19.6%)
2025-04-27 21:39:45 - Backtester - INFO -   SNGS: 49/468 ненулевых сигналов (10.5%)
2025-04-27 21:39:45 - Backtester - INFO -   TATN: 107/466 ненулевых сигналов (23.0%)
2025-04-27 21:39:45 - Backtester - INFO - Тикер AFKS: 51/468 ненулевых strategy_return
2025-04-27 21:39:45 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:39:45 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:45 - Backtester - INFO - Тикер LKOH: 147/468 ненулевых strategy_return
2025-04-27 21:39:45 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-27 21:39:45 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:45 - Backtester - INFO - Тикер RUAL: 38/468 ненулевых strategy_return
2025-04-27 21:39:45 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:39:45 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:45 - Backtester - INFO - Тикер SBER: 51/468 ненулевых strategy_return
2025-04-27 21:39:45 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-27 21:39:45 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:45 - Backtester - INFO - Тикер TATN: 106/466 ненулевых strategy_return
2025-04-27 21:39:45 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, 0.0, 0.0, -0.0, nan]
2025-04-27 21:39:45 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:39:45 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:39:45 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:39:45 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:39:45 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:39:45 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 21:39:45 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:39:45 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 21:39:45 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:39:45 - Backtester - INFO - Кумулятивная доходность: 6.46%, Годовая доходность: 3.43%, Шарп: -0.80, Макс. просадка: -3.70%
2025-04-27 21:39:45 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:39:45 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 21:39:45 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 21:39:45 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 21:39:45 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 21:39:45 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 21:39:45 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest
2025-04-27 21:46:17 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:46:17 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_signals_20250427_214550.csv
2025-04-27 21:46:17 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 21:46:17 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 21:46:17 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:46:17 - Backtester - INFO - Анализ сигналов в данных: {0: 1405, 1: 192, -1: 51}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для AFKS: {0: 93, 1: 7, -1: 3}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для ALRS: {0: 101, -1: 2}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для GAZP: {0: 81, 1: 17, -1: 5}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для GMKN: {0: 98, 1: 4, -1: 1}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для LKOH: {0: 71, -1: 19, 1: 13}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для MAGN: {0: 100, 1: 3}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для MTSS: {0: 96, 1: 7}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для MVID: {0: 92, 1: 11}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для NVTK: {0: 75, 1: 28}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для PHOR: {0: 79, -1: 17, 1: 7}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для ROSN: {0: 81, 1: 21, -1: 1}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для RUAL: {0: 96, 1: 6, -1: 1}
2025-04-27 21:46:17 - Backtester - INFO - Сигналы для SBER: {0: 93, 1: 10}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для SIBN: {0: 82, 1: 20, -1: 1}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для SNGS: {0: 89, 1: 13, -1: 1}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для TATN: {0: 78, 1: 25}
2025-04-27 21:46:18 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:46:18 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:46:18 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:46:18 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999974322), 'ALRS': np.float64(1.34003061075084e-13), 'GAZP': np.float64(2.1667604051378038e-13), 'GMKN': np.float64(1.6256631863083725e-13), 'LKOH': np.float64(0.1399999999879096), 'MAGN': np.float64(1.4366988304583374e-13), 'MTSS': np.float64(1.0612824508093865e-11), 'MVID': np.float64(1.7443060959851827e-13), 'NVTK': np.float64(1.5457156003701248e-13), 'PHOR': np.float64(1.7588420480620431e-13), 'ROSN': np.float64(1.1849885041732735e-13), 'RUAL': np.float64(0.1399999999996986), 'SBER': np.float64(0.13999999999967125), 'SIBN': np.float64(9.855862179911259e-14), 'SNGS': np.float64(1.3116877272439176e-12), 'TATN': np.float64(0.13999999999967397)}
2025-04-27 21:46:18 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:46:18 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:46:18 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:46:18 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:46:18 - Backtester - INFO -   AFKS: 10/103 ненулевых сигналов (9.7%)
2025-04-27 21:46:18 - Backtester - INFO -   ALRS: 2/103 ненулевых сигналов (1.9%)
2025-04-27 21:46:18 - Backtester - INFO -   GAZP: 22/103 ненулевых сигналов (21.4%)
2025-04-27 21:46:18 - Backtester - INFO -   GMKN: 5/103 ненулевых сигналов (4.9%)
2025-04-27 21:46:18 - Backtester - INFO -   LKOH: 32/103 ненулевых сигналов (31.1%)
2025-04-27 21:46:18 - Backtester - INFO -   MAGN: 3/103 ненулевых сигналов (2.9%)
2025-04-27 21:46:18 - Backtester - INFO -   MTSS: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:46:18 - Backtester - INFO -   MVID: 11/103 ненулевых сигналов (10.7%)
2025-04-27 21:46:18 - Backtester - INFO -   NVTK: 28/103 ненулевых сигналов (27.2%)
2025-04-27 21:46:18 - Backtester - INFO -   PHOR: 24/103 ненулевых сигналов (23.3%)
2025-04-27 21:46:18 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-27 21:46:18 - Backtester - INFO -   RUAL: 7/103 ненулевых сигналов (6.8%)
2025-04-27 21:46:18 - Backtester - INFO -   SBER: 10/103 ненулевых сигналов (9.7%)
2025-04-27 21:46:18 - Backtester - INFO -   SIBN: 21/103 ненулевых сигналов (20.4%)
2025-04-27 21:46:18 - Backtester - INFO -   SNGS: 14/103 ненулевых сигналов (13.6%)
2025-04-27 21:46:18 - Backtester - INFO -   TATN: 25/103 ненулевых сигналов (24.3%)
2025-04-27 21:46:18 - Backtester - INFO - Тикер AFKS: 11/103 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер LKOH: 32/103 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер RUAL: 8/103 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер SBER: 11/103 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер TATN: 24/103 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.033810143042912855, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:46:18 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:46:18 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:46:18 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:46:18 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.00835218035356704, -0.00014640826318866715, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:46:18 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 21:46:18 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:46:18 - Backtester - INFO - Кумулятивная доходность: -1.94%, Годовая доходность: -4.67%, Шарп: -2.17, Макс. просадка: -3.96%
2025-04-27 21:46:18 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:46:18 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 21:46:18 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 21:46:18 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 21:46:18 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 21:46:18 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 21:46:18 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 21:46:18 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:46:18 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_signals_20250427_214550.csv
2025-04-27 21:46:18 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 21:46:18 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 21:46:18 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:46:18 - Backtester - INFO - Анализ сигналов в данных: {0: 4741, 1: 633, -1: 88}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для AFKS: {0: 323, 1: 40, -1: 2}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для ALRS: {0: 351, 1: 13, -1: 1}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для GAZP: {0: 322, 1: 36, -1: 7}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для GMKN: {0: 352, 1: 7}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для LKOH: {0: 245, 1: 85, -1: 35}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для MAGN: {0: 341, 1: 15, -1: 7}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для MTSS: {0: 330, 1: 30, -1: 5}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для MVID: {0: 347, 1: 9, -1: 9}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для NVTK: {0: 297, 1: 63, -1: 2}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для PHOR: {0: 3, -1: 1}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для ROSN: {0: 268, 1: 97}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для RUAL: {0: 334, 1: 29, -1: 2}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для SBER: {0: 324, 1: 32, -1: 9}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для SIBN: {0: 290, 1: 67, -1: 4}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для SNGS: {0: 332, 1: 30, -1: 3}
2025-04-27 21:46:18 - Backtester - INFO - Сигналы для TATN: {0: 282, 1: 80, -1: 1}
2025-04-27 21:46:18 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:46:18 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:46:18 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:46:18 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999974322), 'ALRS': np.float64(1.34003061075084e-13), 'GAZP': np.float64(2.1667604051378038e-13), 'GMKN': np.float64(1.6256631863083725e-13), 'LKOH': np.float64(0.1399999999879096), 'MAGN': np.float64(1.4366988304583374e-13), 'MTSS': np.float64(1.0612824508093865e-11), 'MVID': np.float64(1.7443060959851827e-13), 'NVTK': np.float64(1.5457156003701248e-13), 'PHOR': np.float64(1.7588420480620431e-13), 'ROSN': np.float64(1.1849885041732735e-13), 'RUAL': np.float64(0.1399999999996986), 'SBER': np.float64(0.13999999999967125), 'SIBN': np.float64(9.855862179911259e-14), 'SNGS': np.float64(1.3116877272439176e-12), 'TATN': np.float64(0.13999999999967397)}
2025-04-27 21:46:18 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:46:18 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:46:18 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:46:18 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:46:18 - Backtester - INFO -   AFKS: 42/365 ненулевых сигналов (11.5%)
2025-04-27 21:46:18 - Backtester - INFO -   ALRS: 14/365 ненулевых сигналов (3.8%)
2025-04-27 21:46:18 - Backtester - INFO -   GAZP: 43/365 ненулевых сигналов (11.8%)
2025-04-27 21:46:18 - Backtester - INFO -   GMKN: 7/359 ненулевых сигналов (1.9%)
2025-04-27 21:46:18 - Backtester - INFO -   LKOH: 120/365 ненулевых сигналов (32.9%)
2025-04-27 21:46:18 - Backtester - INFO -   MAGN: 22/363 ненулевых сигналов (6.1%)
2025-04-27 21:46:18 - Backtester - INFO -   MTSS: 35/365 ненулевых сигналов (9.6%)
2025-04-27 21:46:18 - Backtester - INFO -   MVID: 18/365 ненулевых сигналов (4.9%)
2025-04-27 21:46:18 - Backtester - INFO -   NVTK: 65/362 ненулевых сигналов (18.0%)
2025-04-27 21:46:18 - Backtester - INFO -   PHOR: 1/4 ненулевых сигналов (25.0%)
2025-04-27 21:46:18 - Backtester - INFO -   ROSN: 97/365 ненулевых сигналов (26.6%)
2025-04-27 21:46:18 - Backtester - INFO -   RUAL: 31/365 ненулевых сигналов (8.5%)
2025-04-27 21:46:18 - Backtester - INFO -   SBER: 41/365 ненулевых сигналов (11.2%)
2025-04-27 21:46:18 - Backtester - INFO -   SIBN: 71/361 ненулевых сигналов (19.7%)
2025-04-27 21:46:18 - Backtester - INFO -   SNGS: 33/365 ненулевых сигналов (9.0%)
2025-04-27 21:46:18 - Backtester - INFO -   TATN: 81/363 ненулевых сигналов (22.3%)
2025-04-27 21:46:18 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер LKOH: 120/365 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер RUAL: 31/365 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер SBER: 42/365 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Тикер TATN: 81/363 ненулевых strategy_return
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, 0.0, 0.0, -0.0, nan]
2025-04-27 21:46:18 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:18 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:46:18 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:46:18 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:46:18 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:46:18 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 21:46:18 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:46:18 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 21:46:18 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:46:18 - Backtester - INFO - Кумулятивная доходность: 10.34%, Годовая доходность: 7.03%, Шарп: -0.09, Макс. просадка: -3.04%
2025-04-27 21:46:18 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:46:18 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 21:46:18 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 21:46:18 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 21:46:18 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 21:46:19 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 21:46:19 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 21:46:35 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 21:46:35 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 21:46:35 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 21:46:35 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 21:46:35 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 21:46:35 - Backtester - INFO - Анализ сигналов в данных: {0: 6150, 1: 827, -1: 133}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для AFKS: {0: 417, 1: 47, -1: 4}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для ALRS: {0: 451, 1: 14, -1: 3}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для GAZP: {0: 405, 1: 52, -1: 11}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для GMKN: {0: 448, 1: 13, -1: 1}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для LKOH: {0: 321, 1: 95, -1: 52}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для MAGN: {0: 441, 1: 18, -1: 7}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для MTSS: {0: 427, 1: 37, -1: 4}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для MVID: {0: 440, 1: 20, -1: 8}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 94, -1: 3}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для PHOR: {0: 85, -1: 13, 1: 9}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для ROSN: {0: 347, 1: 119, -1: 2}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для RUAL: {0: 431, 1: 34, -1: 3}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для SBER: {0: 418, 1: 41, -1: 9}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для SIBN: {0: 373, 1: 86, -1: 5}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для SNGS: {0: 419, 1: 45, -1: 4}
2025-04-27 21:46:35 - Backtester - INFO - Сигналы для TATN: {0: 359, 1: 103, -1: 4}
2025-04-27 21:46:35 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 21:46:35 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 21:46:35 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 21:46:35 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 21:46:35 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 21:46:35 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 21:46:35 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 21:46:35 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 21:46:35 - Backtester - INFO -   AFKS: 51/468 ненулевых сигналов (10.9%)
2025-04-27 21:46:35 - Backtester - INFO -   ALRS: 17/468 ненулевых сигналов (3.6%)
2025-04-27 21:46:35 - Backtester - INFO -   GAZP: 63/468 ненулевых сигналов (13.5%)
2025-04-27 21:46:35 - Backtester - INFO -   GMKN: 14/462 ненулевых сигналов (3.0%)
2025-04-27 21:46:35 - Backtester - INFO -   LKOH: 147/468 ненулевых сигналов (31.4%)
2025-04-27 21:46:35 - Backtester - INFO -   MAGN: 25/466 ненулевых сигналов (5.4%)
2025-04-27 21:46:35 - Backtester - INFO -   MTSS: 41/468 ненулевых сигналов (8.8%)
2025-04-27 21:46:35 - Backtester - INFO -   MVID: 28/468 ненулевых сигналов (6.0%)
2025-04-27 21:46:35 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 21:46:35 - Backtester - INFO -   PHOR: 22/107 ненулевых сигналов (20.6%)
2025-04-27 21:46:35 - Backtester - INFO -   ROSN: 121/468 ненулевых сигналов (25.9%)
2025-04-27 21:46:35 - Backtester - INFO -   RUAL: 37/468 ненулевых сигналов (7.9%)
2025-04-27 21:46:35 - Backtester - INFO -   SBER: 50/468 ненулевых сигналов (10.7%)
2025-04-27 21:46:35 - Backtester - INFO -   SIBN: 91/464 ненулевых сигналов (19.6%)
2025-04-27 21:46:35 - Backtester - INFO -   SNGS: 49/468 ненулевых сигналов (10.5%)
2025-04-27 21:46:35 - Backtester - INFO -   TATN: 107/466 ненулевых сигналов (23.0%)
2025-04-27 21:46:35 - Backtester - INFO - Тикер AFKS: 51/468 ненулевых strategy_return
2025-04-27 21:46:35 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:46:35 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:35 - Backtester - INFO - Тикер LKOH: 147/468 ненулевых strategy_return
2025-04-27 21:46:35 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-27 21:46:35 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:35 - Backtester - INFO - Тикер RUAL: 38/468 ненулевых strategy_return
2025-04-27 21:46:35 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, 0.0, 0.0, -0.0, 0.0]
2025-04-27 21:46:35 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:35 - Backtester - INFO - Тикер SBER: 51/468 ненулевых strategy_return
2025-04-27 21:46:35 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-27 21:46:35 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:35 - Backtester - INFO - Тикер TATN: 106/466 ненулевых strategy_return
2025-04-27 21:46:35 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, 0.0, 0.0, -0.0, nan]
2025-04-27 21:46:35 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 21:46:35 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 21:46:35 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 21:46:35 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 21:46:35 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 21:46:35 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 21:46:35 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 21:46:35 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 21:46:35 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 21:46:35 - Backtester - INFO - Кумулятивная доходность: 6.46%, Годовая доходность: 3.43%, Шарп: -0.80, Макс. просадка: -3.70%
2025-04-27 21:46:35 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 21:46:35 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 21:46:35 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 21:46:35 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 21:46:36 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 21:46:36 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 21:46:36 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_213211_balanced_portfolio_0427_2131/shorts_portfolio/production_portfolio/backtest
2025-04-27 23:05:02 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 23:05:02 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_signals_20250427_230432.csv
2025-04-27 23:05:02 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 23:05:02 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 23:05:02 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 23:05:02 - Backtester - INFO - Анализ сигналов в данных: {0: 1398, 1: 142, -1: 108}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для AFKS: {0: 92, -1: 8, 1: 3}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для ALRS: {0: 88, -1: 15}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для GAZP: {0: 86, 1: 9, -1: 8}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для GMKN: {0: 95, -1: 6, 1: 2}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для LKOH: {0: 70, -1: 21, 1: 12}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для MAGN: {0: 94, -1: 8, 1: 1}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для MTSS: {0: 94, 1: 5, -1: 4}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для MVID: {0: 97, 1: 6}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для NVTK: {0: 78, 1: 23, -1: 2}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 24, 1: 6}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для ROSN: {0: 81, 1: 21, -1: 1}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для RUAL: {0: 91, -1: 7, 1: 5}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для SBER: {0: 96, 1: 6, -1: 1}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для SIBN: {0: 88, 1: 14, -1: 1}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для SNGS: {0: 95, 1: 6, -1: 2}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-27 23:05:02 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 23:05:02 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 23:05:02 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 23:05:02 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999997065), 'ALRS': np.float64(2.1325625774905215e-14), 'GAZP': np.float64(6.033937238747455e-13), 'GMKN': np.float64(2.3629162335080485e-14), 'LKOH': np.float64(0.13999999999930002), 'MAGN': np.float64(2.263488806193734e-14), 'MTSS': np.float64(4.0939416795416135e-14), 'MVID': np.float64(2.7161475063137382e-14), 'NVTK': np.float64(7.058986024390214e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.595345209564517e-14), 'RUAL': np.float64(0.13999999999995869), 'SBER': np.float64(0.13999999999995652), 'SIBN': np.float64(1.534904192340231e-14), 'SNGS': np.float64(1.9209164446190905e-14), 'TATN': np.float64(0.13999999999995835)}
2025-04-27 23:05:02 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 23:05:02 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 23:05:02 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 23:05:02 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 23:05:02 - Backtester - INFO -   AFKS: 11/103 ненулевых сигналов (10.7%)
2025-04-27 23:05:02 - Backtester - INFO -   ALRS: 15/103 ненулевых сигналов (14.6%)
2025-04-27 23:05:02 - Backtester - INFO -   GAZP: 17/103 ненулевых сигналов (16.5%)
2025-04-27 23:05:02 - Backtester - INFO -   GMKN: 8/103 ненулевых сигналов (7.8%)
2025-04-27 23:05:02 - Backtester - INFO -   LKOH: 33/103 ненулевых сигналов (32.0%)
2025-04-27 23:05:02 - Backtester - INFO -   MAGN: 9/103 ненулевых сигналов (8.7%)
2025-04-27 23:05:02 - Backtester - INFO -   MTSS: 9/103 ненулевых сигналов (8.7%)
2025-04-27 23:05:02 - Backtester - INFO -   MVID: 6/103 ненулевых сигналов (5.8%)
2025-04-27 23:05:02 - Backtester - INFO -   NVTK: 25/103 ненулевых сигналов (24.3%)
2025-04-27 23:05:02 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-27 23:05:02 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-27 23:05:02 - Backtester - INFO -   RUAL: 12/103 ненулевых сигналов (11.7%)
2025-04-27 23:05:02 - Backtester - INFO -   SBER: 7/103 ненулевых сигналов (6.8%)
2025-04-27 23:05:02 - Backtester - INFO -   SIBN: 15/103 ненулевых сигналов (14.6%)
2025-04-27 23:05:02 - Backtester - INFO -   SNGS: 8/103 ненулевых сигналов (7.8%)
2025-04-27 23:05:02 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-27 23:05:02 - Backtester - INFO - Тикер AFKS: 12/103 ненулевых strategy_return
2025-04-27 23:05:02 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 23:05:02 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:02 - Backtester - INFO - Тикер LKOH: 33/103 ненулевых strategy_return
2025-04-27 23:05:02 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 23:05:02 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:02 - Backtester - INFO - Тикер RUAL: 13/103 ненулевых strategy_return
2025-04-27 23:05:02 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 23:05:02 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:02 - Backtester - INFO - Тикер SBER: 8/103 ненулевых strategy_return
2025-04-27 23:05:02 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 23:05:02 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:02 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-27 23:05:02 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 23:05:02 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:02 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 23:05:02 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 23:05:02 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 23:05:02 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 23:05:02 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 23:05:02 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.003618760327871692, -0.0001464082631992805, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 23:05:02 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 23:05:02 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 23:05:02 - Backtester - INFO - Кумулятивная доходность: -1.92%, Годовая доходность: -4.63%, Шарп: -1.80, Макс. просадка: -3.27%
2025-04-27 23:05:02 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 23:05:02 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 23:05:02 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 23:05:02 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 23:05:02 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 23:05:02 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 23:05:02 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 23:05:02 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 23:05:02 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_signals_20250427_230432.csv
2025-04-27 23:05:02 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 23:05:02 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 23:05:02 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 23:05:02 - Backtester - INFO - Анализ сигналов в данных: {0: 4653, 1: 437, -1: 372}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для AFKS: {0: 323, -1: 34, 1: 8}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для ALRS: {0: 342, -1: 18, 1: 5}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для GAZP: {0: 316, -1: 34, 1: 15}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 16, 1: 3}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для LKOH: {0: 246, 1: 74, -1: 45}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для MAGN: {0: 327, -1: 28, 1: 8}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для MTSS: {0: 325, -1: 21, 1: 19}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для MVID: {0: 333, -1: 28, 1: 4}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 49, -1: 23}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для ROSN: {0: 273, 1: 75, -1: 17}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для RUAL: {0: 329, -1: 28, 1: 8}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для SBER: {0: 315, 1: 26, -1: 24}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для SNGS: {0: 325, 1: 26, -1: 14}
2025-04-27 23:05:02 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-27 23:05:02 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 23:05:02 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 23:05:02 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 23:05:02 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999997065), 'ALRS': np.float64(2.1325625774905215e-14), 'GAZP': np.float64(6.033937238747455e-13), 'GMKN': np.float64(2.3629162335080485e-14), 'LKOH': np.float64(0.13999999999930002), 'MAGN': np.float64(2.263488806193734e-14), 'MTSS': np.float64(4.0939416795416135e-14), 'MVID': np.float64(2.7161475063137382e-14), 'NVTK': np.float64(7.058986024390214e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.595345209564517e-14), 'RUAL': np.float64(0.13999999999995869), 'SBER': np.float64(0.13999999999995652), 'SIBN': np.float64(1.534904192340231e-14), 'SNGS': np.float64(1.9209164446190905e-14), 'TATN': np.float64(0.13999999999995835)}
2025-04-27 23:05:02 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 23:05:02 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 23:05:02 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 23:05:03 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 23:05:03 - Backtester - INFO -   AFKS: 42/365 ненулевых сигналов (11.5%)
2025-04-27 23:05:03 - Backtester - INFO -   ALRS: 23/365 ненулевых сигналов (6.3%)
2025-04-27 23:05:03 - Backtester - INFO -   GAZP: 49/365 ненулевых сигналов (13.4%)
2025-04-27 23:05:03 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-27 23:05:03 - Backtester - INFO -   LKOH: 119/365 ненулевых сигналов (32.6%)
2025-04-27 23:05:03 - Backtester - INFO -   MAGN: 36/363 ненулевых сигналов (9.9%)
2025-04-27 23:05:03 - Backtester - INFO -   MTSS: 40/365 ненулевых сигналов (11.0%)
2025-04-27 23:05:03 - Backtester - INFO -   MVID: 32/365 ненулевых сигналов (8.8%)
2025-04-27 23:05:03 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-27 23:05:03 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-27 23:05:03 - Backtester - INFO -   ROSN: 92/365 ненулевых сигналов (25.2%)
2025-04-27 23:05:03 - Backtester - INFO -   RUAL: 36/365 ненулевых сигналов (9.9%)
2025-04-27 23:05:03 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-27 23:05:03 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-27 23:05:03 - Backtester - INFO -   SNGS: 40/365 ненулевых сигналов (11.0%)
2025-04-27 23:05:03 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-27 23:05:03 - Backtester - INFO - Тикер AFKS: 43/365 ненулевых strategy_return
2025-04-27 23:05:03 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 23:05:03 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:03 - Backtester - INFO - Тикер LKOH: 119/365 ненулевых strategy_return
2025-04-27 23:05:03 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-27 23:05:03 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:03 - Backtester - INFO - Тикер RUAL: 37/365 ненулевых strategy_return
2025-04-27 23:05:03 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 23:05:03 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:03 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-27 23:05:03 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 23:05:03 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:03 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-27 23:05:03 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 23:05:03 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:03 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 23:05:03 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 23:05:03 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 23:05:03 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 23:05:03 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 23:05:03 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.004281427503202744, -0.002970958449541997, 0.002151401719605327, -0.00019521304459589064]
2025-04-27 23:05:03 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 23:05:03 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 23:05:03 - Backtester - INFO - Кумулятивная доходность: -0.76%, Годовая доходность: -0.53%, Шарп: -2.09, Макс. просадка: -6.34%
2025-04-27 23:05:03 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 23:05:03 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 23:05:03 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 23:05:03 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 23:05:03 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 23:05:03 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 23:05:03 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 23:05:22 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 23:05:22 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 23:05:22 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 23:05:22 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 23:05:22 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 23:05:22 - Backtester - INFO - Анализ сигналов в данных: {0: 6065, 1: 585, -1: 460}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для AFKS: {0: 418, -1: 39, 1: 11}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для ALRS: {0: 434, -1: 29, 1: 5}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для GAZP: {0: 400, -1: 41, 1: 27}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для GMKN: {0: 440, -1: 18, 1: 4}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для LKOH: {0: 319, 1: 80, -1: 69}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для MAGN: {0: 423, -1: 33, 1: 10}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для MTSS: {0: 419, -1: 25, 1: 24}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для MVID: {0: 427, -1: 29, 1: 12}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 74, -1: 23}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для ROSN: {0: 356, 1: 94, -1: 18}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для RUAL: {0: 422, -1: 32, 1: 14}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для SBER: {0: 409, 1: 34, -1: 25}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для SIBN: {0: 379, 1: 64, -1: 21}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для SNGS: {0: 422, 1: 31, -1: 15}
2025-04-27 23:05:22 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-27 23:05:22 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 23:05:22 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 23:05:22 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 23:05:22 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 23:05:22 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 23:05:22 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 23:05:22 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 23:05:22 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 23:05:22 - Backtester - INFO -   AFKS: 50/468 ненулевых сигналов (10.7%)
2025-04-27 23:05:22 - Backtester - INFO -   ALRS: 34/468 ненулевых сигналов (7.3%)
2025-04-27 23:05:22 - Backtester - INFO -   GAZP: 68/468 ненулевых сигналов (14.5%)
2025-04-27 23:05:22 - Backtester - INFO -   GMKN: 22/462 ненулевых сигналов (4.8%)
2025-04-27 23:05:22 - Backtester - INFO -   LKOH: 149/468 ненулевых сигналов (31.8%)
2025-04-27 23:05:22 - Backtester - INFO -   MAGN: 43/466 ненулевых сигналов (9.2%)
2025-04-27 23:05:22 - Backtester - INFO -   MTSS: 49/468 ненулевых сигналов (10.5%)
2025-04-27 23:05:22 - Backtester - INFO -   MVID: 41/468 ненулевых сигналов (8.8%)
2025-04-27 23:05:22 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 23:05:22 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-27 23:05:22 - Backtester - INFO -   ROSN: 112/468 ненулевых сигналов (23.9%)
2025-04-27 23:05:22 - Backtester - INFO -   RUAL: 46/468 ненулевых сигналов (9.8%)
2025-04-27 23:05:22 - Backtester - INFO -   SBER: 59/468 ненулевых сигналов (12.6%)
2025-04-27 23:05:22 - Backtester - INFO -   SIBN: 85/464 ненулевых сигналов (18.3%)
2025-04-27 23:05:22 - Backtester - INFO -   SNGS: 46/468 ненулевых сигналов (9.8%)
2025-04-27 23:05:22 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-27 23:05:22 - Backtester - INFO - Тикер AFKS: 51/468 ненулевых strategy_return
2025-04-27 23:05:22 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 23:05:22 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:22 - Backtester - INFO - Тикер LKOH: 149/468 ненулевых strategy_return
2025-04-27 23:05:22 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 23:05:22 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:22 - Backtester - INFO - Тикер RUAL: 47/468 ненулевых strategy_return
2025-04-27 23:05:22 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 23:05:22 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:22 - Backtester - INFO - Тикер SBER: 60/468 ненулевых strategy_return
2025-04-27 23:05:22 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 23:05:22 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:22 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-27 23:05:22 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 23:05:22 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:05:22 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 23:05:22 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 23:05:22 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 23:05:22 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 23:05:22 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 23:05:22 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-27 23:05:22 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 23:05:22 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 23:05:22 - Backtester - INFO - Кумулятивная доходность: -1.80%, Годовая доходность: -0.97%, Шарп: -1.94, Макс. просадка: -6.35%
2025-04-27 23:05:22 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 23:05:22 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 23:05:22 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 23:05:22 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 23:05:22 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 23:05:22 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 23:05:22 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest
2025-04-27 23:10:10 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 23:10:10 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_signals_20250427_230940.csv
2025-04-27 23:10:10 - Backtester - INFO - Загружено 1648 строк данных по акциям
2025-04-27 23:10:10 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-14
2025-04-27 23:10:10 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 23:10:10 - Backtester - INFO - Анализ сигналов в данных: {0: 1398, 1: 142, -1: 108}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для AFKS: {0: 92, -1: 8, 1: 3}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для ALRS: {0: 88, -1: 15}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для GAZP: {0: 86, 1: 9, -1: 8}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для GMKN: {0: 95, -1: 6, 1: 2}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для LKOH: {0: 70, -1: 21, 1: 12}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для MAGN: {0: 94, -1: 8, 1: 1}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для MTSS: {0: 94, 1: 5, -1: 4}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для MVID: {0: 97, 1: 6}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для NVTK: {0: 78, 1: 23, -1: 2}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 24, 1: 6}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для ROSN: {0: 81, 1: 21, -1: 1}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для RUAL: {0: 91, -1: 7, 1: 5}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для SBER: {0: 96, 1: 6, -1: 1}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для SIBN: {0: 88, 1: 14, -1: 1}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для SNGS: {0: 95, 1: 6, -1: 2}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для TATN: {0: 80, 1: 23}
2025-04-27 23:10:10 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 23:10:10 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 23:10:10 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 23:10:10 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999997065), 'ALRS': np.float64(2.1325625774905215e-14), 'GAZP': np.float64(6.033937238747455e-13), 'GMKN': np.float64(2.3629162335080485e-14), 'LKOH': np.float64(0.13999999999930002), 'MAGN': np.float64(2.263488806193734e-14), 'MTSS': np.float64(4.0939416795416135e-14), 'MVID': np.float64(2.7161475063137382e-14), 'NVTK': np.float64(7.058986024390214e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.595345209564517e-14), 'RUAL': np.float64(0.13999999999995869), 'SBER': np.float64(0.13999999999995652), 'SIBN': np.float64(1.534904192340231e-14), 'SNGS': np.float64(1.9209164446190905e-14), 'TATN': np.float64(0.13999999999995835)}
2025-04-27 23:10:10 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 23:10:10 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 23:10:10 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 23:10:10 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 23:10:10 - Backtester - INFO -   AFKS: 11/103 ненулевых сигналов (10.7%)
2025-04-27 23:10:10 - Backtester - INFO -   ALRS: 15/103 ненулевых сигналов (14.6%)
2025-04-27 23:10:10 - Backtester - INFO -   GAZP: 17/103 ненулевых сигналов (16.5%)
2025-04-27 23:10:10 - Backtester - INFO -   GMKN: 8/103 ненулевых сигналов (7.8%)
2025-04-27 23:10:10 - Backtester - INFO -   LKOH: 33/103 ненулевых сигналов (32.0%)
2025-04-27 23:10:10 - Backtester - INFO -   MAGN: 9/103 ненулевых сигналов (8.7%)
2025-04-27 23:10:10 - Backtester - INFO -   MTSS: 9/103 ненулевых сигналов (8.7%)
2025-04-27 23:10:10 - Backtester - INFO -   MVID: 6/103 ненулевых сигналов (5.8%)
2025-04-27 23:10:10 - Backtester - INFO -   NVTK: 25/103 ненулевых сигналов (24.3%)
2025-04-27 23:10:10 - Backtester - INFO -   PHOR: 30/103 ненулевых сигналов (29.1%)
2025-04-27 23:10:10 - Backtester - INFO -   ROSN: 22/103 ненулевых сигналов (21.4%)
2025-04-27 23:10:10 - Backtester - INFO -   RUAL: 12/103 ненулевых сигналов (11.7%)
2025-04-27 23:10:10 - Backtester - INFO -   SBER: 7/103 ненулевых сигналов (6.8%)
2025-04-27 23:10:10 - Backtester - INFO -   SIBN: 15/103 ненулевых сигналов (14.6%)
2025-04-27 23:10:10 - Backtester - INFO -   SNGS: 8/103 ненулевых сигналов (7.8%)
2025-04-27 23:10:10 - Backtester - INFO -   TATN: 23/103 ненулевых сигналов (22.3%)
2025-04-27 23:10:10 - Backtester - INFO - Тикер AFKS: 12/103 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер LKOH: 33/103 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.0264633479212254, -0.0009131137177775805, -0.0, 0.0]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер RUAL: 13/103 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер SBER: 8/103 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер TATN: 22/103 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 23:10:10 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 23:10:10 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 23:10:10 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 23:10:10 - Backtester - INFO - Портфельная доходность: 103/103 ненулевых значений
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.003618760327871692, -0.0001464082631992805, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-27 23:10:10 - Backtester - INFO - Рассчитана доходность портфеля за 103 дней
2025-04-27 23:10:10 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 23:10:10 - Backtester - INFO - Кумулятивная доходность: -1.92%, Годовая доходность: -4.63%, Шарп: -1.80, Макс. просадка: -3.27%
2025-04-27 23:10:10 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 23:10:10 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-27 23:10:10 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-27 23:10:10 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-27 23:10:10 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-27 23:10:10 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-27 23:10:10 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/test_backtest
2025-04-27 23:10:10 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 23:10:10 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_signals_20250427_230940.csv
2025-04-27 23:10:10 - Backtester - INFO - Загружено 5462 строк данных по акциям
2025-04-27 23:10:10 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-27 23:10:10 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 23:10:10 - Backtester - INFO - Анализ сигналов в данных: {0: 4653, 1: 437, -1: 372}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для AFKS: {0: 323, -1: 34, 1: 8}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для ALRS: {0: 342, -1: 18, 1: 5}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для GAZP: {0: 316, -1: 34, 1: 15}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 16, 1: 3}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для LKOH: {0: 246, 1: 74, -1: 45}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для MAGN: {0: 327, -1: 28, 1: 8}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для MTSS: {0: 325, -1: 21, 1: 19}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для MVID: {0: 333, -1: 28, 1: 4}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для NVTK: {0: 290, 1: 49, -1: 23}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для PHOR: {-1: 4}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для ROSN: {0: 273, 1: 75, -1: 17}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для RUAL: {0: 329, -1: 28, 1: 8}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для SBER: {0: 315, 1: 26, -1: 24}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для SIBN: {0: 291, 1: 48, -1: 22}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для SNGS: {0: 325, 1: 26, -1: 14}
2025-04-27 23:10:10 - Backtester - INFO - Сигналы для TATN: {0: 278, 1: 69, -1: 16}
2025-04-27 23:10:10 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 23:10:10 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 23:10:10 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 23:10:10 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999997065), 'ALRS': np.float64(2.1325625774905215e-14), 'GAZP': np.float64(6.033937238747455e-13), 'GMKN': np.float64(2.3629162335080485e-14), 'LKOH': np.float64(0.13999999999930002), 'MAGN': np.float64(2.263488806193734e-14), 'MTSS': np.float64(4.0939416795416135e-14), 'MVID': np.float64(2.7161475063137382e-14), 'NVTK': np.float64(7.058986024390214e-14), 'PHOR': np.float64(0.0), 'ROSN': np.float64(1.595345209564517e-14), 'RUAL': np.float64(0.13999999999995869), 'SBER': np.float64(0.13999999999995652), 'SIBN': np.float64(1.534904192340231e-14), 'SNGS': np.float64(1.9209164446190905e-14), 'TATN': np.float64(0.13999999999995835)}
2025-04-27 23:10:10 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 23:10:10 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 23:10:10 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 23:10:10 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 23:10:10 - Backtester - INFO -   AFKS: 42/365 ненулевых сигналов (11.5%)
2025-04-27 23:10:10 - Backtester - INFO -   ALRS: 23/365 ненулевых сигналов (6.3%)
2025-04-27 23:10:10 - Backtester - INFO -   GAZP: 49/365 ненулевых сигналов (13.4%)
2025-04-27 23:10:10 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-27 23:10:10 - Backtester - INFO -   LKOH: 119/365 ненулевых сигналов (32.6%)
2025-04-27 23:10:10 - Backtester - INFO -   MAGN: 36/363 ненулевых сигналов (9.9%)
2025-04-27 23:10:10 - Backtester - INFO -   MTSS: 40/365 ненулевых сигналов (11.0%)
2025-04-27 23:10:10 - Backtester - INFO -   MVID: 32/365 ненулевых сигналов (8.8%)
2025-04-27 23:10:10 - Backtester - INFO -   NVTK: 72/362 ненулевых сигналов (19.9%)
2025-04-27 23:10:10 - Backtester - INFO -   PHOR: 4/4 ненулевых сигналов (100.0%)
2025-04-27 23:10:10 - Backtester - INFO -   ROSN: 92/365 ненулевых сигналов (25.2%)
2025-04-27 23:10:10 - Backtester - INFO -   RUAL: 36/365 ненулевых сигналов (9.9%)
2025-04-27 23:10:10 - Backtester - INFO -   SBER: 50/365 ненулевых сигналов (13.7%)
2025-04-27 23:10:10 - Backtester - INFO -   SIBN: 70/361 ненулевых сигналов (19.4%)
2025-04-27 23:10:10 - Backtester - INFO -   SNGS: 40/365 ненулевых сигналов (11.0%)
2025-04-27 23:10:10 - Backtester - INFO -   TATN: 85/363 ненулевых сигналов (23.4%)
2025-04-27 23:10:10 - Backtester - INFO - Тикер AFKS: 43/365 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер LKOH: 119/365 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер RUAL: 37/365 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер SBER: 51/365 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Тикер TATN: 85/363 ненулевых strategy_return
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 23:10:10 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:10 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 23:10:10 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 23:10:10 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 23:10:10 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 23:10:10 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-27 23:10:10 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.004281427503202744, -0.002970958449541997, 0.002151401719605327, -0.00019521304459589064]
2025-04-27 23:10:10 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-27 23:10:10 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 23:10:10 - Backtester - INFO - Кумулятивная доходность: -0.76%, Годовая доходность: -0.53%, Шарп: -2.09, Макс. просадка: -6.34%
2025-04-27 23:10:10 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 23:10:10 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-27 23:10:11 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-27 23:10:11 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-27 23:10:11 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-27 23:10:11 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-27 23:10:11 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/honest_backtest/train_backtest
2025-04-27 23:10:30 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-27 23:10:30 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-27 23:10:30 - Backtester - INFO - Загружено 7110 строк данных по акциям
2025-04-27 23:10:30 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-14
2025-04-27 23:10:30 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-27 23:10:30 - Backtester - INFO - Анализ сигналов в данных: {0: 6065, 1: 585, -1: 460}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для AFKS: {0: 418, -1: 39, 1: 11}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для ALRS: {0: 434, -1: 29, 1: 5}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для GAZP: {0: 400, -1: 41, 1: 27}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для GMKN: {0: 440, -1: 18, 1: 4}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для LKOH: {0: 319, 1: 80, -1: 69}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для MAGN: {0: 423, -1: 33, 1: 10}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для MTSS: {0: 419, -1: 25, 1: 24}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для MVID: {0: 427, -1: 29, 1: 12}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для NVTK: {0: 368, 1: 74, -1: 23}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для PHOR: {0: 73, -1: 27, 1: 7}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для ROSN: {0: 356, 1: 94, -1: 18}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для RUAL: {0: 422, -1: 32, 1: 14}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для SBER: {0: 409, 1: 34, -1: 25}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для SIBN: {0: 379, 1: 64, -1: 21}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для SNGS: {0: 422, 1: 31, -1: 15}
2025-04-27 23:10:30 - Backtester - INFO - Сигналы для TATN: {0: 356, 1: 94, -1: 16}
2025-04-27 23:10:30 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-27 23:10:30 - Backtester - INFO - Расчет доходности портфеля
2025-04-27 23:10:30 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-27 23:10:30 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999983115), 'ALRS': np.float64(9.338918213096684e-14), 'GAZP': np.float64(2.0561199003783698e-13), 'GMKN': np.float64(1.0803822921431682e-13), 'LKOH': np.float64(0.13999999999870055), 'MAGN': np.float64(1.0066799461899719e-13), 'MTSS': np.float64(5.424737915815658e-13), 'MVID': np.float64(1.1921521971557745e-13), 'NVTK': np.float64(1.0162158393816819e-13), 'PHOR': np.float64(2.7075325145732113e-13), 'ROSN': np.float64(7.465190222223277e-14), 'RUAL': np.float64(0.13999999999979384), 'SBER': np.float64(0.1399999999997655), 'SIBN': np.float64(6.485885045481381e-14), 'SNGS': np.float64(5.678912280001135e-13), 'TATN': np.float64(0.1399999999996597)}
2025-04-27 23:10:30 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-27 23:10:30 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-27 23:10:30 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-27 23:10:30 - Backtester - INFO - Статистика сигналов в данных:
2025-04-27 23:10:30 - Backtester - INFO -   AFKS: 50/468 ненулевых сигналов (10.7%)
2025-04-27 23:10:30 - Backtester - INFO -   ALRS: 34/468 ненулевых сигналов (7.3%)
2025-04-27 23:10:30 - Backtester - INFO -   GAZP: 68/468 ненулевых сигналов (14.5%)
2025-04-27 23:10:30 - Backtester - INFO -   GMKN: 22/462 ненулевых сигналов (4.8%)
2025-04-27 23:10:30 - Backtester - INFO -   LKOH: 149/468 ненулевых сигналов (31.8%)
2025-04-27 23:10:30 - Backtester - INFO -   MAGN: 43/466 ненулевых сигналов (9.2%)
2025-04-27 23:10:30 - Backtester - INFO -   MTSS: 49/468 ненулевых сигналов (10.5%)
2025-04-27 23:10:30 - Backtester - INFO -   MVID: 41/468 ненулевых сигналов (8.8%)
2025-04-27 23:10:30 - Backtester - INFO -   NVTK: 97/465 ненулевых сигналов (20.9%)
2025-04-27 23:10:30 - Backtester - INFO -   PHOR: 34/107 ненулевых сигналов (31.8%)
2025-04-27 23:10:30 - Backtester - INFO -   ROSN: 112/468 ненулевых сигналов (23.9%)
2025-04-27 23:10:30 - Backtester - INFO -   RUAL: 46/468 ненулевых сигналов (9.8%)
2025-04-27 23:10:30 - Backtester - INFO -   SBER: 59/468 ненулевых сигналов (12.6%)
2025-04-27 23:10:30 - Backtester - INFO -   SIBN: 85/464 ненулевых сигналов (18.3%)
2025-04-27 23:10:30 - Backtester - INFO -   SNGS: 46/468 ненулевых сигналов (9.8%)
2025-04-27 23:10:30 - Backtester - INFO -   TATN: 110/466 ненулевых сигналов (23.6%)
2025-04-27 23:10:30 - Backtester - INFO - Тикер AFKS: 51/468 ненулевых strategy_return
2025-04-27 23:10:30 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-27 23:10:30 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:30 - Backtester - INFO - Тикер LKOH: 149/468 ненулевых strategy_return
2025-04-27 23:10:30 - Backtester - INFO - Первые 5 значений strategy_return для LKOH: [nan, -0.010095761264939496, 0.004776953038877041, -0.0013291980505094614, -0.00022123893805314765]
2025-04-27 23:10:30 - Backtester - INFO - Добавлен тикер LKOH с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:30 - Backtester - INFO - Тикер RUAL: 47/468 ненулевых strategy_return
2025-04-27 23:10:30 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-27 23:10:30 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:30 - Backtester - INFO - Тикер SBER: 60/468 ненулевых strategy_return
2025-04-27 23:10:30 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-27 23:10:30 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:30 - Backtester - INFO - Тикер TATN: 109/466 ненулевых strategy_return
2025-04-27 23:10:30 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-27 23:10:30 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-27 23:10:30 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-27 23:10:30 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-27 23:10:30 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-27 23:10:30 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-27 23:10:30 - Backtester - INFO - Портфельная доходность: 468/468 ненулевых значений
2025-04-27 23:10:30 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005694834080275119, -0.0023021850241010666, 0.001965313992533243, -0.00022618649592269453]
2025-04-27 23:10:30 - Backtester - INFO - Рассчитана доходность портфеля за 468 дней
2025-04-27 23:10:30 - Backtester - INFO - Расчет метрик эффективности
2025-04-27 23:10:30 - Backtester - INFO - Кумулятивная доходность: -1.80%, Годовая доходность: -0.97%, Шарп: -1.94, Макс. просадка: -6.35%
2025-04-27 23:10:30 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-27 23:10:30 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-27 23:10:30 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-27 23:10:30 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-27 23:10:30 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-27 23:10:30 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-27 23:10:30 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Documents/GitHub/kursach/data/pipeline_runs/run_20250427_230408_balanced_portfolio_0427_2304/shorts_portfolio/production_portfolio/backtest
2025-04-29 01:14:42 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 01:14:42 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/core/pys/data/pipeline_runs/run_20250429_011404_moderate_user_1_20250429_0114/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 01:14:42 - Backtester - ERROR - Ошибка при загрузке данных по акциям: [Errno 2] No such file or directory: '/Users/aeshef/Desktop/FOR3.9TEST/kursach/core/pys/data/pipeline_runs/run_20250429_011404_moderate_user_1_20250429_0114/shorts_portfolio/production_portfolio/signals/production_signals.csv'
2025-04-29 01:14:42 - Backtester - ERROR - Не удалось загрузить данные по акциям для бэктеста
2025-04-29 12:47:02 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 12:47:02 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_signals_20250429_124616.csv
2025-04-29 12:47:02 - Backtester - INFO - Загружено 1167 строк данных по акциям
2025-04-29 12:47:02 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 12:47:02 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 12:47:02 - Backtester - INFO - Анализ сигналов в данных: {0: 1011, 1: 89, -1: 67}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для GAZP: {0: 86, 1: 11, -1: 6}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для PHOR: {0: 81, -1: 15, 1: 8}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для SIBN: {0: 85, 1: 18, -1: 1}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для SNGS: {0: 25}
2025-04-29 12:47:02 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 12:47:02 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 12:47:02 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 12:47:02 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 12:47:02 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 12:47:02 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 12:47:02 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 12:47:02 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 12:47:02 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 12:47:02 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 12:47:02 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 12:47:02 - Backtester - INFO -   GAZP: 17/103 ненулевых сигналов (16.5%)
2025-04-29 12:47:02 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 12:47:02 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 12:47:02 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 12:47:02 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 12:47:02 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 12:47:02 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 12:47:02 - Backtester - INFO -   PHOR: 23/104 ненулевых сигналов (22.1%)
2025-04-29 12:47:02 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 12:47:02 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 12:47:02 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 12:47:02 - Backtester - INFO -   SIBN: 19/104 ненулевых сигналов (18.3%)
2025-04-29 12:47:02 - Backtester - INFO -   SNGS: 0/25 ненулевых сигналов (0.0%)
2025-04-29 12:47:02 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 12:47:02 - Backtester - INFO - Тикер AFKS: 9/104 ненулевых strategy_return
2025-04-29 12:47:02 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 12:47:02 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:02 - Backtester - INFO - Тикер PHOR: 24/104 ненулевых strategy_return
2025-04-29 12:47:02 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 12:47:02 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:02 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 12:47:02 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 12:47:02 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:02 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 12:47:02 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 12:47:02 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:02 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 12:47:02 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 12:47:02 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:02 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 12:47:02 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 12:47:02 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 12:47:02 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 12:47:02 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 12:47:02 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.8572342700896237e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 12:47:02 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 12:47:02 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 12:47:02 - Backtester - INFO - Кумулятивная доходность: -0.96%, Годовая доходность: -2.31%, Шарп: -2.02, Макс. просадка: -2.57%
2025-04-29 12:47:02 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 12:47:02 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 12:47:02 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 12:47:03 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 12:47:03 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 12:47:03 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 12:47:03 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 12:47:03 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 12:47:03 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_signals_20250429_124616.csv
2025-04-29 12:47:03 - Backtester - INFO - Загружено 4030 строк данных по акциям
2025-04-29 12:47:03 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 12:47:03 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 12:47:03 - Backtester - INFO - Анализ сигналов в данных: {0: 3471, 1: 286, -1: 273}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для AFKS: {0: 324, -1: 30, 1: 11}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 15, 1: 9}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для GAZP: {0: 314, -1: 30, 1: 21}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для GMKN: {0: 339, -1: 15, 1: 5}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для LKOH: {0: 66, 1: 14, -1: 4}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 26, 1: 12}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для MTSS: {0: 214, 1: 22, -1: 19}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для NVTK: {0: 71, -1: 13}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для PHOR: {0: 291, 1: 43, -1: 31}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для RUAL: {0: 328, -1: 25, 1: 12}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для SIBN: {0: 281, 1: 63, -1: 17}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 12:47:03 - Backtester - INFO - Сигналы для TATN: {0: 275, 1: 72, -1: 16}
2025-04-29 12:47:03 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 12:47:03 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 12:47:03 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 12:47:03 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 12:47:03 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 12:47:03 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 12:47:03 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 12:47:03 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 12:47:03 - Backtester - INFO -   AFKS: 41/365 ненулевых сигналов (11.2%)
2025-04-29 12:47:03 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-29 12:47:03 - Backtester - INFO -   GAZP: 51/365 ненулевых сигналов (14.0%)
2025-04-29 12:47:03 - Backtester - INFO -   GMKN: 20/359 ненулевых сигналов (5.6%)
2025-04-29 12:47:03 - Backtester - INFO -   LKOH: 18/84 ненулевых сигналов (21.4%)
2025-04-29 12:47:03 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 12:47:03 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 12:47:03 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 12:47:03 - Backtester - INFO -   NVTK: 13/84 ненулевых сигналов (15.5%)
2025-04-29 12:47:03 - Backtester - INFO -   PHOR: 74/365 ненулевых сигналов (20.3%)
2025-04-29 12:47:03 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 12:47:03 - Backtester - INFO -   RUAL: 37/365 ненулевых сигналов (10.1%)
2025-04-29 12:47:03 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 12:47:03 - Backtester - INFO -   SIBN: 80/361 ненулевых сигналов (22.2%)
2025-04-29 12:47:03 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 12:47:03 - Backtester - INFO -   TATN: 88/363 ненулевых сигналов (24.2%)
2025-04-29 12:47:03 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-29 12:47:03 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 12:47:03 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:03 - Backtester - INFO - Тикер PHOR: 74/365 ненулевых strategy_return
2025-04-29 12:47:03 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-29 12:47:03 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:03 - Backtester - INFO - Тикер RUAL: 38/365 ненулевых strategy_return
2025-04-29 12:47:03 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 12:47:03 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:03 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 12:47:03 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 12:47:03 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:03 - Backtester - INFO - Тикер TATN: 88/363 ненулевых strategy_return
2025-04-29 12:47:03 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 12:47:03 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:03 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 12:47:03 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 12:47:03 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 12:47:03 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 12:47:03 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 12:47:03 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.002358520989896957, -0.0031953174235858296, 0.0018960391045204383, -5.7065248368524515e-05]
2025-04-29 12:47:03 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 12:47:03 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 12:47:03 - Backtester - INFO - Кумулятивная доходность: 1.52%, Годовая доходность: 1.05%, Шарп: -1.36, Макс. просадка: -5.90%
2025-04-29 12:47:03 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 12:47:03 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 12:47:03 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 12:47:03 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 12:47:03 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 12:47:04 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 12:47:04 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 12:47:32 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 12:47:32 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 12:47:32 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 12:47:32 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 12:47:32 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 12:47:32 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 12:47:32 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 12:47:32 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 12:47:32 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 12:47:32 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 12:47:32 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 12:47:32 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 12:47:32 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 12:47:32 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 12:47:32 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'MTSS', 'GMKN', 'ALRS', 'NVTK', 'SIBN', 'SNGS', 'LKOH', 'MAGN', 'ROSN'}
2025-04-29 12:47:32 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 12:47:32 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 12:47:32 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 12:47:32 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 12:47:32 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 12:47:32 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 12:47:32 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 12:47:32 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 12:47:32 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 12:47:32 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 12:47:32 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 12:47:32 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 12:47:32 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 12:47:32 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 12:47:32 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 12:47:32 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 12:47:32 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 12:47:32 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 12:47:32 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 12:47:32 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:32 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 12:47:32 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 12:47:32 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:32 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 12:47:32 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 12:47:32 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:32 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 12:47:32 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 12:47:32 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:32 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 12:47:32 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 12:47:32 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 12:47:32 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 12:47:32 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 12:47:32 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 12:47:32 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 12:47:32 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 12:47:32 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 12:47:32 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 12:47:32 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 12:47:32 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 12:47:32 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 12:47:32 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 12:47:32 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 12:47:33 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 12:47:33 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 12:47:33 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 12:47:33 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest
2025-04-29 13:03:09 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 13:03:09 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_signals_20250429_130220.csv
2025-04-29 13:03:09 - Backtester - INFO - Загружено 1167 строк данных по акциям
2025-04-29 13:03:09 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 13:03:09 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 13:03:09 - Backtester - INFO - Анализ сигналов в данных: {0: 1011, 1: 89, -1: 67}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для GAZP: {0: 86, 1: 11, -1: 6}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для PHOR: {0: 81, -1: 15, 1: 8}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для SIBN: {0: 85, 1: 18, -1: 1}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для SNGS: {0: 25}
2025-04-29 13:03:09 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 13:03:09 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 13:03:09 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 13:03:09 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 13:03:09 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 13:03:09 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 13:03:09 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 13:03:09 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 13:03:09 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 13:03:09 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 13:03:09 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 13:03:09 - Backtester - INFO -   GAZP: 17/103 ненулевых сигналов (16.5%)
2025-04-29 13:03:09 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 13:03:09 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 13:03:09 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 13:03:09 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 13:03:09 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 13:03:09 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 13:03:09 - Backtester - INFO -   PHOR: 23/104 ненулевых сигналов (22.1%)
2025-04-29 13:03:09 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 13:03:09 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 13:03:09 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 13:03:09 - Backtester - INFO -   SIBN: 19/104 ненулевых сигналов (18.3%)
2025-04-29 13:03:09 - Backtester - INFO -   SNGS: 0/25 ненулевых сигналов (0.0%)
2025-04-29 13:03:09 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 13:03:09 - Backtester - INFO - Тикер AFKS: 9/104 ненулевых strategy_return
2025-04-29 13:03:09 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 13:03:09 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:09 - Backtester - INFO - Тикер PHOR: 24/104 ненулевых strategy_return
2025-04-29 13:03:09 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 13:03:09 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:09 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 13:03:09 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 13:03:09 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:09 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 13:03:09 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 13:03:09 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:09 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 13:03:09 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 13:03:09 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:09 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 13:03:09 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 13:03:09 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 13:03:09 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 13:03:09 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 13:03:09 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.8572342700896237e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 13:03:09 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 13:03:09 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 13:03:09 - Backtester - INFO - Кумулятивная доходность: -0.96%, Годовая доходность: -2.31%, Шарп: -2.02, Макс. просадка: -2.57%
2025-04-29 13:03:09 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 13:03:09 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 13:03:09 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 13:03:09 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 13:03:09 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 13:03:09 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 13:03:09 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 13:03:09 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 13:03:09 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_signals_20250429_130220.csv
2025-04-29 13:03:10 - Backtester - INFO - Загружено 4030 строк данных по акциям
2025-04-29 13:03:10 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 13:03:10 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 13:03:10 - Backtester - INFO - Анализ сигналов в данных: {0: 3471, 1: 286, -1: 273}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для AFKS: {0: 324, -1: 30, 1: 11}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 15, 1: 9}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для GAZP: {0: 314, -1: 30, 1: 21}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для GMKN: {0: 339, -1: 15, 1: 5}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для LKOH: {0: 66, 1: 14, -1: 4}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 26, 1: 12}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для MTSS: {0: 214, 1: 22, -1: 19}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для NVTK: {0: 71, -1: 13}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для PHOR: {0: 291, 1: 43, -1: 31}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для RUAL: {0: 328, -1: 25, 1: 12}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для SIBN: {0: 281, 1: 63, -1: 17}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 13:03:10 - Backtester - INFO - Сигналы для TATN: {0: 275, 1: 72, -1: 16}
2025-04-29 13:03:10 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 13:03:10 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 13:03:10 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 13:03:10 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 13:03:10 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 13:03:10 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 13:03:10 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 13:03:10 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 13:03:10 - Backtester - INFO -   AFKS: 41/365 ненулевых сигналов (11.2%)
2025-04-29 13:03:10 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-29 13:03:10 - Backtester - INFO -   GAZP: 51/365 ненулевых сигналов (14.0%)
2025-04-29 13:03:10 - Backtester - INFO -   GMKN: 20/359 ненулевых сигналов (5.6%)
2025-04-29 13:03:10 - Backtester - INFO -   LKOH: 18/84 ненулевых сигналов (21.4%)
2025-04-29 13:03:10 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 13:03:10 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 13:03:10 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 13:03:10 - Backtester - INFO -   NVTK: 13/84 ненулевых сигналов (15.5%)
2025-04-29 13:03:10 - Backtester - INFO -   PHOR: 74/365 ненулевых сигналов (20.3%)
2025-04-29 13:03:10 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 13:03:10 - Backtester - INFO -   RUAL: 37/365 ненулевых сигналов (10.1%)
2025-04-29 13:03:10 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 13:03:10 - Backtester - INFO -   SIBN: 80/361 ненулевых сигналов (22.2%)
2025-04-29 13:03:10 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 13:03:10 - Backtester - INFO -   TATN: 88/363 ненулевых сигналов (24.2%)
2025-04-29 13:03:10 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-29 13:03:10 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 13:03:10 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:10 - Backtester - INFO - Тикер PHOR: 74/365 ненулевых strategy_return
2025-04-29 13:03:10 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-29 13:03:10 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:10 - Backtester - INFO - Тикер RUAL: 38/365 ненулевых strategy_return
2025-04-29 13:03:10 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 13:03:10 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:10 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 13:03:10 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 13:03:10 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:10 - Backtester - INFO - Тикер TATN: 88/363 ненулевых strategy_return
2025-04-29 13:03:10 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 13:03:10 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:10 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 13:03:10 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 13:03:10 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 13:03:10 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 13:03:10 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 13:03:10 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.002358520989896957, -0.0031953174235858296, 0.0018960391045204383, -5.7065248368524515e-05]
2025-04-29 13:03:10 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 13:03:10 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 13:03:10 - Backtester - INFO - Кумулятивная доходность: 1.52%, Годовая доходность: 1.05%, Шарп: -1.36, Макс. просадка: -5.90%
2025-04-29 13:03:10 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 13:03:10 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 13:03:10 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 13:03:10 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 13:03:10 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 13:03:11 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 13:03:11 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 13:03:43 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 13:03:43 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 13:03:43 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 13:03:43 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 13:03:43 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 13:03:43 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 13:03:43 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 13:03:43 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 13:03:43 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 13:03:43 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 13:03:43 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 13:03:43 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 13:03:43 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 13:03:43 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 13:03:43 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'MTSS', 'GMKN', 'ALRS', 'NVTK', 'SIBN', 'SNGS', 'LKOH', 'MAGN', 'ROSN'}
2025-04-29 13:03:43 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 13:03:43 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 13:03:43 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 13:03:43 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 13:03:43 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 13:03:43 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 13:03:43 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 13:03:43 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 13:03:43 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 13:03:43 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 13:03:43 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 13:03:43 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 13:03:43 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 13:03:43 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 13:03:43 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 13:03:43 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 13:03:43 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 13:03:43 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 13:03:43 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 13:03:43 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:43 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 13:03:43 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 13:03:43 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:43 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 13:03:43 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 13:03:43 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:43 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 13:03:43 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 13:03:43 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:43 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 13:03:43 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 13:03:43 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 13:03:43 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 13:03:43 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 13:03:43 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 13:03:43 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 13:03:43 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 13:03:43 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 13:03:43 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 13:03:43 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 13:03:43 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 13:03:43 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 13:03:43 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 13:03:44 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 13:03:44 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 13:03:44 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 13:03:44 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 13:03:44 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_122907_balanced_portfolio_0429_1216/shorts_portfolio/production_portfolio/backtest
2025-04-29 15:39:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 15:39:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_signals_20250429_153853.csv
2025-04-29 15:39:20 - Backtester - INFO - Загружено 1167 строк данных по акциям
2025-04-29 15:39:20 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 15:39:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 15:39:20 - Backtester - INFO - Анализ сигналов в данных: {0: 1011, 1: 89, -1: 67}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для GAZP: {0: 86, 1: 11, -1: 6}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для PHOR: {0: 81, -1: 15, 1: 8}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для SIBN: {0: 85, 1: 18, -1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для SNGS: {0: 25}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 15:39:20 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 15:39:20 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 15:39:20 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 15:39:20 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 15:39:20 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 15:39:20 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 15:39:20 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 15:39:20 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 15:39:20 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 15:39:20 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 15:39:20 - Backtester - INFO -   GAZP: 17/103 ненулевых сигналов (16.5%)
2025-04-29 15:39:20 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 15:39:20 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 15:39:20 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 15:39:20 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 15:39:20 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 15:39:20 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 15:39:20 - Backtester - INFO -   PHOR: 23/104 ненулевых сигналов (22.1%)
2025-04-29 15:39:20 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 15:39:20 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 15:39:20 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 15:39:20 - Backtester - INFO -   SIBN: 19/104 ненулевых сигналов (18.3%)
2025-04-29 15:39:20 - Backtester - INFO -   SNGS: 0/25 ненулевых сигналов (0.0%)
2025-04-29 15:39:20 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 15:39:20 - Backtester - INFO - Тикер AFKS: 9/104 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер PHOR: 24/104 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 15:39:20 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 15:39:20 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 15:39:20 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 15:39:20 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.8572342700896237e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 15:39:20 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 15:39:20 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 15:39:20 - Backtester - INFO - Кумулятивная доходность: -0.96%, Годовая доходность: -2.31%, Шарп: -2.02, Макс. просадка: -2.57%
2025-04-29 15:39:20 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 15:39:20 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 15:39:20 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 15:39:20 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 15:39:20 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 15:39:20 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 15:39:20 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 15:39:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 15:39:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_signals_20250429_153853.csv
2025-04-29 15:39:20 - Backtester - INFO - Загружено 4030 строк данных по акциям
2025-04-29 15:39:20 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 15:39:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 15:39:20 - Backtester - INFO - Анализ сигналов в данных: {0: 3471, 1: 286, -1: 273}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для AFKS: {0: 324, -1: 30, 1: 11}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 15, 1: 9}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для GAZP: {0: 314, -1: 30, 1: 21}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для GMKN: {0: 339, -1: 15, 1: 5}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для LKOH: {0: 66, 1: 14, -1: 4}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 26, 1: 12}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для MTSS: {0: 214, 1: 22, -1: 19}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для NVTK: {0: 71, -1: 13}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для PHOR: {0: 291, 1: 43, -1: 31}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для RUAL: {0: 328, -1: 25, 1: 12}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для SIBN: {0: 281, 1: 63, -1: 17}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 15:39:20 - Backtester - INFO - Сигналы для TATN: {0: 275, 1: 72, -1: 16}
2025-04-29 15:39:20 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 15:39:20 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 15:39:20 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 15:39:20 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 15:39:20 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 15:39:20 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 15:39:20 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 15:39:20 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 15:39:20 - Backtester - INFO -   AFKS: 41/365 ненулевых сигналов (11.2%)
2025-04-29 15:39:20 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-29 15:39:20 - Backtester - INFO -   GAZP: 51/365 ненулевых сигналов (14.0%)
2025-04-29 15:39:20 - Backtester - INFO -   GMKN: 20/359 ненулевых сигналов (5.6%)
2025-04-29 15:39:20 - Backtester - INFO -   LKOH: 18/84 ненулевых сигналов (21.4%)
2025-04-29 15:39:20 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 15:39:20 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 15:39:20 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 15:39:20 - Backtester - INFO -   NVTK: 13/84 ненулевых сигналов (15.5%)
2025-04-29 15:39:20 - Backtester - INFO -   PHOR: 74/365 ненулевых сигналов (20.3%)
2025-04-29 15:39:20 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 15:39:20 - Backtester - INFO -   RUAL: 37/365 ненулевых сигналов (10.1%)
2025-04-29 15:39:20 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 15:39:20 - Backtester - INFO -   SIBN: 80/361 ненулевых сигналов (22.2%)
2025-04-29 15:39:20 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 15:39:20 - Backtester - INFO -   TATN: 88/363 ненулевых сигналов (24.2%)
2025-04-29 15:39:20 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер PHOR: 74/365 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер RUAL: 38/365 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Тикер TATN: 88/363 ненулевых strategy_return
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 15:39:20 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:20 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 15:39:20 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 15:39:20 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 15:39:20 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 15:39:20 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 15:39:20 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.002358520989896957, -0.0031953174235858296, 0.0018960391045204383, -5.7065248368524515e-05]
2025-04-29 15:39:20 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 15:39:20 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 15:39:20 - Backtester - INFO - Кумулятивная доходность: 1.52%, Годовая доходность: 1.05%, Шарп: -1.36, Макс. просадка: -5.90%
2025-04-29 15:39:20 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 15:39:20 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 15:39:21 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 15:39:21 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 15:39:21 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 15:39:21 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 15:39:21 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 15:39:38 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 15:39:38 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 15:39:38 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 15:39:38 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 15:39:38 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 15:39:38 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 15:39:38 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 15:39:38 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 15:39:38 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 15:39:38 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 15:39:38 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 15:39:38 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 15:39:38 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 15:39:38 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 15:39:38 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'LKOH', 'SIBN', 'ROSN'}
2025-04-29 15:39:38 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 15:39:38 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 15:39:38 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 15:39:38 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 15:39:38 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 15:39:38 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 15:39:38 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 15:39:38 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 15:39:38 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 15:39:38 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 15:39:38 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 15:39:38 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 15:39:38 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 15:39:38 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 15:39:38 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 15:39:38 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 15:39:38 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 15:39:38 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 15:39:38 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 15:39:38 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:38 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 15:39:38 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 15:39:38 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:38 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 15:39:38 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 15:39:38 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:38 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 15:39:38 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 15:39:38 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:38 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 15:39:38 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 15:39:38 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 15:39:38 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 15:39:38 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 15:39:38 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 15:39:38 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 15:39:38 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 15:39:38 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 15:39:38 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 15:39:38 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 15:39:38 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 15:39:38 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 15:39:38 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 15:39:38 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 15:39:39 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 15:39:39 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 15:39:39 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 15:39:39 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:14:27 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:14:27 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_signals_20250429_161359.csv
2025-04-29 16:14:27 - Backtester - INFO - Загружено 1167 строк данных по акциям
2025-04-29 16:14:27 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 16:14:27 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:14:27 - Backtester - INFO - Анализ сигналов в данных: {0: 1011, 1: 89, -1: 67}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для GAZP: {0: 86, 1: 11, -1: 6}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для PHOR: {0: 81, -1: 15, 1: 8}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для SIBN: {0: 85, 1: 18, -1: 1}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для SNGS: {0: 25}
2025-04-29 16:14:27 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 16:14:27 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:14:27 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:14:27 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:14:27 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 16:14:27 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:14:27 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 16:14:27 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 16:14:27 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:14:27 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 16:14:27 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 16:14:27 - Backtester - INFO -   GAZP: 17/103 ненулевых сигналов (16.5%)
2025-04-29 16:14:27 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 16:14:27 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 16:14:27 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 16:14:27 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 16:14:27 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 16:14:27 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 16:14:27 - Backtester - INFO -   PHOR: 23/104 ненулевых сигналов (22.1%)
2025-04-29 16:14:27 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 16:14:27 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 16:14:27 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 16:14:27 - Backtester - INFO -   SIBN: 19/104 ненулевых сигналов (18.3%)
2025-04-29 16:14:27 - Backtester - INFO -   SNGS: 0/25 ненулевых сигналов (0.0%)
2025-04-29 16:14:27 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 16:14:27 - Backtester - INFO - Тикер AFKS: 9/104 ненулевых strategy_return
2025-04-29 16:14:27 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 16:14:27 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:27 - Backtester - INFO - Тикер PHOR: 24/104 ненулевых strategy_return
2025-04-29 16:14:27 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 16:14:27 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:27 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 16:14:27 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 16:14:27 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:27 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 16:14:27 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 16:14:27 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:27 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 16:14:27 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 16:14:27 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:27 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:14:27 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:14:27 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:14:27 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:14:27 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 16:14:27 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.8572342700896237e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 16:14:27 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 16:14:27 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:14:27 - Backtester - INFO - Кумулятивная доходность: -0.96%, Годовая доходность: -2.31%, Шарп: -2.02, Макс. просадка: -2.57%
2025-04-29 16:14:27 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:14:28 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 16:14:28 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 16:14:28 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 16:14:28 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 16:14:28 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 16:14:28 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 16:14:28 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:14:28 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_signals_20250429_161359.csv
2025-04-29 16:14:28 - Backtester - INFO - Загружено 4030 строк данных по акциям
2025-04-29 16:14:28 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 16:14:28 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:14:28 - Backtester - INFO - Анализ сигналов в данных: {0: 3471, 1: 286, -1: 273}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для AFKS: {0: 324, -1: 30, 1: 11}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 15, 1: 9}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для GAZP: {0: 314, -1: 30, 1: 21}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для GMKN: {0: 339, -1: 15, 1: 5}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для LKOH: {0: 66, 1: 14, -1: 4}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 26, 1: 12}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для MTSS: {0: 214, 1: 22, -1: 19}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для NVTK: {0: 71, -1: 13}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для PHOR: {0: 291, 1: 43, -1: 31}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для RUAL: {0: 328, -1: 25, 1: 12}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для SIBN: {0: 281, 1: 63, -1: 17}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 16:14:28 - Backtester - INFO - Сигналы для TATN: {0: 275, 1: 72, -1: 16}
2025-04-29 16:14:28 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:14:28 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:14:28 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:14:28 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999998697676), 'ALRS': np.float64(6.0178943122391194e-12), 'GAZP': np.float64(0.0), 'GMKN': np.float64(6.458044814094601e-12), 'LKOH': np.float64(5.225800856209577e-12), 'MAGN': np.float64(6.438518056622831e-12), 'MTSS': np.float64(2.3192551490414103e-10), 'MVID': np.float64(8.28203295721121e-12), 'NVTK': np.float64(6.313432470032436e-12), 'PHOR': np.float64(0.13999999978915506), 'ROSN': np.float64(5.147136189229908e-12), 'RUAL': np.float64(0.1399999999863978), 'SBER': np.float64(0.1399999999860333), 'SIBN': np.float64(5.924648964030357e-12), 'SNGS': np.float64(6.2546675530989125e-12), 'TATN': np.float64(0.13999999998636747)}
2025-04-29 16:14:28 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:14:28 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 16:14:28 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 16:14:28 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:14:28 - Backtester - INFO -   AFKS: 41/365 ненулевых сигналов (11.2%)
2025-04-29 16:14:28 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-29 16:14:28 - Backtester - INFO -   GAZP: 51/365 ненулевых сигналов (14.0%)
2025-04-29 16:14:28 - Backtester - INFO -   GMKN: 20/359 ненулевых сигналов (5.6%)
2025-04-29 16:14:28 - Backtester - INFO -   LKOH: 18/84 ненулевых сигналов (21.4%)
2025-04-29 16:14:28 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 16:14:28 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 16:14:28 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 16:14:28 - Backtester - INFO -   NVTK: 13/84 ненулевых сигналов (15.5%)
2025-04-29 16:14:28 - Backtester - INFO -   PHOR: 74/365 ненулевых сигналов (20.3%)
2025-04-29 16:14:28 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 16:14:28 - Backtester - INFO -   RUAL: 37/365 ненулевых сигналов (10.1%)
2025-04-29 16:14:28 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 16:14:28 - Backtester - INFO -   SIBN: 80/361 ненулевых сигналов (22.2%)
2025-04-29 16:14:28 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 16:14:28 - Backtester - INFO -   TATN: 88/363 ненулевых сигналов (24.2%)
2025-04-29 16:14:28 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-29 16:14:28 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:14:28 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:28 - Backtester - INFO - Тикер PHOR: 74/365 ненулевых strategy_return
2025-04-29 16:14:28 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-29 16:14:28 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:28 - Backtester - INFO - Тикер RUAL: 38/365 ненулевых strategy_return
2025-04-29 16:14:28 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:14:28 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:28 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 16:14:28 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 16:14:28 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:28 - Backtester - INFO - Тикер TATN: 88/363 ненулевых strategy_return
2025-04-29 16:14:28 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:14:28 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:28 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:14:28 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:14:28 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:14:28 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:14:28 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 16:14:28 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.002358520989896957, -0.0031953174235858296, 0.0018960391045204383, -5.7065248368524515e-05]
2025-04-29 16:14:28 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 16:14:28 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:14:28 - Backtester - INFO - Кумулятивная доходность: 1.52%, Годовая доходность: 1.05%, Шарп: -1.36, Макс. просадка: -5.90%
2025-04-29 16:14:28 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:14:28 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 16:14:28 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 16:14:28 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 16:14:28 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 16:14:28 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 16:14:28 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 16:14:46 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:14:46 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:14:46 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:14:46 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:14:46 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:14:46 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:14:46 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:14:46 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:14:46 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:14:46 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:14:46 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 16:14:46 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:14:46 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:14:46 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:14:46 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'LKOH', 'SIBN', 'ROSN'}
2025-04-29 16:14:46 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:14:46 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:14:46 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:14:46 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:14:46 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:14:46 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:14:46 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:14:46 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:14:46 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:14:46 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:14:46 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:14:46 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:14:46 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:14:46 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:14:46 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:14:46 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:14:46 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:14:46 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:14:46 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:14:46 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:46 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:14:46 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:14:46 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:46 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:14:46 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:14:46 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:46 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:14:46 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:14:46 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:46 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:14:46 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:14:46 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:14:46 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:14:46 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:14:46 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:14:46 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:14:46 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:14:46 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 16:14:46 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:14:46 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:14:46 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 16:14:46 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:14:46 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:14:46 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:14:46 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:14:46 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:14:46 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:14:46 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_153733_balanced_portfolio_0429_1537/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:21:55 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:21:55 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:21:55 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:21:55 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:21:55 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:21:55 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:21:55 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:21:55 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:21:55 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:21:55 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:21:55 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 16:21:55 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:21:55 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:21:55 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:21:55 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:21:55 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:21:55 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:21:55 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:21:55 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:21:55 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:21:55 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:21:55 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:21:55 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:21:55 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:21:55 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:21:55 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:21:55 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:21:55 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:21:55 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:21:55 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:21:55 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:21:55 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:21:55 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:21:55 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:21:55 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:21:55 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:21:55 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:21:55 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:21:55 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:21:55 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:21:55 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:21:55 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:21:55 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:21:55 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:21:55 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:21:55 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:21:55 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:21:55 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:21:55 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:21:55 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:21:55 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:21:55 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:21:55 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 16:21:55 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:21:55 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:21:55 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 16:21:55 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:21:55 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:21:55 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:21:55 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:21:56 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:21:56 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:21:56 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162116_moderate_test_20250429_1621/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:22:33 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:22:33 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:22:33 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:22:33 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:22:33 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:22:33 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:22:33 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:22:33 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:22:33 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:22:33 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:22:33 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:22:33 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:22:33 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:22:33 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:22:33 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:22:33 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:22:33 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:22:33 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:22:33 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:22:33 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:22:33 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:22:33 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:22:33 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:22:33 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:22:33 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:22:33 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:22:33 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:22:33 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:22:33 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:22:33 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:22:33 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:22:33 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:22:33 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:22:33 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:22:33 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:22:33 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:22:33 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:22:33 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:22:33 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:22:33 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:22:33 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:22:33 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:22:33 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:22:33 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:22:33 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:22:33 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:22:33 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:22:33 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:22:33 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:22:33 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:22:33 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:22:33 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:22:33 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:22:33 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:22:33 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:22:33 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:22:33 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:22:34 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:22:34 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:22:34 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:22:34 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:22:34 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:22:34 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162156_aggressive_test_20250429_1621/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:23:12 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:23:12 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:23:12 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:23:12 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:23:12 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:23:12 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:23:12 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:23:12 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:23:12 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:23:12 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:23:12 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:23:12 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:23:12 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:23:12 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:23:12 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:23:12 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:23:12 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:23:12 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:23:12 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:23:12 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:23:12 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:23:12 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:23:12 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:23:12 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:23:12 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:23:12 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:23:12 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:23:12 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:23:12 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:23:12 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:23:12 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:23:12 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:23:12 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:23:12 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:23:12 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:23:12 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:23:12 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:23:12 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:23:12 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:23:12 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:23:12 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:23:12 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:23:12 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:23:12 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:23:12 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:23:12 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:23:12 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:23:12 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:23:12 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:23:12 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:23:12 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:23:12 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:23:12 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:23:12 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:23:12 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:23:12 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:23:12 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:23:12 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:23:12 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:23:12 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:23:12 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:23:12 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:23:12 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_162234_aggressive_test_20250429_1622/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:37:41 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:37:41 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:37:41 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:37:41 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:37:41 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:37:41 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:37:41 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:37:41 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:37:41 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:37:41 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:37:41 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 16:37:41 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:37:41 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:37:41 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:37:41 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:37:41 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:37:41 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:37:41 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:37:41 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:37:41 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:37:41 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:37:41 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:37:41 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:37:41 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:37:41 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:37:41 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:37:41 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:37:41 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:37:41 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:37:41 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:37:41 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:37:41 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:37:41 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:37:41 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:37:41 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:37:41 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:37:41 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:37:41 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:37:41 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:37:41 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:37:41 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:37:41 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:37:41 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:37:41 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:37:41 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:37:41 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:37:41 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:37:41 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:37:41 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:37:41 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:37:41 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:37:41 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:37:41 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 16:37:41 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:37:41 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:37:41 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 16:37:41 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:37:41 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:37:41 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:37:41 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:37:42 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:37:42 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:37:42 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163704_moderate_test_20250429_1637/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:38:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:38:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:38:20 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:38:20 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:38:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:38:20 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:38:20 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:38:20 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:38:20 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:38:20 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:38:20 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:38:20 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:38:20 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:38:20 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:38:20 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:38:20 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:38:20 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:38:20 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:38:20 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:38:20 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:38:20 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:38:20 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:38:20 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:38:20 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:38:20 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:38:20 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:38:20 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:38:20 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:38:20 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:38:20 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:38:20 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:38:20 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:38:20 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:38:20 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:38:20 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:20 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:38:20 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:38:20 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:20 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:38:20 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:38:20 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:20 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:38:20 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:38:20 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:20 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:38:20 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:38:20 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:20 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:38:20 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:38:20 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:38:20 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:38:20 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:38:20 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:38:20 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:38:20 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:38:20 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:38:20 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:38:20 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:38:20 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:38:20 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:38:20 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:38:20 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:38:20 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163742_aggressive_test_20250429_1637/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:38:58 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:38:58 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:38:58 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:38:58 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:38:58 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:38:58 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:38:58 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:38:58 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:38:58 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:38:58 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:38:58 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:38:58 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:38:58 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:38:58 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:38:58 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:38:58 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:38:58 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:38:58 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:38:58 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:38:58 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:38:58 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:38:58 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:38:58 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:38:58 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:38:58 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:38:58 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:38:58 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:38:58 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:38:58 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:38:58 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:38:58 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:38:58 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:38:58 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:38:58 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:38:58 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:58 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:38:58 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:38:58 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:58 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:38:58 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:38:58 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:58 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:38:58 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:38:58 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:58 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:38:58 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:38:58 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:38:58 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:38:58 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:38:58 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:38:58 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:38:58 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:38:58 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:38:58 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:38:58 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:38:58 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:38:58 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:38:58 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:38:59 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:38:59 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:38:59 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:38:59 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:38:59 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163820_aggressive_test_20250429_1638/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:40:08 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:40:08 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:40:08 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:40:08 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:40:08 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:40:08 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:40:08 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:40:08 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:40:08 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:40:08 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:40:08 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'PHOR': np.float64(0.13999999999999999), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 16:40:08 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:40:08 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:40:08 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:40:08 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:40:08 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:40:08 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:40:08 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:40:08 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:40:08 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:40:08 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:40:08 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:40:08 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:40:08 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:40:08 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:40:08 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:40:08 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:40:08 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:40:08 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:40:08 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:40:08 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:40:09 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:40:09 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:40:09 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:40:09 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:09 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:40:09 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:40:09 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:09 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:40:09 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:40:09 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:09 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:40:09 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:40:09 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:09 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:40:09 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:40:09 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:09 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:40:09 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:40:09 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:40:09 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:40:09 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:40:09 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945319731711, -0.0026767966605588996, 0.0018145089537764034, -0.0006783338247910107]
2025-04-29 16:40:09 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:40:09 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:40:09 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.08, Макс. просадка: -10.51%
2025-04-29 16:40:09 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:40:09 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:40:09 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:40:09 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:40:09 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:40:09 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:40:09 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_163930_moderate_test_20250429_1639/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:40:47 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:40:47 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:40:47 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:40:47 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:40:47 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:40:47 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:40:47 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:40:47 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:40:47 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:40:47 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:40:47 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:40:47 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:40:47 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:40:47 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:40:47 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:40:47 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:40:47 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:40:47 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:40:47 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:40:47 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:40:47 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:40:47 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:40:47 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:40:47 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:40:47 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:40:47 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:40:47 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:40:47 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:40:47 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:40:47 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:40:47 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:40:47 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:40:47 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:40:47 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:40:47 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:47 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:40:47 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:40:47 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:47 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:40:47 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:40:47 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:47 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:40:47 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:40:47 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:47 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:40:47 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:40:47 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:40:47 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:40:47 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:40:47 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:40:47 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:40:47 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:40:47 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:40:47 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:40:47 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:40:47 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:40:47 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:40:47 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:40:47 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:40:47 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:40:47 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:40:47 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:40:47 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164009_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:41:25 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:41:25 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:41:25 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:41:25 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:41:25 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:41:25 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:41:25 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:41:25 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:41:25 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:41:25 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:41:25 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:41:25 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:41:25 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:41:25 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:41:25 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:41:25 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:41:25 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:41:25 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:41:25 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:41:25 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:41:25 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:41:25 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:41:25 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:41:25 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:41:25 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:41:25 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:41:25 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:41:25 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:41:25 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:41:25 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:41:25 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:41:25 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:41:25 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:41:25 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:41:25 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:41:25 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:41:25 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:41:25 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:41:25 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:41:25 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:41:25 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:41:25 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:41:25 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:41:25 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:41:25 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:41:25 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:41:25 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:41:25 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:41:25 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:41:25 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:41:25 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:41:25 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:41:25 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:41:25 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:41:25 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:41:25 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:41:25 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:41:25 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:41:25 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:41:26 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:41:26 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:41:26 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:41:26 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164047_aggressive_test_20250429_1640/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:47:55 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:47:55 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:47:55 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:47:55 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:47:55 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:47:55 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:47:55 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:47:55 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:47:55 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:47:55 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:47:55 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:47:55 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:47:55 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:47:55 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:47:55 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:47:55 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:47:55 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:47:55 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:47:55 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:47:55 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:47:55 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:47:55 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:47:55 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:47:55 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:47:55 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:47:55 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:47:55 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:47:55 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:47:55 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:47:55 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:47:55 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:47:55 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:47:55 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:47:55 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:47:55 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:47:55 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:47:55 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:47:55 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:47:55 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:47:55 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:47:55 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:47:55 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:47:55 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:47:55 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:47:55 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:47:55 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:47:55 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:47:55 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:47:55 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:47:55 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:47:55 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:47:55 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:47:55 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:47:55 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:47:55 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:47:55 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:47:55 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:47:55 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:47:55 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:47:55 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:47:55 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:47:56 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:47:56 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_164716_aggressive_test_20250429_1647/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:52:35 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:52:35 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:52:35 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:52:35 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:52:35 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:52:35 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:52:35 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:52:35 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:52:35 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:52:35 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:52:35 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:52:35 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:52:35 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:52:35 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:52:35 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:52:35 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:52:35 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:52:35 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:52:35 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:52:35 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:52:35 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:52:35 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:52:35 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:52:35 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:52:35 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:52:35 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:52:35 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:52:35 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:52:35 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:52:35 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:52:35 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:52:35 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:52:35 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:52:35 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:52:35 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:52:35 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:52:35 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:52:35 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:52:35 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:52:35 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:52:35 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:52:35 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:52:35 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:52:35 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:52:35 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:52:35 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:52:35 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:52:35 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:52:35 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:52:35 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:52:35 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:52:35 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:52:35 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:52:35 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:52:35 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:52:35 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:52:35 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:52:35 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:52:35 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:52:36 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:52:36 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:52:36 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:52:36 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165157_aggressive_test_20250429_1651/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:53:14 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:53:14 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:53:14 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:53:14 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:53:14 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:53:14 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:53:14 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:53:14 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:53:14 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:53:14 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:53:14 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:53:14 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:53:15 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:53:15 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:53:15 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:53:15 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:53:15 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.14000000215986116), 'PHOR': np.float64(0.13999999300044091), 'RUAL': np.float64(0.14000000198917417), 'SBER': np.float64(0.14000000231023196), 'TATN': np.float64(0.14000000054029177)}
2025-04-29 16:53:15 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:53:15 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 16:53:15 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 16:53:15 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'GAZP', 'MVID', 'SNGS', 'MTSS', 'NVTK', 'MAGN', 'SIBN', 'ALRS', 'ROSN', 'LKOH', 'GMKN'}
2025-04-29 16:53:15 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:53:15 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:53:15 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:53:15 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:53:15 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:53:15 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:53:15 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:53:15 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:53:15 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:53:15 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:53:15 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:53:15 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:53:15 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:53:15 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:53:15 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:53:15 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:53:15 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:53:15 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:53:15 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:53:15 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:53:15 - Backtester - INFO - Тикер PHOR: 107/482 ненулевых strategy_return
2025-04-29 16:53:15 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 16:53:15 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:53:15 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:53:15 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:53:15 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:53:15 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:53:15 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:53:15 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:53:15 - Backtester - INFO - Тикер TATN: 112/480 ненулевых strategy_return
2025-04-29 16:53:15 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 16:53:15 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 16:53:15 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 16:53:15 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:53:15 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:53:15 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:53:15 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:53:15 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.005724945308072082, -0.002676796709037427, 0.001814508999824784, -0.00067833380500275]
2025-04-29 16:53:15 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:53:15 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:53:15 - Backtester - INFO - Кумулятивная доходность: -10.18%, Годовая доходность: -5.46%, Шарп: -2.16, Макс. просадка: -10.51%
2025-04-29 16:53:15 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:53:15 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:53:15 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:53:15 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:53:15 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:53:15 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:53:15 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165236_aggressive_test_20250429_1652/shorts_portfolio/production_portfolio/backtest
2025-04-29 16:58:51 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 16:58:51 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 16:58:51 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 16:58:51 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 16:58:51 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 16:58:51 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 16:58:51 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 16:58:51 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 16:58:51 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 16:58:51 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 16:58:51 - Backtester - INFO - Веса акций: {'SBER': np.float64(0.23333333359523808), 'AFKS': np.float64(0.2333333333446201), 'RUAL': np.float64(0.23333333306014176)}
2025-04-29 16:58:51 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 16:58:51 - Backtester - INFO - Тикеров в весах портфеля: 3
2025-04-29 16:58:51 - Backtester - INFO - Совпадающих тикеров: 3
2025-04-29 16:58:51 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'SNGS', 'NVTK', 'PHOR', 'ALRS', 'GAZP', 'MVID', 'MTSS', 'MAGN', 'SIBN', 'ROSN', 'GMKN', 'LKOH', 'TATN'}
2025-04-29 16:58:51 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 16:58:51 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 16:58:51 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 16:58:51 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 16:58:51 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 16:58:51 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 16:58:51 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 16:58:51 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 16:58:51 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 16:58:51 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 16:58:51 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 16:58:51 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 16:58:51 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 16:58:51 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 16:58:51 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 16:58:51 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 16:58:51 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 16:58:51 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 16:58:51 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 16:58:51 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.2333
2025-04-29 16:58:51 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 16:58:51 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 16:58:51 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.2333
2025-04-29 16:58:51 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 16:58:51 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 16:58:51 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.2333
2025-04-29 16:58:51 - Backtester - INFO - Всего добавлено 3 акций в портфель
2025-04-29 16:58:51 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 16:58:51 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 16:58:51 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 16:58:51 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 16:58:51 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0061854093535730105, -0.0033906555637871947, 0.0032389678980712477, -0.00038276066178043997]
2025-04-29 16:58:51 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 16:58:51 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 16:58:51 - Backtester - INFO - Кумулятивная доходность: -14.89%, Годовая доходность: -8.09%, Шарп: -1.76, Макс. просадка: -15.33%
2025-04-29 16:58:51 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 16:58:51 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 16:58:51 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 16:58:51 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 16:58:51 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 16:58:51 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 16:58:51 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_165813_aggressive_test_20250429_1658/shorts_portfolio/production_portfolio/backtest
2025-04-29 17:06:35 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:06:35 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 17:06:35 - Backtester - INFO - Загружено 5312 строк данных по акциям
2025-04-29 17:06:35 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 17:06:35 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:06:35 - Backtester - INFO - Анализ сигналов в данных: {0: 4584, -1: 364, 1: 364}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для ALRS: {0: 454, -1: 21, 1: 7}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для GAZP: {0: 403, -1: 34, 1: 31}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для LKOH: {0: 83, 1: 14, -1: 12}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для MAGN: {0: 438, -1: 30, 1: 12}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для MTSS: {0: 303, 1: 25, -1: 20}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для PHOR: {0: 376, -1: 55, 1: 51}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для RUAL: {0: 439, -1: 27, 1: 16}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для SIBN: {0: 381, 1: 77, -1: 20}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 17:06:35 - Backtester - INFO - Сигналы для TATN: {0: 368, 1: 96, -1: 16}
2025-04-29 17:06:35 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 17:06:35 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:06:35 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:06:35 - Backtester - INFO - Веса акций: {'SBER': np.float64(0.23333333359523808), 'AFKS': np.float64(0.2333333333446201), 'RUAL': np.float64(0.23333333306014176)}
2025-04-29 17:06:35 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 17:06:35 - Backtester - INFO - Тикеров в весах портфеля: 3
2025-04-29 17:06:35 - Backtester - INFO - Совпадающих тикеров: 3
2025-04-29 17:06:35 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'SNGS', 'NVTK', 'PHOR', 'ALRS', 'GAZP', 'MVID', 'MTSS', 'MAGN', 'SIBN', 'ROSN', 'GMKN', 'LKOH', 'TATN'}
2025-04-29 17:06:35 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:06:35 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 17:06:35 - Backtester - INFO -   ALRS: 28/482 ненулевых сигналов (5.8%)
2025-04-29 17:06:35 - Backtester - INFO -   GAZP: 65/468 ненулевых сигналов (13.9%)
2025-04-29 17:06:35 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 17:06:35 - Backtester - INFO -   LKOH: 26/109 ненулевых сигналов (23.9%)
2025-04-29 17:06:35 - Backtester - INFO -   MAGN: 42/480 ненулевых сигналов (8.8%)
2025-04-29 17:06:35 - Backtester - INFO -   MTSS: 45/348 ненулевых сигналов (12.9%)
2025-04-29 17:06:35 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 17:06:35 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 17:06:35 - Backtester - INFO -   PHOR: 106/482 ненулевых сигналов (22.0%)
2025-04-29 17:06:35 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 17:06:35 - Backtester - INFO -   RUAL: 43/482 ненулевых сигналов (8.9%)
2025-04-29 17:06:35 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 17:06:35 - Backtester - INFO -   SIBN: 97/478 ненулевых сигналов (20.3%)
2025-04-29 17:06:35 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 17:06:35 - Backtester - INFO -   TATN: 112/480 ненулевых сигналов (23.3%)
2025-04-29 17:06:35 - Backtester - INFO - Тикер AFKS: 49/482 ненулевых strategy_return
2025-04-29 17:06:35 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 17:06:35 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.2333
2025-04-29 17:06:35 - Backtester - INFO - Тикер RUAL: 44/482 ненулевых strategy_return
2025-04-29 17:06:35 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:06:35 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.2333
2025-04-29 17:06:35 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 17:06:35 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 17:06:35 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.2333
2025-04-29 17:06:35 - Backtester - INFO - Всего добавлено 3 акций в портфель
2025-04-29 17:06:35 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:06:35 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:06:35 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:06:35 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 17:06:35 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0061854093535730105, -0.0033906555637871947, 0.0032389678980712477, -0.00038276066178043997]
2025-04-29 17:06:35 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 17:06:35 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:06:35 - Backtester - INFO - Кумулятивная доходность: -14.89%, Годовая доходность: -8.09%, Шарп: -1.76, Макс. просадка: -15.33%
2025-04-29 17:06:35 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:06:35 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 17:06:35 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 17:06:35 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 17:06:35 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 17:06:35 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 17:06:35 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_170557_aggressive_test_20250429_1705/shorts_portfolio/production_portfolio/backtest
2025-04-29 17:24:20 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:24:20 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_signals_20250429_172352.csv
2025-04-29 17:24:20 - Backtester - INFO - Загружено 1167 строк данных по акциям
2025-04-29 17:24:20 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 17:24:20 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:24:20 - Backtester - INFO - Анализ сигналов в данных: {0: 1010, 1: 89, -1: 68}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для PHOR: {0: 81, -1: 15, 1: 8}
2025-04-29 17:24:20 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для SIBN: {0: 85, 1: 18, -1: 1}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для SNGS: {0: 25}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 17:24:21 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 17:24:21 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:24:21 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:24:21 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.13999999999999999), 'ROSN': np.float64(0.0), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 17:24:21 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 17:24:21 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 17:24:21 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 17:24:21 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:24:21 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 17:24:21 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:24:21 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-29 17:24:21 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 17:24:21 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:24:21 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 17:24:21 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 17:24:21 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:24:21 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:24:21 - Backtester - INFO -   PHOR: 23/104 ненулевых сигналов (22.1%)
2025-04-29 17:24:21 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 17:24:21 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:24:21 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:24:21 - Backtester - INFO -   SIBN: 19/104 ненулевых сигналов (18.3%)
2025-04-29 17:24:21 - Backtester - INFO -   SNGS: 0/25 ненулевых сигналов (0.0%)
2025-04-29 17:24:21 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 17:24:21 - Backtester - INFO - Тикер AFKS: 9/104 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер PHOR: 24/104 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 17:24:21 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:24:21 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:24:21 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:24:21 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.857234271108954e-05, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 17:24:21 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 17:24:21 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:24:21 - Backtester - INFO - Кумулятивная доходность: -0.96%, Годовая доходность: -2.31%, Шарп: -2.02, Макс. просадка: -2.57%
2025-04-29 17:24:21 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:24:21 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 17:24:21 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 17:24:21 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 17:24:21 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 17:24:21 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 17:24:21 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 17:24:21 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:24:21 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_signals_20250429_172352.csv
2025-04-29 17:24:21 - Backtester - INFO - Загружено 4030 строк данных по акциям
2025-04-29 17:24:21 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 17:24:21 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:24:21 - Backtester - INFO - Анализ сигналов в данных: {0: 3471, 1: 286, -1: 273}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для AFKS: {0: 324, -1: 30, 1: 11}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для ALRS: {0: 341, -1: 15, 1: 9}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для GAZP: {0: 314, -1: 30, 1: 21}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для GMKN: {0: 339, -1: 15, 1: 5}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для LKOH: {0: 66, 1: 14, -1: 4}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 26, 1: 12}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для MTSS: {0: 214, 1: 22, -1: 19}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для NVTK: {0: 71, -1: 13}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для PHOR: {0: 291, 1: 43, -1: 31}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для RUAL: {0: 328, -1: 25, 1: 12}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для SIBN: {0: 281, 1: 63, -1: 17}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 17:24:21 - Backtester - INFO - Сигналы для TATN: {0: 275, 1: 72, -1: 16}
2025-04-29 17:24:21 - Backtester - INFO - Рассчитаны доходности для 16 тикеров
2025-04-29 17:24:21 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:24:21 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:24:21 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.13999999999999999), 'ROSN': np.float64(0.0), 'RUAL': np.float64(0.13999999999999999), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.13999999999999999)}
2025-04-29 17:24:21 - Backtester - INFO - Доступно тикеров в данных: 16
2025-04-29 17:24:21 - Backtester - INFO - Тикеров в весах портфеля: 16
2025-04-29 17:24:21 - Backtester - INFO - Совпадающих тикеров: 16
2025-04-29 17:24:21 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:24:21 - Backtester - INFO -   AFKS: 41/365 ненулевых сигналов (11.2%)
2025-04-29 17:24:21 - Backtester - INFO -   ALRS: 24/365 ненулевых сигналов (6.6%)
2025-04-29 17:24:21 - Backtester - INFO -   GAZP: 51/365 ненулевых сигналов (14.0%)
2025-04-29 17:24:21 - Backtester - INFO -   GMKN: 20/359 ненулевых сигналов (5.6%)
2025-04-29 17:24:21 - Backtester - INFO -   LKOH: 18/84 ненулевых сигналов (21.4%)
2025-04-29 17:24:21 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 17:24:21 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 17:24:21 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 17:24:21 - Backtester - INFO -   NVTK: 13/84 ненулевых сигналов (15.5%)
2025-04-29 17:24:21 - Backtester - INFO -   PHOR: 74/365 ненулевых сигналов (20.3%)
2025-04-29 17:24:21 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 17:24:21 - Backtester - INFO -   RUAL: 37/365 ненулевых сигналов (10.1%)
2025-04-29 17:24:21 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 17:24:21 - Backtester - INFO -   SIBN: 80/361 ненулевых сигналов (22.2%)
2025-04-29 17:24:21 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 17:24:21 - Backtester - INFO -   TATN: 88/363 ненулевых сигналов (24.2%)
2025-04-29 17:24:21 - Backtester - INFO - Тикер AFKS: 42/365 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для AFKS: [nan, -0.0017792502607520966, -0.0052670259676630415, 0.0062751309857439486, -0.0003065415976948316]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер AFKS с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер PHOR: 74/365 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, 0.0, -0.0, 0.0, 0.0]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер RUAL: 38/365 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Тикер TATN: 88/363 ненулевых strategy_return
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:24:21 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:24:21 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 17:24:21 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:24:21 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:24:21 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:24:21 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 17:24:21 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.0023585209901335743, -0.0031953174239018087, 0.0018960391046926926, -5.706524838225756e-05]
2025-04-29 17:24:21 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 17:24:21 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:24:21 - Backtester - INFO - Кумулятивная доходность: 1.52%, Годовая доходность: 1.05%, Шарп: -1.36, Макс. просадка: -5.90%
2025-04-29 17:24:21 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:24:21 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 17:24:21 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 17:24:21 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 17:24:22 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 17:24:22 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 17:24:22 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172331_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 17:30:41 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:30:41 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_signals_20250429_173006.csv
2025-04-29 17:30:41 - Backtester - INFO - Загружено 1574 строк данных по акциям
2025-04-29 17:30:41 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 17:30:41 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:30:41 - Backtester - INFO - Анализ сигналов в данных: {0: 1354, 1: 121, -1: 99}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для AFLT: {0: 92, 1: 8, -1: 3}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для CBOM: {0: 97, 1: 3, -1: 3}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для PHOR: {0: 82, -1: 15, 1: 7}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для PLZL: {0: 79, 1: 19}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для POSI: {0: 77, -1: 25, 1: 1}
2025-04-29 17:30:41 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для SIBN: {0: 84, 1: 19, -1: 1}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для SNGS: {0: 24, 1: 1}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 17:30:42 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:30:42 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:30:42 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:30:42 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:30:42 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:30:42 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:30:42 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:30:42 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:30:42 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 17:30:42 - Backtester - INFO -   AFLT: 11/103 ненулевых сигналов (10.7%)
2025-04-29 17:30:42 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:30:42 - Backtester - INFO -   CBOM: 6/103 ненулевых сигналов (5.8%)
2025-04-29 17:30:42 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-29 17:30:42 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 17:30:42 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:30:42 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 17:30:42 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 17:30:42 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:30:42 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:30:42 - Backtester - INFO -   PHOR: 22/104 ненулевых сигналов (21.2%)
2025-04-29 17:30:42 - Backtester - INFO -   PLZL: 19/98 ненулевых сигналов (19.4%)
2025-04-29 17:30:42 - Backtester - INFO -   POSI: 26/103 ненулевых сигналов (25.2%)
2025-04-29 17:30:42 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 17:30:42 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:30:42 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:30:42 - Backtester - INFO -   SIBN: 20/104 ненулевых сигналов (19.2%)
2025-04-29 17:30:42 - Backtester - INFO -   SNGS: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:30:42 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 17:30:42 - Backtester - INFO - Тикер AFLT: 12/103 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:30:42 - Backtester - INFO - Тикер CBOM: 7/103 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:30:42 - Backtester - INFO - Тикер PHOR: 23/104 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:30:42 - Backtester - INFO - Тикер PLZL: 19/98 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:30:42 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:30:42 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:30:42 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:30:42 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:30:42 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:30:42 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:30:42 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:30:42 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.6849374702627068e-06, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 17:30:42 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 17:30:42 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:30:42 - Backtester - INFO - Кумулятивная доходность: 1.12%, Годовая доходность: 2.74%, Шарп: -1.00, Макс. просадка: -3.07%
2025-04-29 17:30:42 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:30:42 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 17:30:42 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 17:30:42 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 17:30:42 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 17:30:42 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 17:30:42 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 17:30:42 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:30:42 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_signals_20250429_173006.csv
2025-04-29 17:30:42 - Backtester - INFO - Загружено 5463 строк данных по акциям
2025-04-29 17:30:42 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 17:30:42 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:30:42 - Backtester - INFO - Анализ сигналов в данных: {0: 4689, 1: 395, -1: 379}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для AFKS: {0: 325, -1: 31, 1: 9}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для AFLT: {0: 324, 1: 27, -1: 14}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для ALRS: {0: 340, -1: 17, 1: 8}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для CBOM: {0: 306, 1: 17, -1: 15}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для GAZP: {0: 313, -1: 32, 1: 20}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 15, 1: 4}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для LKOH: {0: 67, 1: 13, -1: 4}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 28, 1: 10}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для MTSS: {0: 214, -1: 21, 1: 20}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для NVTK: {0: 68, -1: 16}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для PHOR: {0: 280, -1: 43, 1: 42}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для PLZL: {0: 299, 1: 49, -1: 17}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для POSI: {0: 297, 1: 35, -1: 33}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для RUAL: {0: 330, -1: 25, 1: 10}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для SIBN: {0: 282, 1: 59, -1: 20}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 17:30:42 - Backtester - INFO - Сигналы для TATN: {0: 277, 1: 70, -1: 16}
2025-04-29 17:30:42 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:30:42 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:30:42 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:30:42 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:30:42 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:30:42 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:30:42 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:30:42 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:30:42 - Backtester - INFO -   AFKS: 40/365 ненулевых сигналов (11.0%)
2025-04-29 17:30:42 - Backtester - INFO -   AFLT: 41/365 ненулевых сигналов (11.2%)
2025-04-29 17:30:42 - Backtester - INFO -   ALRS: 25/365 ненулевых сигналов (6.8%)
2025-04-29 17:30:42 - Backtester - INFO -   CBOM: 32/338 ненулевых сигналов (9.5%)
2025-04-29 17:30:42 - Backtester - INFO -   GAZP: 52/365 ненулевых сигналов (14.2%)
2025-04-29 17:30:42 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-29 17:30:42 - Backtester - INFO -   LKOH: 17/84 ненулевых сигналов (20.2%)
2025-04-29 17:30:42 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 17:30:42 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 17:30:42 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 17:30:42 - Backtester - INFO -   NVTK: 16/84 ненулевых сигналов (19.0%)
2025-04-29 17:30:42 - Backtester - INFO -   PHOR: 85/365 ненулевых сигналов (23.3%)
2025-04-29 17:30:42 - Backtester - INFO -   PLZL: 66/365 ненулевых сигналов (18.1%)
2025-04-29 17:30:42 - Backtester - INFO -   POSI: 68/365 ненулевых сигналов (18.6%)
2025-04-29 17:30:42 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 17:30:42 - Backtester - INFO -   RUAL: 35/365 ненулевых сигналов (9.6%)
2025-04-29 17:30:42 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 17:30:42 - Backtester - INFO -   SIBN: 79/361 ненулевых сигналов (21.9%)
2025-04-29 17:30:42 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 17:30:42 - Backtester - INFO -   TATN: 86/363 ненулевых сигналов (23.7%)
2025-04-29 17:30:42 - Backtester - INFO - Тикер AFLT: 41/365 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:30:42 - Backtester - INFO - Тикер CBOM: 33/338 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, nan, 0.00865051903114189, 0.005858888057840961, nan]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:30:42 - Backtester - INFO - Тикер PHOR: 85/365 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:30:42 - Backtester - INFO - Тикер PLZL: 67/365 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:30:42 - Backtester - INFO - Тикер RUAL: 36/365 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:30:42 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:30:42 - Backtester - INFO - Тикер TATN: 86/363 ненулевых strategy_return
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:30:42 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:30:42 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:30:42 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:30:42 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:30:42 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:30:42 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 17:30:42 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.006332056884570295, -0.0008485091937166377, -0.00356892606932102, -0.0011949714042497686]
2025-04-29 17:30:42 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 17:30:42 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:30:42 - Backtester - INFO - Кумулятивная доходность: 0.30%, Годовая доходность: 0.21%, Шарп: -1.78, Макс. просадка: -5.85%
2025-04-29 17:30:42 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:30:42 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 17:30:42 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 17:30:43 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 17:30:43 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 17:30:43 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 17:30:43 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 17:31:04 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:31:04 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 17:31:05 - Backtester - INFO - Загружено 7152 строк данных по акциям
2025-04-29 17:31:05 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 17:31:05 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:31:05 - Backtester - INFO - Анализ сигналов в данных: {0: 6145, 1: 509, -1: 498}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для AFLT: {0: 415, 1: 36, -1: 17}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для ALRS: {0: 452, -1: 24, 1: 6}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для CBOM: {0: 402, 1: 21, -1: 18}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для GAZP: {0: 401, -1: 37, 1: 30}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для LKOH: {0: 84, 1: 13, -1: 12}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для MAGN: {0: 436, -1: 32, 1: 12}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для MTSS: {0: 300, -1: 24, 1: 24}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для PHOR: {0: 371, -1: 61, 1: 50}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для PLZL: {0: 379, 1: 66, -1: 18}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для POSI: {0: 378, -1: 59, 1: 31}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для RUAL: {0: 436, -1: 30, 1: 16}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для SIBN: {0: 383, 1: 74, -1: 21}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 17:31:05 - Backtester - INFO - Сигналы для TATN: {0: 369, 1: 95, -1: 16}
2025-04-29 17:31:05 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:31:05 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:31:05 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:31:05 - Backtester - INFO - Веса акций: {'AFLT': np.float64(0.15334198359038717), 'PLZL': np.float64(0.15334198359032827), 'RUAL': np.float64(0.12749709910692722), 'SBER': np.float64(0.1533419835906034), 'TATN': np.float64(0.11247695012175393)}
2025-04-29 17:31:05 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:31:05 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 17:31:05 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 17:31:05 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'POSI', 'CBOM', 'LKOH', 'PHOR', 'AFKS', 'SIBN', 'ROSN'}
2025-04-29 17:31:05 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:31:05 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 17:31:05 - Backtester - INFO -   AFLT: 53/468 ненулевых сигналов (11.3%)
2025-04-29 17:31:05 - Backtester - INFO -   ALRS: 30/482 ненулевых сигналов (6.2%)
2025-04-29 17:31:05 - Backtester - INFO -   CBOM: 39/441 ненулевых сигналов (8.8%)
2025-04-29 17:31:05 - Backtester - INFO -   GAZP: 67/468 ненулевых сигналов (14.3%)
2025-04-29 17:31:05 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 17:31:05 - Backtester - INFO -   LKOH: 25/109 ненулевых сигналов (22.9%)
2025-04-29 17:31:05 - Backtester - INFO -   MAGN: 44/480 ненулевых сигналов (9.2%)
2025-04-29 17:31:05 - Backtester - INFO -   MTSS: 48/348 ненулевых сигналов (13.8%)
2025-04-29 17:31:05 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 17:31:05 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 17:31:05 - Backtester - INFO -   PHOR: 111/482 ненулевых сигналов (23.0%)
2025-04-29 17:31:05 - Backtester - INFO -   PLZL: 84/463 ненулевых сигналов (18.1%)
2025-04-29 17:31:05 - Backtester - INFO -   POSI: 90/468 ненулевых сигналов (19.2%)
2025-04-29 17:31:05 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 17:31:05 - Backtester - INFO -   RUAL: 46/482 ненулевых сигналов (9.5%)
2025-04-29 17:31:05 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 17:31:05 - Backtester - INFO -   SIBN: 95/478 ненулевых сигналов (19.9%)
2025-04-29 17:31:05 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 17:31:05 - Backtester - INFO -   TATN: 111/480 ненулевых сигналов (23.1%)
2025-04-29 17:31:05 - Backtester - INFO - Тикер AFLT: 53/468 ненулевых strategy_return
2025-04-29 17:31:05 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:31:05 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:31:05 - Backtester - INFO - Тикер PLZL: 84/463 ненулевых strategy_return
2025-04-29 17:31:05 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:31:05 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:31:05 - Backtester - INFO - Тикер RUAL: 47/482 ненулевых strategy_return
2025-04-29 17:31:05 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:31:05 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1275
2025-04-29 17:31:05 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 17:31:05 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 17:31:05 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:31:05 - Backtester - INFO - Тикер TATN: 111/480 ненулевых strategy_return
2025-04-29 17:31:05 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:31:05 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1125
2025-04-29 17:31:05 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 17:31:05 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:31:05 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:31:05 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:31:05 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 17:31:05 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.008871554634644074, -0.0015618342382616203, -0.003447382125077515, -0.001282550399053425]
2025-04-29 17:31:05 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 17:31:05 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:31:05 - Backtester - INFO - Кумулятивная доходность: -7.37%, Годовая доходность: -3.92%, Шарп: -1.78, Макс. просадка: -8.92%
2025-04-29 17:31:05 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:31:05 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 17:31:05 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 17:31:05 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 17:31:05 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 17:31:05 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 17:31:05 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_172924_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest
2025-04-29 17:43:52 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:43:52 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_signals_20250429_174317.csv
2025-04-29 17:43:52 - Backtester - INFO - Загружено 1574 строк данных по акциям
2025-04-29 17:43:52 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 17:43:52 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:43:52 - Backtester - INFO - Анализ сигналов в данных: {0: 1354, 1: 121, -1: 99}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для AFLT: {0: 92, 1: 8, -1: 3}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для CBOM: {0: 97, 1: 3, -1: 3}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для PHOR: {0: 82, -1: 15, 1: 7}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для PLZL: {0: 79, 1: 19}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для POSI: {0: 77, -1: 25, 1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для SIBN: {0: 84, 1: 19, -1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для SNGS: {0: 24, 1: 1}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 17:43:52 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:43:52 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:43:52 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:43:52 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:43:52 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:43:52 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:43:52 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:43:52 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:43:52 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 17:43:52 - Backtester - INFO -   AFLT: 11/103 ненулевых сигналов (10.7%)
2025-04-29 17:43:52 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:43:52 - Backtester - INFO -   CBOM: 6/103 ненулевых сигналов (5.8%)
2025-04-29 17:43:52 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-29 17:43:52 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 17:43:52 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:43:52 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 17:43:52 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 17:43:52 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:43:52 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:43:52 - Backtester - INFO -   PHOR: 22/104 ненулевых сигналов (21.2%)
2025-04-29 17:43:52 - Backtester - INFO -   PLZL: 19/98 ненулевых сигналов (19.4%)
2025-04-29 17:43:52 - Backtester - INFO -   POSI: 26/103 ненулевых сигналов (25.2%)
2025-04-29 17:43:52 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 17:43:52 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:43:52 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:43:52 - Backtester - INFO -   SIBN: 20/104 ненулевых сигналов (19.2%)
2025-04-29 17:43:52 - Backtester - INFO -   SNGS: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:43:52 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 17:43:52 - Backtester - INFO - Тикер AFLT: 12/103 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:43:52 - Backtester - INFO - Тикер CBOM: 7/103 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:43:52 - Backtester - INFO - Тикер PHOR: 23/104 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:43:52 - Backtester - INFO - Тикер PLZL: 19/98 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:43:52 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:43:52 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:43:52 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 17:43:52 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:43:52 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:43:52 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:43:52 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:43:52 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:43:52 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 17:43:52 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.6849374702627068e-06, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 17:43:52 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 17:43:52 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:43:52 - Backtester - INFO - Кумулятивная доходность: 1.12%, Годовая доходность: 2.74%, Шарп: -1.00, Макс. просадка: -3.07%
2025-04-29 17:43:52 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:43:52 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 17:43:52 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 17:43:52 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 17:43:52 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 17:43:52 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 17:43:52 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 17:43:52 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:43:52 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_signals_20250429_174317.csv
2025-04-29 17:43:52 - Backtester - INFO - Загружено 5463 строк данных по акциям
2025-04-29 17:43:52 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 17:43:52 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:43:52 - Backtester - INFO - Анализ сигналов в данных: {0: 4689, 1: 395, -1: 379}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для AFKS: {0: 325, -1: 31, 1: 9}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для AFLT: {0: 324, 1: 27, -1: 14}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для ALRS: {0: 340, -1: 17, 1: 8}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для CBOM: {0: 306, 1: 17, -1: 15}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для GAZP: {0: 313, -1: 32, 1: 20}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 15, 1: 4}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для LKOH: {0: 67, 1: 13, -1: 4}
2025-04-29 17:43:52 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 28, 1: 10}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для MTSS: {0: 214, -1: 21, 1: 20}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для NVTK: {0: 68, -1: 16}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для PHOR: {0: 280, -1: 43, 1: 42}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для PLZL: {0: 299, 1: 49, -1: 17}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для POSI: {0: 297, 1: 35, -1: 33}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для RUAL: {0: 330, -1: 25, 1: 10}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для SIBN: {0: 282, 1: 59, -1: 20}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 17:43:53 - Backtester - INFO - Сигналы для TATN: {0: 277, 1: 70, -1: 16}
2025-04-29 17:43:53 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:43:53 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:43:53 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:43:53 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:43:53 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:43:53 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:43:53 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:43:53 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:43:53 - Backtester - INFO -   AFKS: 40/365 ненулевых сигналов (11.0%)
2025-04-29 17:43:53 - Backtester - INFO -   AFLT: 41/365 ненулевых сигналов (11.2%)
2025-04-29 17:43:53 - Backtester - INFO -   ALRS: 25/365 ненулевых сигналов (6.8%)
2025-04-29 17:43:53 - Backtester - INFO -   CBOM: 32/338 ненулевых сигналов (9.5%)
2025-04-29 17:43:53 - Backtester - INFO -   GAZP: 52/365 ненулевых сигналов (14.2%)
2025-04-29 17:43:53 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-29 17:43:53 - Backtester - INFO -   LKOH: 17/84 ненулевых сигналов (20.2%)
2025-04-29 17:43:53 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 17:43:53 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 17:43:53 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 17:43:53 - Backtester - INFO -   NVTK: 16/84 ненулевых сигналов (19.0%)
2025-04-29 17:43:53 - Backtester - INFO -   PHOR: 85/365 ненулевых сигналов (23.3%)
2025-04-29 17:43:53 - Backtester - INFO -   PLZL: 66/365 ненулевых сигналов (18.1%)
2025-04-29 17:43:53 - Backtester - INFO -   POSI: 68/365 ненулевых сигналов (18.6%)
2025-04-29 17:43:53 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 17:43:53 - Backtester - INFO -   RUAL: 35/365 ненулевых сигналов (9.6%)
2025-04-29 17:43:53 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 17:43:53 - Backtester - INFO -   SIBN: 79/361 ненулевых сигналов (21.9%)
2025-04-29 17:43:53 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 17:43:53 - Backtester - INFO -   TATN: 86/363 ненулевых сигналов (23.7%)
2025-04-29 17:43:53 - Backtester - INFO - Тикер AFLT: 41/365 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:43:53 - Backtester - INFO - Тикер CBOM: 33/338 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, nan, 0.00865051903114189, 0.005858888057840961, nan]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:43:53 - Backtester - INFO - Тикер PHOR: 85/365 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:43:53 - Backtester - INFO - Тикер PLZL: 67/365 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:43:53 - Backtester - INFO - Тикер RUAL: 36/365 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:43:53 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:43:53 - Backtester - INFO - Тикер TATN: 86/363 ненулевых strategy_return
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:43:53 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:43:53 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:43:53 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:43:53 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:43:53 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:43:53 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 17:43:53 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.006332056884570295, -0.0008485091937166377, -0.00356892606932102, -0.0011949714042497686]
2025-04-29 17:43:53 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 17:43:53 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:43:53 - Backtester - INFO - Кумулятивная доходность: 0.30%, Годовая доходность: 0.21%, Шарп: -1.78, Макс. просадка: -5.85%
2025-04-29 17:43:53 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:43:53 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 17:43:53 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 17:43:53 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 17:43:53 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 17:43:53 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 17:43:53 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 17:44:16 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:44:16 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 17:44:16 - Backtester - INFO - Загружено 7152 строк данных по акциям
2025-04-29 17:44:16 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 17:44:16 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:44:16 - Backtester - INFO - Анализ сигналов в данных: {0: 6145, 1: 509, -1: 498}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для AFLT: {0: 415, 1: 36, -1: 17}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для ALRS: {0: 452, -1: 24, 1: 6}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для CBOM: {0: 402, 1: 21, -1: 18}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для GAZP: {0: 401, -1: 37, 1: 30}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для LKOH: {0: 84, 1: 13, -1: 12}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для MAGN: {0: 436, -1: 32, 1: 12}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для MTSS: {0: 300, -1: 24, 1: 24}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для PHOR: {0: 371, -1: 61, 1: 50}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для PLZL: {0: 379, 1: 66, -1: 18}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для POSI: {0: 378, -1: 59, 1: 31}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для RUAL: {0: 436, -1: 30, 1: 16}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для SIBN: {0: 383, 1: 74, -1: 21}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 17:44:16 - Backtester - INFO - Сигналы для TATN: {0: 369, 1: 95, -1: 16}
2025-04-29 17:44:16 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:44:16 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:44:16 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:44:16 - Backtester - INFO - Веса акций: {'AFLT': np.float64(0.15334198359038717), 'PLZL': np.float64(0.15334198359032827), 'RUAL': np.float64(0.12749709910692722), 'SBER': np.float64(0.1533419835906034), 'TATN': np.float64(0.11247695012175393)}
2025-04-29 17:44:16 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:44:16 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 17:44:16 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 17:44:16 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'POSI', 'CBOM', 'LKOH', 'PHOR', 'AFKS', 'SIBN', 'ROSN'}
2025-04-29 17:44:16 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:44:16 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 17:44:16 - Backtester - INFO -   AFLT: 53/468 ненулевых сигналов (11.3%)
2025-04-29 17:44:16 - Backtester - INFO -   ALRS: 30/482 ненулевых сигналов (6.2%)
2025-04-29 17:44:16 - Backtester - INFO -   CBOM: 39/441 ненулевых сигналов (8.8%)
2025-04-29 17:44:16 - Backtester - INFO -   GAZP: 67/468 ненулевых сигналов (14.3%)
2025-04-29 17:44:16 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 17:44:16 - Backtester - INFO -   LKOH: 25/109 ненулевых сигналов (22.9%)
2025-04-29 17:44:16 - Backtester - INFO -   MAGN: 44/480 ненулевых сигналов (9.2%)
2025-04-29 17:44:16 - Backtester - INFO -   MTSS: 48/348 ненулевых сигналов (13.8%)
2025-04-29 17:44:16 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 17:44:16 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 17:44:16 - Backtester - INFO -   PHOR: 111/482 ненулевых сигналов (23.0%)
2025-04-29 17:44:16 - Backtester - INFO -   PLZL: 84/463 ненулевых сигналов (18.1%)
2025-04-29 17:44:16 - Backtester - INFO -   POSI: 90/468 ненулевых сигналов (19.2%)
2025-04-29 17:44:16 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 17:44:16 - Backtester - INFO -   RUAL: 46/482 ненулевых сигналов (9.5%)
2025-04-29 17:44:16 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 17:44:16 - Backtester - INFO -   SIBN: 95/478 ненулевых сигналов (19.9%)
2025-04-29 17:44:16 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 17:44:16 - Backtester - INFO -   TATN: 111/480 ненулевых сигналов (23.1%)
2025-04-29 17:44:16 - Backtester - INFO - Тикер AFLT: 53/468 ненулевых strategy_return
2025-04-29 17:44:16 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:44:16 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:44:16 - Backtester - INFO - Тикер PLZL: 84/463 ненулевых strategy_return
2025-04-29 17:44:16 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:44:16 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:44:16 - Backtester - INFO - Тикер RUAL: 47/482 ненулевых strategy_return
2025-04-29 17:44:16 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:44:16 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1275
2025-04-29 17:44:16 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 17:44:16 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 17:44:16 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:44:16 - Backtester - INFO - Тикер TATN: 111/480 ненулевых strategy_return
2025-04-29 17:44:16 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:44:16 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1125
2025-04-29 17:44:16 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 17:44:16 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:44:16 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:44:16 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:44:16 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 17:44:16 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.008871554634644074, -0.0015618342382616203, -0.003447382125077515, -0.001282550399053425]
2025-04-29 17:44:16 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 17:44:16 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:44:16 - Backtester - INFO - Кумулятивная доходность: -7.37%, Годовая доходность: -3.92%, Шарп: -1.78, Макс. просадка: -8.92%
2025-04-29 17:44:16 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:44:16 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 17:44:16 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 17:44:17 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 17:44:17 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 17:44:17 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 17:44:17 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest
2025-04-29 17:47:37 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:47:37 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_signals_20250429_174653.csv
2025-04-29 17:47:37 - Backtester - INFO - Загружено 1574 строк данных по акциям
2025-04-29 17:47:37 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 17:47:37 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:47:37 - Backtester - INFO - Анализ сигналов в данных: {0: 1354, 1: 121, -1: 99}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для AFLT: {0: 92, 1: 8, -1: 3}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для CBOM: {0: 97, 1: 3, -1: 3}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для PHOR: {0: 82, -1: 15, 1: 7}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для PLZL: {0: 79, 1: 19}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для POSI: {0: 77, -1: 25, 1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для SIBN: {0: 84, 1: 19, -1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для SNGS: {0: 24, 1: 1}
2025-04-29 17:47:37 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 17:47:37 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:47:37 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:47:37 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:47:37 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:47:37 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:47:37 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:47:37 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:47:37 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:47:37 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 17:47:37 - Backtester - INFO -   AFLT: 11/103 ненулевых сигналов (10.7%)
2025-04-29 17:47:37 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:47:37 - Backtester - INFO -   CBOM: 6/103 ненулевых сигналов (5.8%)
2025-04-29 17:47:37 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-29 17:47:37 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 17:47:37 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:47:37 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 17:47:37 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 17:47:37 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:47:37 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:47:37 - Backtester - INFO -   PHOR: 22/104 ненулевых сигналов (21.2%)
2025-04-29 17:47:37 - Backtester - INFO -   PLZL: 19/98 ненулевых сигналов (19.4%)
2025-04-29 17:47:37 - Backtester - INFO -   POSI: 26/103 ненулевых сигналов (25.2%)
2025-04-29 17:47:37 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 17:47:37 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:47:37 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:47:37 - Backtester - INFO -   SIBN: 20/104 ненулевых сигналов (19.2%)
2025-04-29 17:47:37 - Backtester - INFO -   SNGS: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:47:37 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 17:47:37 - Backtester - INFO - Тикер AFLT: 12/103 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:47:37 - Backtester - INFO - Тикер CBOM: 7/103 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:47:37 - Backtester - INFO - Тикер PHOR: 23/104 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:47:37 - Backtester - INFO - Тикер PLZL: 19/98 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:47:37 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:47:37 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:47:37 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 17:47:37 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:47:37 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:47:37 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:47:37 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:47:37 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:47:37 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 17:47:37 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.6849374702627068e-06, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 17:47:37 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 17:47:37 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:47:37 - Backtester - INFO - Кумулятивная доходность: 1.12%, Годовая доходность: 2.74%, Шарп: -1.00, Макс. просадка: -3.07%
2025-04-29 17:47:37 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:47:37 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 17:47:37 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 17:47:37 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 17:47:37 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 17:47:37 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 17:47:37 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 17:47:37 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:47:37 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_signals_20250429_174653.csv
2025-04-29 17:47:38 - Backtester - INFO - Загружено 5463 строк данных по акциям
2025-04-29 17:47:38 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 17:47:38 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:47:38 - Backtester - INFO - Анализ сигналов в данных: {0: 4689, 1: 395, -1: 379}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для AFKS: {0: 325, -1: 31, 1: 9}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для AFLT: {0: 324, 1: 27, -1: 14}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для ALRS: {0: 340, -1: 17, 1: 8}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для CBOM: {0: 306, 1: 17, -1: 15}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для GAZP: {0: 313, -1: 32, 1: 20}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 15, 1: 4}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для LKOH: {0: 67, 1: 13, -1: 4}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 28, 1: 10}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для MTSS: {0: 214, -1: 21, 1: 20}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для NVTK: {0: 68, -1: 16}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для PHOR: {0: 280, -1: 43, 1: 42}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для PLZL: {0: 299, 1: 49, -1: 17}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для POSI: {0: 297, 1: 35, -1: 33}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для RUAL: {0: 330, -1: 25, 1: 10}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для SIBN: {0: 282, 1: 59, -1: 20}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 17:47:38 - Backtester - INFO - Сигналы для TATN: {0: 277, 1: 70, -1: 16}
2025-04-29 17:47:38 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:47:38 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:47:38 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:47:38 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:47:38 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:47:38 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:47:38 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:47:38 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:47:38 - Backtester - INFO -   AFKS: 40/365 ненулевых сигналов (11.0%)
2025-04-29 17:47:38 - Backtester - INFO -   AFLT: 41/365 ненулевых сигналов (11.2%)
2025-04-29 17:47:38 - Backtester - INFO -   ALRS: 25/365 ненулевых сигналов (6.8%)
2025-04-29 17:47:38 - Backtester - INFO -   CBOM: 32/338 ненулевых сигналов (9.5%)
2025-04-29 17:47:38 - Backtester - INFO -   GAZP: 52/365 ненулевых сигналов (14.2%)
2025-04-29 17:47:38 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-29 17:47:38 - Backtester - INFO -   LKOH: 17/84 ненулевых сигналов (20.2%)
2025-04-29 17:47:38 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 17:47:38 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 17:47:38 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 17:47:38 - Backtester - INFO -   NVTK: 16/84 ненулевых сигналов (19.0%)
2025-04-29 17:47:38 - Backtester - INFO -   PHOR: 85/365 ненулевых сигналов (23.3%)
2025-04-29 17:47:38 - Backtester - INFO -   PLZL: 66/365 ненулевых сигналов (18.1%)
2025-04-29 17:47:38 - Backtester - INFO -   POSI: 68/365 ненулевых сигналов (18.6%)
2025-04-29 17:47:38 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 17:47:38 - Backtester - INFO -   RUAL: 35/365 ненулевых сигналов (9.6%)
2025-04-29 17:47:38 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 17:47:38 - Backtester - INFO -   SIBN: 79/361 ненулевых сигналов (21.9%)
2025-04-29 17:47:38 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 17:47:38 - Backtester - INFO -   TATN: 86/363 ненулевых сигналов (23.7%)
2025-04-29 17:47:38 - Backtester - INFO - Тикер AFLT: 41/365 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:47:38 - Backtester - INFO - Тикер CBOM: 33/338 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, nan, 0.00865051903114189, 0.005858888057840961, nan]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:47:38 - Backtester - INFO - Тикер PHOR: 85/365 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:47:38 - Backtester - INFO - Тикер PLZL: 67/365 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:47:38 - Backtester - INFO - Тикер RUAL: 36/365 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:47:38 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:47:38 - Backtester - INFO - Тикер TATN: 86/363 ненулевых strategy_return
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:47:38 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:47:38 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:47:38 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:47:38 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:47:38 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:47:38 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 17:47:38 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.006332056884570295, -0.0008485091937166377, -0.00356892606932102, -0.0011949714042497686]
2025-04-29 17:47:38 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 17:47:38 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:47:38 - Backtester - INFO - Кумулятивная доходность: 0.30%, Годовая доходность: 0.21%, Шарп: -1.78, Макс. просадка: -5.85%
2025-04-29 17:47:38 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:47:38 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 17:47:38 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 17:47:38 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 17:47:38 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 17:47:38 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 17:47:38 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 17:48:05 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:48:05 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 17:48:05 - Backtester - INFO - Загружено 7152 строк данных по акциям
2025-04-29 17:48:05 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 17:48:05 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:48:05 - Backtester - INFO - Анализ сигналов в данных: {0: 6145, 1: 509, -1: 498}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для AFLT: {0: 415, 1: 36, -1: 17}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для ALRS: {0: 452, -1: 24, 1: 6}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для CBOM: {0: 402, 1: 21, -1: 18}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для GAZP: {0: 401, -1: 37, 1: 30}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для LKOH: {0: 84, 1: 13, -1: 12}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для MAGN: {0: 436, -1: 32, 1: 12}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для MTSS: {0: 300, -1: 24, 1: 24}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для PHOR: {0: 371, -1: 61, 1: 50}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для PLZL: {0: 379, 1: 66, -1: 18}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для POSI: {0: 378, -1: 59, 1: 31}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для RUAL: {0: 436, -1: 30, 1: 16}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для SIBN: {0: 383, 1: 74, -1: 21}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 17:48:05 - Backtester - INFO - Сигналы для TATN: {0: 369, 1: 95, -1: 16}
2025-04-29 17:48:05 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:48:05 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:48:05 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:48:05 - Backtester - INFO - Веса акций: {'AFLT': np.float64(0.15334198359038717), 'PLZL': np.float64(0.15334198359032827), 'RUAL': np.float64(0.12749709910692722), 'SBER': np.float64(0.1533419835906034), 'TATN': np.float64(0.11247695012175393)}
2025-04-29 17:48:05 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:48:05 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 17:48:05 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 17:48:05 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'POSI', 'CBOM', 'LKOH', 'PHOR', 'AFKS', 'SIBN', 'ROSN'}
2025-04-29 17:48:05 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:48:05 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 17:48:05 - Backtester - INFO -   AFLT: 53/468 ненулевых сигналов (11.3%)
2025-04-29 17:48:05 - Backtester - INFO -   ALRS: 30/482 ненулевых сигналов (6.2%)
2025-04-29 17:48:05 - Backtester - INFO -   CBOM: 39/441 ненулевых сигналов (8.8%)
2025-04-29 17:48:05 - Backtester - INFO -   GAZP: 67/468 ненулевых сигналов (14.3%)
2025-04-29 17:48:05 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 17:48:05 - Backtester - INFO -   LKOH: 25/109 ненулевых сигналов (22.9%)
2025-04-29 17:48:05 - Backtester - INFO -   MAGN: 44/480 ненулевых сигналов (9.2%)
2025-04-29 17:48:05 - Backtester - INFO -   MTSS: 48/348 ненулевых сигналов (13.8%)
2025-04-29 17:48:05 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 17:48:05 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 17:48:05 - Backtester - INFO -   PHOR: 111/482 ненулевых сигналов (23.0%)
2025-04-29 17:48:05 - Backtester - INFO -   PLZL: 84/463 ненулевых сигналов (18.1%)
2025-04-29 17:48:05 - Backtester - INFO -   POSI: 90/468 ненулевых сигналов (19.2%)
2025-04-29 17:48:05 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 17:48:05 - Backtester - INFO -   RUAL: 46/482 ненулевых сигналов (9.5%)
2025-04-29 17:48:05 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 17:48:05 - Backtester - INFO -   SIBN: 95/478 ненулевых сигналов (19.9%)
2025-04-29 17:48:05 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 17:48:05 - Backtester - INFO -   TATN: 111/480 ненулевых сигналов (23.1%)
2025-04-29 17:48:05 - Backtester - INFO - Тикер AFLT: 53/468 ненулевых strategy_return
2025-04-29 17:48:05 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:48:05 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:48:05 - Backtester - INFO - Тикер PLZL: 84/463 ненулевых strategy_return
2025-04-29 17:48:05 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:48:05 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:48:05 - Backtester - INFO - Тикер RUAL: 47/482 ненулевых strategy_return
2025-04-29 17:48:05 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:48:05 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1275
2025-04-29 17:48:05 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 17:48:05 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 17:48:05 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:48:05 - Backtester - INFO - Тикер TATN: 111/480 ненулевых strategy_return
2025-04-29 17:48:05 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:48:05 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1125
2025-04-29 17:48:05 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 17:48:05 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:48:05 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:48:05 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:48:05 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 17:48:05 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.008871554634644074, -0.0015618342382616203, -0.003447382125077515, -0.001282550399053425]
2025-04-29 17:48:05 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 17:48:05 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:48:05 - Backtester - INFO - Кумулятивная доходность: -7.37%, Годовая доходность: -3.92%, Шарп: -1.78, Макс. просадка: -8.92%
2025-04-29 17:48:05 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:48:05 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 17:48:06 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 17:48:06 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 17:48:06 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 17:48:06 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 17:48:06 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_174251_balanced_portfolio_0429_1715/shorts_portfolio/production_portfolio/backtest
2025-04-29 17:53:17 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:53:17 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_signals_20250429_175239.csv
2025-04-29 17:53:17 - Backtester - INFO - Загружено 1574 строк данных по акциям
2025-04-29 17:53:17 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 17:53:17 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:53:17 - Backtester - INFO - Анализ сигналов в данных: {0: 1354, 1: 121, -1: 99}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для AFLT: {0: 92, 1: 8, -1: 3}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для CBOM: {0: 97, 1: 3, -1: 3}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для PHOR: {0: 82, -1: 15, 1: 7}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для PLZL: {0: 79, 1: 19}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для POSI: {0: 77, -1: 25, 1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для SIBN: {0: 84, 1: 19, -1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для SNGS: {0: 24, 1: 1}
2025-04-29 17:53:17 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 17:53:17 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:53:17 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:53:17 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:53:17 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:53:17 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:53:17 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:53:17 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:53:17 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:53:17 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 17:53:17 - Backtester - INFO -   AFLT: 11/103 ненулевых сигналов (10.7%)
2025-04-29 17:53:17 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:53:17 - Backtester - INFO -   CBOM: 6/103 ненулевых сигналов (5.8%)
2025-04-29 17:53:17 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-29 17:53:17 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 17:53:17 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:53:17 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 17:53:17 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 17:53:17 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 17:53:17 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:53:17 - Backtester - INFO -   PHOR: 22/104 ненулевых сигналов (21.2%)
2025-04-29 17:53:17 - Backtester - INFO -   PLZL: 19/98 ненулевых сигналов (19.4%)
2025-04-29 17:53:17 - Backtester - INFO -   POSI: 26/103 ненулевых сигналов (25.2%)
2025-04-29 17:53:17 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 17:53:17 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 17:53:17 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:53:17 - Backtester - INFO -   SIBN: 20/104 ненулевых сигналов (19.2%)
2025-04-29 17:53:17 - Backtester - INFO -   SNGS: 1/25 ненулевых сигналов (4.0%)
2025-04-29 17:53:17 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 17:53:17 - Backtester - INFO - Тикер AFLT: 12/103 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:53:17 - Backtester - INFO - Тикер CBOM: 7/103 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:53:17 - Backtester - INFO - Тикер PHOR: 23/104 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:53:17 - Backtester - INFO - Тикер PLZL: 19/98 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:53:17 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:53:17 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:53:17 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 17:53:17 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:53:17 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:53:17 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:53:17 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:53:17 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:53:17 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 17:53:17 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.6849374702627068e-06, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 17:53:17 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 17:53:18 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:53:18 - Backtester - INFO - Кумулятивная доходность: 1.12%, Годовая доходность: 2.74%, Шарп: -1.00, Макс. просадка: -3.07%
2025-04-29 17:53:18 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:53:18 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 17:53:18 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 17:53:18 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 17:53:18 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 17:53:18 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 17:53:18 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 17:53:18 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:53:18 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_signals_20250429_175239.csv
2025-04-29 17:53:18 - Backtester - INFO - Загружено 5463 строк данных по акциям
2025-04-29 17:53:18 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 17:53:18 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:53:18 - Backtester - INFO - Анализ сигналов в данных: {0: 4689, 1: 395, -1: 379}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для AFKS: {0: 325, -1: 31, 1: 9}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для AFLT: {0: 324, 1: 27, -1: 14}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для ALRS: {0: 340, -1: 17, 1: 8}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для CBOM: {0: 306, 1: 17, -1: 15}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для GAZP: {0: 313, -1: 32, 1: 20}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 15, 1: 4}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для LKOH: {0: 67, 1: 13, -1: 4}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 28, 1: 10}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для MTSS: {0: 214, -1: 21, 1: 20}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для NVTK: {0: 68, -1: 16}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для PHOR: {0: 280, -1: 43, 1: 42}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для PLZL: {0: 299, 1: 49, -1: 17}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для POSI: {0: 297, 1: 35, -1: 33}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для RUAL: {0: 330, -1: 25, 1: 10}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для SIBN: {0: 282, 1: 59, -1: 20}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 17:53:18 - Backtester - INFO - Сигналы для TATN: {0: 277, 1: 70, -1: 16}
2025-04-29 17:53:18 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:53:18 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:53:18 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:53:18 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 17:53:18 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:53:18 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 17:53:18 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 17:53:18 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:53:18 - Backtester - INFO -   AFKS: 40/365 ненулевых сигналов (11.0%)
2025-04-29 17:53:18 - Backtester - INFO -   AFLT: 41/365 ненулевых сигналов (11.2%)
2025-04-29 17:53:18 - Backtester - INFO -   ALRS: 25/365 ненулевых сигналов (6.8%)
2025-04-29 17:53:18 - Backtester - INFO -   CBOM: 32/338 ненулевых сигналов (9.5%)
2025-04-29 17:53:18 - Backtester - INFO -   GAZP: 52/365 ненулевых сигналов (14.2%)
2025-04-29 17:53:18 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-29 17:53:18 - Backtester - INFO -   LKOH: 17/84 ненулевых сигналов (20.2%)
2025-04-29 17:53:18 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 17:53:18 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 17:53:18 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 17:53:18 - Backtester - INFO -   NVTK: 16/84 ненулевых сигналов (19.0%)
2025-04-29 17:53:18 - Backtester - INFO -   PHOR: 85/365 ненулевых сигналов (23.3%)
2025-04-29 17:53:18 - Backtester - INFO -   PLZL: 66/365 ненулевых сигналов (18.1%)
2025-04-29 17:53:18 - Backtester - INFO -   POSI: 68/365 ненулевых сигналов (18.6%)
2025-04-29 17:53:18 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 17:53:18 - Backtester - INFO -   RUAL: 35/365 ненулевых сигналов (9.6%)
2025-04-29 17:53:18 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 17:53:18 - Backtester - INFO -   SIBN: 79/361 ненулевых сигналов (21.9%)
2025-04-29 17:53:18 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 17:53:18 - Backtester - INFO -   TATN: 86/363 ненулевых сигналов (23.7%)
2025-04-29 17:53:18 - Backtester - INFO - Тикер AFLT: 41/365 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:53:18 - Backtester - INFO - Тикер CBOM: 33/338 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, nan, 0.00865051903114189, 0.005858888057840961, nan]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 17:53:18 - Backtester - INFO - Тикер PHOR: 85/365 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 17:53:18 - Backtester - INFO - Тикер PLZL: 67/365 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:53:18 - Backtester - INFO - Тикер RUAL: 36/365 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 17:53:18 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 17:53:18 - Backtester - INFO - Тикер TATN: 86/363 ненулевых strategy_return
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:53:18 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 17:53:18 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 17:53:18 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:53:18 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:53:18 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:53:18 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 17:53:18 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.006332056884570295, -0.0008485091937166377, -0.00356892606932102, -0.0011949714042497686]
2025-04-29 17:53:18 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 17:53:18 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:53:18 - Backtester - INFO - Кумулятивная доходность: 0.30%, Годовая доходность: 0.21%, Шарп: -1.78, Макс. просадка: -5.85%
2025-04-29 17:53:18 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:53:18 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 17:53:19 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 17:53:19 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 17:53:19 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 17:53:19 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 17:53:19 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 17:53:45 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 17:53:45 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 17:53:45 - Backtester - INFO - Загружено 7152 строк данных по акциям
2025-04-29 17:53:45 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 17:53:45 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 17:53:45 - Backtester - INFO - Анализ сигналов в данных: {0: 6145, 1: 509, -1: 498}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для AFLT: {0: 415, 1: 36, -1: 17}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для ALRS: {0: 452, -1: 24, 1: 6}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для CBOM: {0: 402, 1: 21, -1: 18}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для GAZP: {0: 401, -1: 37, 1: 30}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для LKOH: {0: 84, 1: 13, -1: 12}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для MAGN: {0: 436, -1: 32, 1: 12}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для MTSS: {0: 300, -1: 24, 1: 24}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для PHOR: {0: 371, -1: 61, 1: 50}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для PLZL: {0: 379, 1: 66, -1: 18}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для POSI: {0: 378, -1: 59, 1: 31}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для RUAL: {0: 436, -1: 30, 1: 16}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для SIBN: {0: 383, 1: 74, -1: 21}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 17:53:45 - Backtester - INFO - Сигналы для TATN: {0: 369, 1: 95, -1: 16}
2025-04-29 17:53:45 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 17:53:45 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 17:53:45 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 17:53:45 - Backtester - INFO - Веса акций: {'AFLT': np.float64(0.15334198359038717), 'PLZL': np.float64(0.15334198359032827), 'RUAL': np.float64(0.12749709910692722), 'SBER': np.float64(0.1533419835906034), 'TATN': np.float64(0.11247695012175393)}
2025-04-29 17:53:45 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 17:53:45 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 17:53:45 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 17:53:45 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'POSI', 'CBOM', 'LKOH', 'PHOR', 'AFKS', 'SIBN', 'ROSN'}
2025-04-29 17:53:45 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 17:53:45 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 17:53:45 - Backtester - INFO -   AFLT: 53/468 ненулевых сигналов (11.3%)
2025-04-29 17:53:45 - Backtester - INFO -   ALRS: 30/482 ненулевых сигналов (6.2%)
2025-04-29 17:53:45 - Backtester - INFO -   CBOM: 39/441 ненулевых сигналов (8.8%)
2025-04-29 17:53:45 - Backtester - INFO -   GAZP: 67/468 ненулевых сигналов (14.3%)
2025-04-29 17:53:45 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 17:53:45 - Backtester - INFO -   LKOH: 25/109 ненулевых сигналов (22.9%)
2025-04-29 17:53:45 - Backtester - INFO -   MAGN: 44/480 ненулевых сигналов (9.2%)
2025-04-29 17:53:45 - Backtester - INFO -   MTSS: 48/348 ненулевых сигналов (13.8%)
2025-04-29 17:53:45 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 17:53:45 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 17:53:45 - Backtester - INFO -   PHOR: 111/482 ненулевых сигналов (23.0%)
2025-04-29 17:53:45 - Backtester - INFO -   PLZL: 84/463 ненулевых сигналов (18.1%)
2025-04-29 17:53:45 - Backtester - INFO -   POSI: 90/468 ненулевых сигналов (19.2%)
2025-04-29 17:53:45 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 17:53:45 - Backtester - INFO -   RUAL: 46/482 ненулевых сигналов (9.5%)
2025-04-29 17:53:45 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 17:53:45 - Backtester - INFO -   SIBN: 95/478 ненулевых сигналов (19.9%)
2025-04-29 17:53:45 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 17:53:45 - Backtester - INFO -   TATN: 111/480 ненулевых сигналов (23.1%)
2025-04-29 17:53:45 - Backtester - INFO - Тикер AFLT: 53/468 ненулевых strategy_return
2025-04-29 17:53:45 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 17:53:45 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:53:45 - Backtester - INFO - Тикер PLZL: 84/463 ненулевых strategy_return
2025-04-29 17:53:45 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 17:53:45 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:53:45 - Backtester - INFO - Тикер RUAL: 47/482 ненулевых strategy_return
2025-04-29 17:53:45 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 17:53:45 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1275
2025-04-29 17:53:45 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 17:53:45 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 17:53:45 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 17:53:45 - Backtester - INFO - Тикер TATN: 111/480 ненулевых strategy_return
2025-04-29 17:53:45 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 17:53:45 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1125
2025-04-29 17:53:45 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 17:53:45 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 17:53:45 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 17:53:45 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 17:53:45 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 17:53:45 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.008871554634644074, -0.0015618342382616203, -0.003447382125077515, -0.001282550399053425]
2025-04-29 17:53:45 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 17:53:45 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 17:53:45 - Backtester - INFO - Кумулятивная доходность: -7.37%, Годовая доходность: -3.92%, Шарп: -1.78, Макс. просадка: -8.92%
2025-04-29 17:53:45 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 17:53:45 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 17:53:45 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 17:53:45 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 17:53:45 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 17:53:46 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 17:53:46 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_175212_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest
2025-04-29 18:02:44 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 18:02:44 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_signals_20250429_180119.csv
2025-04-29 18:02:44 - Backtester - INFO - Загружено 1574 строк данных по акциям
2025-04-29 18:02:44 - Backtester - INFO - Период бэктеста: 2025-01-02 - 2025-04-15
2025-04-29 18:02:44 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 18:02:44 - Backtester - INFO - Анализ сигналов в данных: {0: 1354, 1: 121, -1: 99}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для AFKS: {0: 96, -1: 5, 1: 3}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для AFLT: {0: 92, 1: 8, -1: 3}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для ALRS: {0: 94, -1: 10}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для CBOM: {0: 97, 1: 3, -1: 3}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для GAZP: {0: 85, 1: 11, -1: 7}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для GMKN: {0: 101, 1: 2, -1: 1}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для LKOH: {0: 16, -1: 8, 1: 1}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для MAGN: {0: 97, -1: 5, 1: 2}
2025-04-29 18:02:44 - Backtester - INFO - Сигналы для MTSS: {0: 73, 1: 5, -1: 4}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для MVID: {0: 16, -1: 8, 1: 1}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для NVTK: {0: 24, 1: 1}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для PHOR: {0: 82, -1: 15, 1: 7}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для PLZL: {0: 79, 1: 19}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для POSI: {0: 77, -1: 25, 1: 1}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для ROSN: {0: 20, 1: 5}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для RUAL: {0: 94, 1: 6, -1: 4}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для SBER: {0: 24, 1: 1}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для SIBN: {0: 84, 1: 19, -1: 1}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для SNGS: {0: 24, 1: 1}
2025-04-29 18:02:45 - Backtester - INFO - Сигналы для TATN: {0: 79, 1: 25}
2025-04-29 18:02:45 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 18:02:45 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 18:02:45 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 18:02:45 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 18:02:45 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 18:02:45 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 18:02:45 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 18:02:45 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 18:02:45 - Backtester - INFO -   AFKS: 8/104 ненулевых сигналов (7.7%)
2025-04-29 18:02:45 - Backtester - INFO -   AFLT: 11/103 ненулевых сигналов (10.7%)
2025-04-29 18:02:45 - Backtester - INFO -   ALRS: 10/104 ненулевых сигналов (9.6%)
2025-04-29 18:02:45 - Backtester - INFO -   CBOM: 6/103 ненулевых сигналов (5.8%)
2025-04-29 18:02:45 - Backtester - INFO -   GAZP: 18/103 ненулевых сигналов (17.5%)
2025-04-29 18:02:45 - Backtester - INFO -   GMKN: 3/104 ненулевых сигналов (2.9%)
2025-04-29 18:02:45 - Backtester - INFO -   LKOH: 9/25 ненулевых сигналов (36.0%)
2025-04-29 18:02:45 - Backtester - INFO -   MAGN: 7/104 ненулевых сигналов (6.7%)
2025-04-29 18:02:45 - Backtester - INFO -   MTSS: 9/82 ненулевых сигналов (11.0%)
2025-04-29 18:02:45 - Backtester - INFO -   MVID: 9/25 ненулевых сигналов (36.0%)
2025-04-29 18:02:45 - Backtester - INFO -   NVTK: 1/25 ненулевых сигналов (4.0%)
2025-04-29 18:02:45 - Backtester - INFO -   PHOR: 22/104 ненулевых сигналов (21.2%)
2025-04-29 18:02:45 - Backtester - INFO -   PLZL: 19/98 ненулевых сигналов (19.4%)
2025-04-29 18:02:45 - Backtester - INFO -   POSI: 26/103 ненулевых сигналов (25.2%)
2025-04-29 18:02:45 - Backtester - INFO -   ROSN: 5/25 ненулевых сигналов (20.0%)
2025-04-29 18:02:45 - Backtester - INFO -   RUAL: 10/104 ненулевых сигналов (9.6%)
2025-04-29 18:02:45 - Backtester - INFO -   SBER: 1/25 ненулевых сигналов (4.0%)
2025-04-29 18:02:45 - Backtester - INFO -   SIBN: 20/104 ненулевых сигналов (19.2%)
2025-04-29 18:02:45 - Backtester - INFO -   SNGS: 1/25 ненулевых сигналов (4.0%)
2025-04-29 18:02:45 - Backtester - INFO -   TATN: 25/104 ненулевых сигналов (24.0%)
2025-04-29 18:02:45 - Backtester - INFO - Тикер AFLT: 12/103 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 18:02:45 - Backtester - INFO - Тикер CBOM: 7/103 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, -0.0, 0.0, -0.0, 0.0]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 18:02:45 - Backtester - INFO - Тикер PHOR: 23/104 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.0, -0.0, -0.0, 0.0]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 18:02:45 - Backtester - INFO - Тикер PLZL: 19/98 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 18:02:45 - Backtester - INFO - Тикер RUAL: 11/104 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.0, -0.0, -0.0, -0.0]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 18:02:45 - Backtester - INFO - Тикер SBER: 2/25 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, nan, nan, nan, nan]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 18:02:45 - Backtester - INFO - Тикер TATN: 24/104 ненулевых strategy_return
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0, -0.0007477194556602118, -0.0, -0.0]
2025-04-29 18:02:45 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 18:02:45 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 18:02:45 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 18:02:45 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 18:02:45 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 18:02:45 - Backtester - INFO - Портфельная доходность: 104/104 ненулевых значений
2025-04-29 18:02:45 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, 8.61083810813401e-05, -1.6849374702627068e-06, 8.61083810813401e-05, 8.61083810813401e-05]
2025-04-29 18:02:45 - Backtester - INFO - Рассчитана доходность портфеля за 104 дней
2025-04-29 18:02:45 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 18:02:45 - Backtester - INFO - Кумулятивная доходность: 1.12%, Годовая доходность: 2.74%, Шарп: -1.00, Макс. просадка: -3.07%
2025-04-29 18:02:45 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 18:02:45 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/cumulative_return.png
2025-04-29 18:02:45 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/drawdown.png
2025-04-29 18:02:45 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/returns_distribution.png
2025-04-29 18:02:45 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/portfolio_structure.png
2025-04-29 18:02:45 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest/monthly_returns_calendar.png
2025-04-29 18:02:45 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/test_backtest
2025-04-29 18:02:45 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 18:02:45 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_signals_20250429_180119.csv
2025-04-29 18:02:46 - Backtester - INFO - Загружено 5463 строк данных по акциям
2025-04-29 18:02:46 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2024-12-31
2025-04-29 18:02:46 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 18:02:46 - Backtester - INFO - Анализ сигналов в данных: {0: 4689, 1: 395, -1: 379}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для AFKS: {0: 325, -1: 31, 1: 9}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для AFLT: {0: 324, 1: 27, -1: 14}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для ALRS: {0: 340, -1: 17, 1: 8}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для CBOM: {0: 306, 1: 17, -1: 15}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для GAZP: {0: 313, -1: 32, 1: 20}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для GMKN: {0: 340, -1: 15, 1: 4}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для LKOH: {0: 67, 1: 13, -1: 4}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для MAGN: {0: 325, -1: 28, 1: 10}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для MTSS: {0: 214, -1: 21, 1: 20}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для MVID: {0: 70, -1: 14}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для NVTK: {0: 68, -1: 16}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для PHOR: {0: 280, -1: 43, 1: 42}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для PLZL: {0: 299, 1: 49, -1: 17}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для POSI: {0: 297, 1: 35, -1: 33}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для ROSN: {0: 69, -1: 14, 1: 1}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для RUAL: {0: 330, -1: 25, 1: 10}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для SBER: {0: 81, -1: 2, 1: 1}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для SIBN: {0: 282, 1: 59, -1: 20}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для SNGS: {0: 82, -1: 2}
2025-04-29 18:02:46 - Backtester - INFO - Сигналы для TATN: {0: 277, 1: 70, -1: 16}
2025-04-29 18:02:46 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 18:02:46 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 18:02:46 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 18:02:46 - Backtester - INFO - Веса акций: {'AFKS': np.float64(0.0), 'AFLT': np.float64(0.13999999999999999), 'ALRS': np.float64(0.0), 'CBOM': np.float64(0.032046664258623875), 'GAZP': np.float64(0.0), 'GMKN': np.float64(0.0), 'LKOH': np.float64(0.0), 'MAGN': np.float64(0.0), 'MTSS': np.float64(0.0), 'MVID': np.float64(0.0), 'NVTK': np.float64(0.0), 'PHOR': np.float64(0.05833501673223629), 'PLZL': np.float64(0.13999999999999999), 'POSI': np.float64(0.0), 'ROSN': np.float64(2.241787388980831e-15), 'RUAL': np.float64(0.07220353477855333), 'SBER': np.float64(0.13999999999999999), 'SIBN': np.float64(0.0), 'SNGS': np.float64(0.0), 'TATN': np.float64(0.11741478423091745)}
2025-04-29 18:02:46 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 18:02:46 - Backtester - INFO - Тикеров в весах портфеля: 20
2025-04-29 18:02:46 - Backtester - INFO - Совпадающих тикеров: 20
2025-04-29 18:02:46 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 18:02:46 - Backtester - INFO -   AFKS: 40/365 ненулевых сигналов (11.0%)
2025-04-29 18:02:46 - Backtester - INFO -   AFLT: 41/365 ненулевых сигналов (11.2%)
2025-04-29 18:02:46 - Backtester - INFO -   ALRS: 25/365 ненулевых сигналов (6.8%)
2025-04-29 18:02:46 - Backtester - INFO -   CBOM: 32/338 ненулевых сигналов (9.5%)
2025-04-29 18:02:46 - Backtester - INFO -   GAZP: 52/365 ненулевых сигналов (14.2%)
2025-04-29 18:02:46 - Backtester - INFO -   GMKN: 19/359 ненулевых сигналов (5.3%)
2025-04-29 18:02:46 - Backtester - INFO -   LKOH: 17/84 ненулевых сигналов (20.2%)
2025-04-29 18:02:46 - Backtester - INFO -   MAGN: 38/363 ненулевых сигналов (10.5%)
2025-04-29 18:02:46 - Backtester - INFO -   MTSS: 41/255 ненулевых сигналов (16.1%)
2025-04-29 18:02:46 - Backtester - INFO -   MVID: 14/84 ненулевых сигналов (16.7%)
2025-04-29 18:02:46 - Backtester - INFO -   NVTK: 16/84 ненулевых сигналов (19.0%)
2025-04-29 18:02:46 - Backtester - INFO -   PHOR: 85/365 ненулевых сигналов (23.3%)
2025-04-29 18:02:46 - Backtester - INFO -   PLZL: 66/365 ненулевых сигналов (18.1%)
2025-04-29 18:02:46 - Backtester - INFO -   POSI: 68/365 ненулевых сигналов (18.6%)
2025-04-29 18:02:46 - Backtester - INFO -   ROSN: 15/84 ненулевых сигналов (17.9%)
2025-04-29 18:02:46 - Backtester - INFO -   RUAL: 35/365 ненулевых сигналов (9.6%)
2025-04-29 18:02:46 - Backtester - INFO -   SBER: 3/84 ненулевых сигналов (3.6%)
2025-04-29 18:02:46 - Backtester - INFO -   SIBN: 79/361 ненулевых сигналов (21.9%)
2025-04-29 18:02:46 - Backtester - INFO -   SNGS: 2/84 ненулевых сигналов (2.4%)
2025-04-29 18:02:46 - Backtester - INFO -   TATN: 86/363 ненулевых сигналов (23.7%)
2025-04-29 18:02:46 - Backtester - INFO - Тикер AFLT: 41/365 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 18:02:46 - Backtester - INFO - Тикер CBOM: 33/338 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для CBOM: [nan, nan, 0.00865051903114189, 0.005858888057840961, nan]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер CBOM с ДЛИННОЙ позицией, вес: 0.0320
2025-04-29 18:02:46 - Backtester - INFO - Тикер PHOR: 85/365 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для PHOR: [nan, -0.010310841546626204, 0.0021011556355995387, -0.00240637689878187, -0.0034508627156788485]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер PHOR с ДЛИННОЙ позицией, вес: 0.0583
2025-04-29 18:02:46 - Backtester - INFO - Тикер PLZL: 67/365 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 18:02:46 - Backtester - INFO - Тикер RUAL: 36/365 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.0722
2025-04-29 18:02:46 - Backtester - INFO - Тикер SBER: 3/84 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, 0.0, -0.0, -0.0, 0.0]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1400
2025-04-29 18:02:46 - Backtester - INFO - Тикер TATN: 86/363 ненулевых strategy_return
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 18:02:46 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1174
2025-04-29 18:02:46 - Backtester - INFO - Всего добавлено 7 акций в портфель
2025-04-29 18:02:46 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 18:02:46 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 18:02:46 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 18:02:46 - Backtester - INFO - Портфельная доходность: 365/365 ненулевых значений
2025-04-29 18:02:46 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.006332056884570295, -0.0008485091937166377, -0.00356892606932102, -0.0011949714042497686]
2025-04-29 18:02:46 - Backtester - INFO - Рассчитана доходность портфеля за 365 дней
2025-04-29 18:02:46 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 18:02:46 - Backtester - INFO - Кумулятивная доходность: 0.30%, Годовая доходность: 0.21%, Шарп: -1.78, Макс. просадка: -5.85%
2025-04-29 18:02:46 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 18:02:46 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/cumulative_return.png
2025-04-29 18:02:46 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/drawdown.png
2025-04-29 18:02:46 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/returns_distribution.png
2025-04-29 18:02:47 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/portfolio_structure.png
2025-04-29 18:02:47 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest/monthly_returns_calendar.png
2025-04-29 18:02:47 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/honest_backtest/train_backtest
2025-04-29 18:03:39 - Backtester - INFO - Запуск пайплайна бэктестирования
2025-04-29 18:03:39 - Backtester - INFO - Загрузка данных по акциям из /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/signals/production_signals.csv
2025-04-29 18:03:40 - Backtester - INFO - Загружено 7152 строк данных по акциям
2025-04-29 18:03:40 - Backtester - INFO - Период бэктеста: 2024-01-02 - 2025-04-28
2025-04-29 18:03:40 - Backtester - INFO - Расчет доходностей по тикерам
2025-04-29 18:03:40 - Backtester - INFO - Анализ сигналов в данных: {0: 6145, 1: 509, -1: 498}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для AFKS: {0: 434, -1: 35, 1: 13}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для AFLT: {0: 415, 1: 36, -1: 17}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для ALRS: {0: 452, -1: 24, 1: 6}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для CBOM: {0: 402, 1: 21, -1: 18}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для GAZP: {0: 401, -1: 37, 1: 30}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для GMKN: {0: 453, -1: 16, 1: 7}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для LKOH: {0: 84, 1: 13, -1: 12}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для MAGN: {0: 436, -1: 32, 1: 12}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для MTSS: {0: 300, -1: 24, 1: 24}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для MVID: {0: 86, -1: 22, 1: 1}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для NVTK: {0: 91, -1: 16, 1: 2}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для PHOR: {0: 371, -1: 61, 1: 50}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для PLZL: {0: 379, 1: 66, -1: 18}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для POSI: {0: 378, -1: 59, 1: 31}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для ROSN: {0: 87, -1: 14, 1: 8}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для RUAL: {0: 436, -1: 30, 1: 16}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для SBER: {0: 92, -1: 14, 1: 3}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для SIBN: {0: 383, 1: 74, -1: 21}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для SNGS: {0: 96, -1: 12, 1: 1}
2025-04-29 18:03:40 - Backtester - INFO - Сигналы для TATN: {0: 369, 1: 95, -1: 16}
2025-04-29 18:03:40 - Backtester - INFO - Рассчитаны доходности для 20 тикеров
2025-04-29 18:03:40 - Backtester - INFO - Расчет доходности портфеля
2025-04-29 18:03:40 - Backtester - INFO - Анализ структуры портфельных весов:
2025-04-29 18:03:40 - Backtester - INFO - Веса акций: {'AFLT': np.float64(0.15334198359038717), 'PLZL': np.float64(0.15334198359032827), 'RUAL': np.float64(0.12749709910692722), 'SBER': np.float64(0.1533419835906034), 'TATN': np.float64(0.11247695012175393)}
2025-04-29 18:03:40 - Backtester - INFO - Доступно тикеров в данных: 20
2025-04-29 18:03:40 - Backtester - INFO - Тикеров в весах портфеля: 5
2025-04-29 18:03:40 - Backtester - INFO - Совпадающих тикеров: 5
2025-04-29 18:03:40 - Backtester - WARNING - Тикеры в данных, отсутствующие в весах: {'MVID', 'GAZP', 'SNGS', 'MTSS', 'ALRS', 'MAGN', 'GMKN', 'NVTK', 'POSI', 'CBOM', 'LKOH', 'PHOR', 'AFKS', 'SIBN', 'ROSN'}
2025-04-29 18:03:40 - Backtester - INFO - Статистика сигналов в данных:
2025-04-29 18:03:40 - Backtester - INFO -   AFKS: 48/482 ненулевых сигналов (10.0%)
2025-04-29 18:03:40 - Backtester - INFO -   AFLT: 53/468 ненулевых сигналов (11.3%)
2025-04-29 18:03:40 - Backtester - INFO -   ALRS: 30/482 ненулевых сигналов (6.2%)
2025-04-29 18:03:40 - Backtester - INFO -   CBOM: 39/441 ненулевых сигналов (8.8%)
2025-04-29 18:03:40 - Backtester - INFO -   GAZP: 67/468 ненулевых сигналов (14.3%)
2025-04-29 18:03:40 - Backtester - INFO -   GMKN: 23/476 ненулевых сигналов (4.8%)
2025-04-29 18:03:40 - Backtester - INFO -   LKOH: 25/109 ненулевых сигналов (22.9%)
2025-04-29 18:03:40 - Backtester - INFO -   MAGN: 44/480 ненулевых сигналов (9.2%)
2025-04-29 18:03:40 - Backtester - INFO -   MTSS: 48/348 ненулевых сигналов (13.8%)
2025-04-29 18:03:40 - Backtester - INFO -   MVID: 23/109 ненулевых сигналов (21.1%)
2025-04-29 18:03:40 - Backtester - INFO -   NVTK: 18/109 ненулевых сигналов (16.5%)
2025-04-29 18:03:40 - Backtester - INFO -   PHOR: 111/482 ненулевых сигналов (23.0%)
2025-04-29 18:03:40 - Backtester - INFO -   PLZL: 84/463 ненулевых сигналов (18.1%)
2025-04-29 18:03:40 - Backtester - INFO -   POSI: 90/468 ненулевых сигналов (19.2%)
2025-04-29 18:03:40 - Backtester - INFO -   ROSN: 22/109 ненулевых сигналов (20.2%)
2025-04-29 18:03:40 - Backtester - INFO -   RUAL: 46/482 ненулевых сигналов (9.5%)
2025-04-29 18:03:40 - Backtester - INFO -   SBER: 17/109 ненулевых сигналов (15.6%)
2025-04-29 18:03:40 - Backtester - INFO -   SIBN: 95/478 ненулевых сигналов (19.9%)
2025-04-29 18:03:40 - Backtester - INFO -   SNGS: 13/109 ненулевых сигналов (11.9%)
2025-04-29 18:03:40 - Backtester - INFO -   TATN: 111/480 ненулевых сигналов (23.1%)
2025-04-29 18:03:40 - Backtester - INFO - Тикер AFLT: 53/468 ненулевых strategy_return
2025-04-29 18:03:40 - Backtester - INFO - Первые 5 значений strategy_return для AFLT: [nan, -0.017069701280227667, 0.005034965034965033, -0.035985380938993616, -0.0027137042062415073]
2025-04-29 18:03:40 - Backtester - INFO - Добавлен тикер AFLT с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 18:03:40 - Backtester - INFO - Тикер PLZL: 84/463 ненулевых strategy_return
2025-04-29 18:03:40 - Backtester - INFO - Первые 5 значений strategy_return для PLZL: [nan, -0.014995313964386137, -0.002954755309326096, 0.005707972749033341, -0.004629629629629539]
2025-04-29 18:03:40 - Backtester - INFO - Добавлен тикер PLZL с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 18:03:40 - Backtester - INFO - Тикер RUAL: 47/482 ненулевых strategy_return
2025-04-29 18:03:40 - Backtester - INFO - Первые 5 значений strategy_return для RUAL: [nan, -0.011363636363636465, -0.011235955056179803, 0.005413105413105579, -0.000716127184188009]
2025-04-29 18:03:40 - Backtester - INFO - Добавлен тикер RUAL с ДЛИННОЙ позицией, вес: 0.1275
2025-04-29 18:03:40 - Backtester - INFO - Тикер SBER: 18/109 ненулевых strategy_return
2025-04-29 18:03:40 - Backtester - INFO - Первые 5 значений strategy_return для SBER: [nan, -0.013735046521931915, 0.0016025641025640969, 0.0018240186779512335, -0.0009867699729551038]
2025-04-29 18:03:40 - Backtester - INFO - Добавлен тикер SBER с ДЛИННОЙ позицией, вес: 0.1533
2025-04-29 18:03:40 - Backtester - INFO - Тикер TATN: 111/480 ненулевых strategy_return
2025-04-29 18:03:40 - Backtester - INFO - Первые 5 значений strategy_return для TATN: [nan, -0.0043187517414322585, -0.006935774726036792, 0.00123984019837442, nan]
2025-04-29 18:03:40 - Backtester - INFO - Добавлен тикер TATN с ДЛИННОЙ позицией, вес: 0.1125
2025-04-29 18:03:40 - Backtester - INFO - Всего добавлено 5 акций в портфель
2025-04-29 18:03:40 - Backtester - INFO - Найдена безрисковая часть с весом 0.3000 без детализации
2025-04-29 18:03:40 - Backtester - INFO - Добавлена безрисковая часть с весом 0.3000 и ставкой 7.50% годовых
2025-04-29 18:03:40 - Backtester - INFO - Всего добавлено 1 облигаций в портфель
2025-04-29 18:03:40 - Backtester - INFO - Портфельная доходность: 482/482 ненулевых значений
2025-04-29 18:03:40 - Backtester - INFO - Первые 5 значений portfolio_return: [8.61083810813401e-05, -0.008871554634644074, -0.0015618342382616203, -0.003447382125077515, -0.001282550399053425]
2025-04-29 18:03:40 - Backtester - INFO - Рассчитана доходность портфеля за 482 дней
2025-04-29 18:03:40 - Backtester - INFO - Расчет метрик эффективности
2025-04-29 18:03:40 - Backtester - INFO - Кумулятивная доходность: -7.37%, Годовая доходность: -3.92%, Шарп: -1.78, Макс. просадка: -8.92%
2025-04-29 18:03:40 - Backtester - INFO - Создание визуализации результатов бэктеста
2025-04-29 18:03:41 - Backtester - INFO - График кумулятивной доходности сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/cumulative_return.png
2025-04-29 18:03:41 - Backtester - INFO - График просадок сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/drawdown.png
2025-04-29 18:03:41 - Backtester - INFO - График распределения доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/returns_distribution.png
2025-04-29 18:03:41 - Backtester - INFO - График структуры портфеля сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/portfolio_structure.png
2025-04-29 18:03:42 - Backtester - INFO - Календарь месячных доходностей сохранен в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest/monthly_returns_calendar.png
2025-04-29 18:03:42 - Backtester - INFO - Метрики и данные сохранены в /Users/aeshef/Desktop/FOR3.9TEST/kursach/data/pipeline_runs/run_20250429_180023_balanced_portfolio_0429_1751/shorts_portfolio/production_portfolio/backtest
